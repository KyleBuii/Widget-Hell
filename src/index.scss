/* z-index guide
0: Sliders
1: Stickers
2: DEFAULT
3: Popout
4: Setting Widget
5: Widget when dragging
6: Drag icon
7: Popup
8: Cursor
9: Transcript / Disclaimer
*/

:root {
    //#region Battery
    --gradient-color-green: linear-gradient(90deg,hsl(92,89%,46%) 15%,hsl(92,90%,68%)100%);
    --gradient-color-orange: linear-gradient(90deg, hsl(22,89%,46%) 15%,hsl(54,90%,68%)100%);
    --gradient-color-red: linear-gradient(90deg, hsl(7, 89%, 46%) 15%, hsl(11, 93%, 68%) 100%);
    --gradient-color-yellow: linear-gradient(90deg,hsl(54,89%,46%) 15%,hsl(92,90%,45%)100%);
    //#endregion

    //#region D-pad
    --arrow-active-color: #fff;
    --arrowcolor: var(--randColorLight);
    --dpad-arrow-move: 35%;
    --dpad-arrow-shift: 5px;
    --dpad-bg: #fff;
    --dpad-fg: var(--randColor);
    --dpad-radius-in: 20%;
    --dpad-radius: 17%;
    --tri-lrg-a: 13px;
    --tri-lrg-b: 19px;
    --tri-sml-a: 13px;
    --tri-sml-b: 19px;
    //#endregion

    //#region Pokemon card
    --angle: 133deg;
    --background-x: var(--pointer-x);
    --background-y: var(--pointer-y);
    --blue: #0dbde9;
    --card-background-color: white;
    --card-edge: hsl(47, 100%, 78%);
    --card-glow: hsl(175, 100%, 90%);
    --card-opacity: 0;
    --card-radius: 4.55% / 3.5%;
    --card-scale: 1;
    --clip-invert: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%, 0 47.15%, 91.5% 47.15%, 91.5% 9.85%, 8% 9.85%, 8% 47.15%, 0 50%);
    --clip: inset( 8% 6% 52% 6% );
    --cosmosbg: ;
    --foil-brightness: 0.55;
    --glitter: url("/resources/pokemon/rarity/glitter.webp");
    --glittersize: 25%;
    --grain: url("/resources/pokemon/rarity/grain.webp");
    --green: #21e985;
    --imgsize: cover;
    --pointer-from-center: 0;    
    --pointer-from-left: var(--pointer-from-center);
    --pointer-from-top: var(--pointer-from-center);
    --pointer-x: 50%;
    --pointer-y: 50%;
    --red: #f80e35;
    --rotate-x: 0deg;
    --rotate-y: 0deg;
    --space: 5%;
    --sunpillar-1: hsl(2, 100%, 73%);
    --sunpillar-2: hsl(53, 100%, 69%);
    --sunpillar-3: hsl(93, 100%, 69%);
    --sunpillar-4: hsl(176, 100%, 76%);
    --sunpillar-5: hsl(228, 100%, 74%);
    --sunpillar-6: hsl(283, 100%, 73%);
    --sunpillar-clr-1: var(--sunpillar-1);
    --sunpillar-clr-2: var(--sunpillar-2);
    --sunpillar-clr-3: var(--sunpillar-3);
    --sunpillar-clr-4: var(--sunpillar-4);
    --sunpillar-clr-5: var(--sunpillar-5);
    --sunpillar-clr-6: var(--sunpillar-6);
    --translate-x: 0px;
    --translate-y: 0px;
    --violet: #c929f1;
    --yellow: #eedf10;
    //#endregion

    //#region Cursors
    --cursorCrosshair   : ;
    --cursorDefault     : ;
    --cursorGrab        : ;
    --cursorGrabbing    : ;
    --cursorHelp        : ;
    --cursorLocation    : ;
    --cursorMove        : ;
    --cursorNotAllowed  : ;
    --cursorPen         : ;
    --cursorPerson      : ;
    --cursorPointer     : ;
    --cursorResizeEW    : ;
    --cursorResizeNESW  : ;
    --cursorResizeNS    : ;
    --cursorResizeNWSE  : ;
    --cursorText        : ;
    --cursorWait        : ;
    --cursorZoomIn      : ;
    --cursorZoomOut     : ;
    //#endregion

    --randColor        : ;
    --randColorLight   : ;
    --randColorOpacity : ;

    --guideSize: 12px;

    --animeSearcherCoverColor: ;
    --animeSearcherTopOffset: ;
}

//////////////////// Element Selectors ////////////////////
//#region
body {
    font-family: system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    touch-action: manipulation;
    overflow: hidden;
    margin: 0rem;
}

input {
    color: var(--randColor);
}

input[type='checkbox'], input[type='radio'] {
    position: relative;
    transition: box-shadow 0.3s;

    &::after {
        content: '';
        position: absolute;
        inset: -4px;
        border: 3px solid rgba(0, 85, 255, 0.8);
        border-radius: 4px;
        opacity: 0;
        transition: opacity 0.3s;
    }

    &:focus-visible {
        outline: none;

        &::after {
            opacity: 1;
        }
    }
}
//#endregion


//////////////////// Mixins ////////////////////
//#region
@mixin circle-color($color) {
    background-color: $color;
    box-shadow: 1px 1px 5px $color;
}

@mixin grid-auto($columns) {
    display: grid;
    grid-template-columns: repeat($columns, auto);
}

@mixin grid-auto-fill($min) {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax($min, 1fr));
}

@mixin grid-auto-row($rows) {
    display: grid;
    grid-template-rows: repeat($rows, auto);
    grid-auto-flow: column;
}

@mixin slide-on-hover($height, $width, $speed: 2s) {
    position: relative;
    height: $height;
    max-width: $width;
    overflow: hidden;

    span {
        position: absolute;
        white-space: nowrap;
        transition: translate $speed;

        &:hover {
            translate: calc($width - 100%) 0;
        }
    }
}
//#endregion


//////////////////// Variables ////////////////////
//#region
$cursor-crosshair   : '';
$cursor-grab        : '';
$cursor-grabbing    : '';
$cursor-help        : '.help-element';
$cursor-location    : '';
$cursor-move        : '';
$cursor-not-allowed : 'button:disabled, input:disabled, .disabled-element, .rc-slider-disabled';
$cursor-pen         : '';
$cursor-person      : '';
$cursor-pointer     : 'button, a, input, textarea, .toggleable, .simplebar-scrollable-y';
$cursor-resize-ew   : '';
$cursor-resize-nesw : '';
$cursor-resize-ns   : '';
$cursor-resize-nwse : '';
$cursor-text        : 'input[type='text'], textarea, .input-match, .select-match';
$cursor-wait        : '';
$cursor-zoom-in     : '';
$cursor-zoom-out    : '';

$cursor-selectors: (
    cursorCrosshair  : $cursor-crosshair,
    cursorGrab       : $cursor-grab,
    cursorGrabbing   : $cursor-grabbing,
    cursorHelp       : $cursor-help,
    cursorLocation   : $cursor-location,
    cursorMove       : $cursor-move,
    cursorNotAllowed : $cursor-not-allowed,
    cursorPen        : $cursor-pen,
    cursorPerson     : $cursor-person,
    cursorPointer    : $cursor-pointer,
    cursorText       : $cursor-text,
    cursorResizeEW   : $cursor-resize-ew,
    cursorResizeNESW : $cursor-resize-nesw,
    cursorResizeNS   : $cursor-resize-ns,
    cursorResizeNWSE : $cursor-resize-nwse,
    cursorWait       : $cursor-wait,
    cursorZoomIn     : $cursor-zoom-in,
    cursorZoomOut    : $cursor-zoom-out
);
//#endregion


//////////////////// Classes ////////////////////
//#region
//#region Accessibility
.reduced-motion {
    *, *::before, *::after {
        animation-duration: 0.01ms impr !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}

.screen-reader-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}
//#endregion

//#region Backgrounds
.background-default {
    background-color: var(--randColor);
    background-image: none;
}

.background-white {
    background-color: white;
}

.background-linear-gradient {
    background-image: linear-gradient(var(--randColor)
        , var(--randColorLight));
}

.background-diagonal {
    background: repeating-linear-gradient(-55deg,
        rgba(var(--randColorOpacity), 0.5),
        rgba(var(--randColorOpacity), 0.5) 10px,
        var(--randColor) 10px,
        var(--randColor) 20px);
}

.background-microbial-mat {
    /// Made by Logan McBroom
    background:
        radial-gradient(circle at 0% 50%,
            rgba(96, 16, 48, 0) 9px,
            #613 10px,
            rgba(96, 16, 48, 0) 11px) 0px 10px,
        radial-gradient(at 100% 100%,
            rgba(96, 16, 48, 0) 9px,
            #613 10px,
            rgba(96, 16, 48, 0) 11px),
            var(--randColor);
    background-size: 20px 20px;
}

.background-stairs {
    /// Made by Logan McBroom
    background:
        linear-gradient(63deg,
            var(--randColorLight) 23%,
            transparent 23%) 7px 0,
        linear-gradient(63deg,
            transparent 74%,
            var(--randColorLight) 78%),
        linear-gradient(63deg,
            transparent 34%,
            var(--randColorLight) 38%,
            var(--randColorLight) 58%,
            transparent 62%),
            var(--randColor);
    background-size: 16px 48px;
}

.background-half-rombes {
    /// Made by Valentin Agachi
    background:
        linear-gradient(115deg,
            transparent 75%,
            rgba(255,255,255,.8) 75%) 0 0,
        linear-gradient(245deg,
            transparent 75%,
            rgba(255,255,255,.8) 75%) 0 0,
        linear-gradient(115deg,
            transparent 75%,
            rgba(255,255,255,.8) 75%) 7px -15px,
        linear-gradient(245deg,
            transparent 75%,
            rgba(255,255,255,.8) 75%) 7px -15px,
            var(--randColor);
    background-size: 15px 30px;
}

.background-arrows {
    /// Made by Jeroen Franse
    background:
        linear-gradient(45deg,
            var(--randColor) 45px,
            transparent 45px)64px 64px,
        linear-gradient(45deg,
            var(--randColor) 45px,
            transparent 45px,
            transparent 91px,
            var(--randColorLight) 91px,
            var(--randColorLight) 135px,
            transparent 135px),
        linear-gradient(-45deg,
            var(--randColor) 23px,
            transparent 23px,
            transparent 68px,
            var(--randColor) 68px,
            var(--randColor) 113px,
            transparent 113px,
            transparent 158px,
            var(--randColor) 158px);
    background-color: var(--randColorLight);
    background-size: 128px 128px;
}

.background-zig-zag {
    /// Made by eCSSpert
    background:
        linear-gradient(135deg,
            var(--randColorLight) 25%,
            transparent 25%) -50px 0,
        linear-gradient(225deg,
            var(--randColorLight) 25%,
            transparent 25%) -50px 0,
        linear-gradient(315deg,
            var(--randColorLight) 25%,
            transparent 25%),
        linear-gradient(45deg,
            var(--randColorLight) 25%,
            transparent 25%);
    background-size: 100px 100px;
    background-color: var(--randColor);
}

.background-weave {
    /// Made by Jeroen Franse
    background:
        linear-gradient(135deg,
            var(--randColor) 21px,
            #d9ecff 22px,
            #d9ecff 24px,
            transparent 24px,
            transparent 67px,
            #d9ecff 67px,
            #d9ecff 69px,
            transparent 69px),
        linear-gradient(225deg,
            var(--randColor) 21px,
            #d9ecff 22px,
            #d9ecff 24px,
            transparent 24px,
            transparent 67px,
            #d9ecff 67px,
            #d9ecff 69px,
            transparent 69px)0 64px;
    background-color: var(--randColor);
    background-size: 64px 128px;
}

.background-upholstery {
    /// Made by Nate Eagle
    background:
        radial-gradient(hsl(0, 100%, 27%) 4%,
            hsl(0, 100%, 18%) 9%,
            hsla(0, 100%, 20%, 0) 9%) 0 0,
        radial-gradient(hsl(0, 100%, 27%) 4%,
            hsl(0, 100%, 18%) 8%,
            hsla(0, 100%, 20%, 0) 10%) 50px 50px,
        radial-gradient(hsla(0, 100%, 30%, 0.8) 20%,
            hsla(0, 100%, 20%, 0)) 50px 0,
        radial-gradient(hsla(0, 100%, 30%, 0.8) 20%,
            hsla(0, 100%, 20%, 0)) 0 50px,
        radial-gradient(hsla(0, 100%, 20%, 1) 35%,
            hsla(0, 100%, 20%, 0) 60%) 50px 0,
        radial-gradient(hsla(0, 100%, 20%, 1) 35%,
            hsla(0, 100%, 20%, 0) 60%) 100px 50px,
        radial-gradient(hsla(0, 100%, 15%, 0.7),
            hsla(0, 100%, 20%, 0)) 0 0,
        radial-gradient(hsla(0, 100%, 15%, 0.7),
            hsla(0, 100%, 20%, 0)) 50px 50px,
        linear-gradient(45deg,
            hsla(0, 100%, 20%, 0) 49%,
            hsla(0, 100%, 0%, 1) 50%,
            hsla(0, 100%, 20%, 0) 70%) 0 0,
        linear-gradient(-45deg,
            hsla(0, 100%, 20%, 0) 49%,
            hsla(0, 100%, 0%, 1) 50%,
            hsla(0, 100%, 20%, 0) 70%) 0 0;
    background-color: #300;
    background-size: 100px 100px;
}

.background-starry-night {
    /// Made by Lea Verou
    background-color:black;
    background-image:
        radial-gradient(white,
            rgba(255,255,255,.2) 2px,
            transparent 40px),
        radial-gradient(white,
            rgba(255,255,255,.15) 1px,
            transparent 30px),
        radial-gradient(white,
            rgba(255,255,255,.1) 2px,
            transparent 40px),
        radial-gradient(rgba(255,255,255,.4),
            rgba(255,255,255,.1) 2px,
            transparent 30px);
    background-size: 550px 550px, 350px 350px, 250px 250px, 150px 150px;
    background-position: 0 0, 40px 60px, 130px 270px, 70px 100px;
}

.background-marrakesh {
    /// Made by Divya Manian
    background-color: white;
    background-image:
        radial-gradient(
            var(--randColor) 9px,
            transparent 10px),
        repeating-radial-gradient(
            var(--randColor) 0,
            var(--randColor) 4px,
            transparent 5px,
            transparent 20px,
            var(--randColor) 21px,
            var(--randColor) 25px,
            transparent 26px,
            transparent 50px);
    background-size: 30px 30px, 90px 90px;
    background-position: 0 0;
}

.background-rainbow-bokeh {
    /// Made by Auke Zwart
    background:
        radial-gradient(rgba(255,255,255,0) 0,
            rgba(255,255,255,.15) 30%,
            rgba(255,255,255,.3) 32%,
            rgba(255,255,255,0) 33%) 0 0,
        radial-gradient(rgba(255,255,255,0) 0,
            rgba(255,255,255,.1) 11%,
            rgba(255,255,255,.3) 13%,
            rgba(255,255,255,0) 14%) 0 0,
        radial-gradient(rgba(255,255,255,0) 0,
            rgba(255,255,255,.2) 17%,
            rgba(255,255,255,.43) 19%,
            rgba(255,255,255,0) 20%) 0 110px,
        radial-gradient(rgba(255,255,255,0) 0, rgba(255,255,255,.2) 11%, rgba(255,255,255,.4) 13%, rgba(255,255,255,0) 14%) -130px -170px,
        radial-gradient(rgba(255,255,255,0) 0, rgba(255,255,255,.2) 11%, rgba(255,255,255,.4) 13%, rgba(255,255,255,0) 14%) 130px 370px,
        radial-gradient(rgba(255,255,255,0) 0, rgba(255,255,255,.1) 11%, rgba(255,255,255,.2) 13%, rgba(255,255,255,0) 14%) 0 0,
        linear-gradient(45deg, #343702 0%, #184500 20%, #187546 30%, #006782 40%, #0b1284 50%, #760ea1 60%, #83096e 70%, #840b2a 80%, #b13e12 90%, #e27412 100%);
    background-size: 470px 470px, 970px 970px, 410px 410px, 610px 610px, 530px 530px, 730px 730px, 100% 100%;
    background-color: #840b2a;
}

.background-carbon {
    /// Made by Atle Mo (design), SÃ©bastien Grosjean (code)
    background:
        linear-gradient(27deg,
            #151515 5px,
            transparent 5px) 0 5px,
        linear-gradient(207deg,
            #151515 5px,
            transparent 5px) 10px 0px,
        linear-gradient(27deg,
            #222 5px,
            transparent 5px) 0px 10px,
        linear-gradient(207deg,
            #222 5px,
            transparent 5px) 10px 5px,
        linear-gradient(90deg,
            #1b1b1b 10px,
            transparent 10px),
        linear-gradient(#1d1d1d 25%,
            #1a1a1a 25%,
            #1a1a1a 50%,
            transparent 50%,
            transparent 75%,
            #242424 75%,
            #242424);
    background-color: #131313;
    background-size: 20px 20px;
}

.background-carbon-fibre {
    /// Made by Atle Mo (design), Lea Verou (code)
    background:
        radial-gradient(black 15%,
            transparent 16%) 0 0,
        radial-gradient(black 15%,
            transparent 16%) 8px 8px,
        radial-gradient(rgba(255,255,255,.1) 15%,
            transparent 20%) 0 1px,
        radial-gradient(rgba(255,255,255,.1) 15%,
            transparent 20%) 8px 9px;
    background-color: #282828;
    background-size: 16px 16px;
}

.background-hearts {
    /// Made by Lea Verou
    background:
        radial-gradient(circle closest-side at 60% 43%,
            var(--randColor) 26%,
            rgba(187,0,51,0) 27%),
        radial-gradient(circle closest-side at 40% 43%,
            var(--randColor) 26%,
            rgba(187,0,51,0) 27%),
        radial-gradient(circle closest-side at 42% 22%,
            var(--randColorLight) 43%,
            rgba(221,51,85,0) 45%),
        radial-gradient(circle closest-side at 58% 22%,
            var(--randColorLight) 43%,
            rgba(221,51,85,0) 45%),
        radial-gradient(circle closest-side at 50% 35%,
            var(--randColorLight) 32%,
            rgba(221,51,85,0) 27%),
        radial-gradient(circle closest-side at 60% 43%,
            var(--randColor) 26%,
            rgba(187,0,51,0) 27%) 50px 50px,
        radial-gradient(circle closest-side at 40% 43%,
            var(--randColor) 26%,
            rgba(187,0,51,0) 27%) 50px 50px,
        radial-gradient(circle closest-side at 40% 22%,
            var(--randColorLight) 40%,
            rgba(221,51,85,0) 45%) 52px 50px,
        radial-gradient(circle closest-side at 60% 22%,
            var(--randColorLight) 40%,
            rgba(221,51,85,0) 45%) 48px 50px,
        radial-gradient(circle closest-side at 50% 35%,
            var(--randColorLight) 30%,
            rgba(221,51,85,0) 37%) 50px 50px;
    background-color: var(--randColor);
    background-size: 100px 100px;
}

.background-argyle {
    /// Made by Anna Kassner
    background-color: var(--randColor);
    background-image: 
        repeating-linear-gradient(120deg,
            rgba(255,255,255,.1),
            rgba(255,255,255,.1) 1px,
            transparent 1px,
            transparent 60px),
        repeating-linear-gradient(60deg,
            rgba(255,255,255,.1),
            rgba(255,255,255,.1) 1px,
            transparent 1px,
            transparent 60px),
        linear-gradient(60deg,
            rgba(0,0,0,.1) 25%,
            transparent 25%,
            transparent 75%,
            rgba(0,0,0,.1) 75%,
            rgba(0,0,0,.1)),
        linear-gradient(120deg,
            rgba(0,0,0,.1) 25%,
            transparent 25%,
            transparent 75%,
            rgba(0,0,0,.1) 75%,
            rgba(0,0,0,.1));
    background-size: 70px 120px;
}

.background-steps {
    /// Made by Nicolas Gallagher
    background-color: var(--randColorLight);
    background-size: 58px 58px;
    background-position: 0px 2px, 4px 35px, 29px 31px, 33px 6px, 0px 36px, 4px 2px, 29px 6px, 33px 30px;
    background-image: 
        linear-gradient(335deg,
            var(--randColor) 23px,
            transparent 23px),
        linear-gradient(155deg, 
            var(--randColor) 23px,
            transparent 23px),
        linear-gradient(335deg, 
            var(--randColor) 23px,
            transparent 23px),
        linear-gradient(155deg, 
            var(--randColor) 23px,
            transparent 23px),
        linear-gradient(335deg, 
            var(--randColor) 10px,
            transparent 10px),
        linear-gradient(155deg, 
            var(--randColor) 10px,
            transparent 10px),
        linear-gradient(335deg, 
            var(--randColor) 10px,
            transparent 10px),
        linear-gradient(155deg, 
            var(--randColor) 10px,
            transparent 10px);
}

.background-waves {
    /// Made by Lea Verou
    background: 
        radial-gradient(circle at 100% 50%,
            transparent 20%,
            rgba(255,255,255,.3) 21%,
            rgba(255,255,255,.3) 34%,
            transparent 35%,
            transparent),
        radial-gradient(circle at 0% 50%,
            transparent 20%,
            rgba(255,255,255,.3) 21%,
            rgba(255,255,255,.3) 34%,
            transparent 35%,
            transparent) 0 -50px;
    background-color: var(--randColor);
    background-size: 75px 100px;
}

.background-cross {
    /// Made by Lea Verou
    background:
        radial-gradient(circle,
            transparent 20%,
            var(--randColor) 20%,
            var(--randColor) 80%,
            transparent 80%,
            transparent),
        radial-gradient(circle,
            transparent 20%,
            var(--randColor) 20%,
            var(--randColor) 80%,
            transparent 80%,
            transparent) 50px 50px,
        linear-gradient(
            #A8B1BB 8px,
            transparent 8px) 0 -4px,
        linear-gradient(90deg,
            #A8B1BB 8px,
            transparent 8px) -4px 0;
    background-color: var(--randColor);
    background-size: 100px 100px, 100px 100px, 50px 50px, 50px 50px;
}

.background-yin-yang {
    /// Made by Lea Verou
    background:
        radial-gradient(circle at 50% 59%,
            #D2CAAB 3%, 
            #364E27 4%,
            #364E27 11%,
            rgba(54,78,39,0) 12%,
            rgba(54,78,39,0)) 50px 0,
        radial-gradient(circle at 50% 41%, 
            #364E27 3%,
            #D2CAAB 4%,
            #D2CAAB 11%,
            rgba(210,202,171,0) 12%,
            rgba(210,202,171,0)) 50px 0,
        radial-gradient(circle at 50% 59%, 
            #D2CAAB 3%,
            #364E27 4%,
            #364E27 11%,
            rgba(54,78,39,0) 12%,
            rgba(54,78,39,0)) 0 50px,
        radial-gradient(circle at 50% 41%, 
            #364E27 3%,
            #D2CAAB 4%,
            #D2CAAB 11%,
            rgba(210,202,171,0) 12%,
            rgba(210,202,171,0)) 0 50px,
        radial-gradient(circle at 100% 50%,
            #D2CAAB 16%,
            rgba(210,202,171,0) 17%),
        radial-gradient(circle at 0% 50%,
            #364E27 16%,
            rgba(54,78,39,0) 17%),
        radial-gradient(circle at 100% 50%,
            #D2CAAB 16%,
            rgba(210,202,171,0) 17%) 50px 50px,
        radial-gradient(circle at 0% 50%,
            #364E27 16%,
            rgba(54,78,39,0) 17%) 50px 50px;
    background-color: var(--randColor);
    background-size: 100px 100px;
}

.background-stars {
    /// Made by Nicolas Gallagher
    background:
        linear-gradient(324deg, var(--randColor) 4%,   transparent 4%) -70px 43px,
        linear-gradient( 36deg, var(--randColor) 4%,   transparent 4%) 30px 43px,
        linear-gradient( 72deg, #e3d7bf 8.5%, transparent 8.5%) 30px 43px,
        linear-gradient(288deg, #e3d7bf 8.5%, transparent 8.5%) -70px 43px,
        linear-gradient(216deg, #e3d7bf 7.5%, transparent 7.5%) -70px 23px,
        linear-gradient(144deg, #e3d7bf 7.5%, transparent 7.5%) 30px 23px,
        linear-gradient(324deg, var(--randColor) 4%,   transparent 4%) -20px 93px,
        linear-gradient( 36deg, var(--randColor) 4%,   transparent 4%) 80px 93px,
        linear-gradient( 72deg, #e3d7bf 8.5%, transparent 8.5%) 80px 93px,
        linear-gradient(288deg, #e3d7bf 8.5%, transparent 8.5%) -20px 93px,
        linear-gradient(216deg, #e3d7bf 7.5%, transparent 7.5%) -20px 73px,
        linear-gradient(144deg, #e3d7bf 7.5%, transparent 7.5%) 80px 73px;
    background-color: var(--randColor);
    background-size: 100px 100px;
}

.background-brady-bunch {
    /// Made by Estelle Weyl
    background-image:
        radial-gradient(closest-side, transparent 0%, transparent 75%, #B6CC66 76%, #B6CC66 85%, #EDFFDB 86%, #EDFFDB 94%, #FFFFFF 95%, #FFFFFF 103%, #D9E6A7 104%, #D9E6A7 112%, #798B3C 113%, #798B3C 121%, #FFFFFF 122%, #FFFFFF 130%, #E0EAD7 131%, #E0EAD7 140%),
        radial-gradient(closest-side, transparent 0%, transparent 75%, #B6CC66 76%, #B6CC66 85%, #EDFFDB 86%, #EDFFDB 94%, #FFFFFF 95%, #FFFFFF 103%, #D9E6A7 104%, #D9E6A7 112%, #798B3C 113%, #798B3C 121%, #FFFFFF 122%, #FFFFFF 130%, #E0EAD7 131%, #E0EAD7 140%);
    background-size: 110px 110px;
    background-color: var(--randColor);
    background-position: 0 0, 55px 55px;
}

.background-shippo {
    /// Made by Lea Verou
    background-color: var(--randColor);
    background-image:
        radial-gradient(closest-side, transparent 98%, rgba(0,0,0,.3) 99%),
        radial-gradient(closest-side, transparent 98%, rgba(0,0,0,.3) 99%);
    background-size: 80px 80px;
    background-position: 0 0, 40px 40px;
}

.background-bricks {
    /// Made by Tab Atkins Jr
    background-color: silver;
    background-image:
        linear-gradient(335deg, #b00 23px, transparent 23px),
        linear-gradient(155deg, #d00 23px, transparent 23px),
        linear-gradient(335deg, #b00 23px, transparent 23px),
        linear-gradient(155deg, #d00 23px, transparent 23px);
    background-size: 58px 58px;
    background-position: 0px 2px, 4px 35px, 29px 31px, 34px 6px;
}

.background-seigaiha {
    /// Made by Lea Verou
    background-color: var(--randColor);
    background-image:
        radial-gradient(circle at 100% 150%, var(--randColor) 24%, white  24%, white  28%, var(--randColor) 28%, var(--randColor) 36%, white 36%,  white  40%, transparent 40%, transparent),
        radial-gradient(circle at 0    150%, var(--randColor) 24%, white  24%, white  28%, var(--randColor) 28%, var(--randColor) 36%, white 36%,  white  40%, transparent 40%, transparent),
        radial-gradient(circle at 50%  100%, white  10%, var(--randColor) 10%, var(--randColor) 23%, white  23%, white  30%, var(--randColor) 30%, var(--randColor) 43%, white     43%, white 50%, var(--randColor) 50%, var(--randColor) 63%, white 63%, white 71%, transparent 71%, transparent),
        radial-gradient(circle at 100% 50%,  white  5%,  var(--randColor) 5%,  var(--randColor) 15%, white  15%, white  20%, var(--randColor) 20%, var(--randColor) 29%, white     29%, white 34%, var(--randColor) 34%, var(--randColor) 44%, white 44%, white 49%, transparent 49%, transparent),
        radial-gradient(circle at 0    50%,  white  5%,  var(--randColor) 5%,  var(--randColor) 15%, white  15%, white  20%, var(--randColor) 20%, var(--randColor) 29%, white     29%, white 34%, var(--randColor) 34%, var(--randColor) 44%, white 44%, white 49%, transparent 49%, transparent);
    background-size: 100px 50px;
}

.background-japanese-cube {
    /// Made by Lea Verou
    background-color: rgba(var(--randColorOpacity), 0.9);
    background-image:
        linear-gradient(30deg,  var(--randColor) 12%, transparent 12.5%, transparent 87%, var(--randColor) 87.5%, var(--randColor)),
        linear-gradient(150deg, var(--randColor) 12%, transparent 12.5%, transparent 87%, var(--randColor) 87.5%, var(--randColor)),
        linear-gradient(30deg,  var(--randColor) 12%, transparent 12.5%, transparent 87%, var(--randColor) 87.5%, var(--randColor)),
        linear-gradient(150deg, var(--randColor) 12%, transparent 12.5%, transparent 87%, var(--randColor) 87.5%, var(--randColor)),
        linear-gradient(60deg,  var(--randColorLight) 25%, transparent 25.5%, transparent 75%, var(--randColorLight) 75%,   var(--randColorLight)),
        linear-gradient(60deg,  var(--randColorLight) 25%, transparent 25.5%, transparent 75%, var(--randColorLight) 75%,   var(--randColorLight));
    background-size: 80px 140px;
    background-position: 0 0, 0 0, 40px 70px, 40px 70px, 0 0, 40px 70px;
}

.background-polka-dot {
    /// Made by Lea Verou
    background-color: var(--randColor);
    background-image:
        radial-gradient(white 15%, transparent 16%),
        radial-gradient(white 15%, transparent 16%);
    background-size: 60px 60px;
    background-position: 0 0, 30px 30px;
}

.background-houndstooth {
    /// Made by Antoine Bernier
    background:
        linear-gradient(-45deg, white 25%, transparent 25%, transparent 75%, var(--randColor) 75%, var(--randColor)) 0 0,
        linear-gradient(-45deg, var(--randColor) 25%, transparent 25%, transparent 75%, white 75%, white) 1em 1em,
        linear-gradient(45deg,  var(--randColor) 17%, transparent 17%, transparent 25%, var(--randColor)   25%,   var(--randColor) 36%, transparent 36%, transparent 64%, var(--randColor) 64%, var(--randColor) 75%, transparent 75%, transparent 83%, var(--randColor) 83%) 1em 1em;
    background-color: white;
    background-size: 2em 2em;
}

.background-checkerboard {
    /// Made by Lea Verou
    background-color: var(--randColor);
    background-image:
        linear-gradient(45deg, black 25%, transparent 25%, transparent 75%, black 75%, black),
        linear-gradient(45deg, black 25%, transparent 25%, transparent 75%, black 75%, black);
    background-size: 60px 60px;
    background-position: 0 0, 30px 30px;
}

.background-diagonal-checkerboard {
    /// Made by Lea Verou
    background-color: var(--randColor);
    background-image:
        linear-gradient(45deg,  black 25%, transparent 25%, transparent 75%, black 75%, black),
        linear-gradient(-45deg, black 25%, transparent 25%, transparent 75%, black 75%, black);
    background-size: 60px 60px;
}

.background-tartan {
    /// Made by Marta Armada
    background-color: var(--randColor);
    background-image:
        repeating-linear-gradient(transparent, transparent 50px, rgba(0,0,0,.4) 50px, rgba(0,0,0,.4) 53px, transparent 53px, transparent 63px, rgba(0,0,0,.4) 63px, rgba(0,0,0,.4) 66px, transparent 66px, transparent 116px, rgba(0,0,0,.5) 116px, rgba(0,0,0,.5) 166px, rgba(255,255,255,.2) 166px, rgba(255,255,255,.2) 169px, rgba(0,0,0,.5) 169px, rgba(0,0,0,.5) 179px, rgba(255,255,255,.2) 179px, rgba(255,255,255,.2) 182px, rgba(0,0,0,.5) 182px, rgba(0,0,0,.5) 232px, transparent 232px),
        repeating-linear-gradient(270deg, transparent, transparent 50px, rgba(0,0,0,.4) 50px, rgba(0,0,0,.4) 53px, transparent 53px, transparent 63px, rgba(0,0,0,.4) 63px, rgba(0,0,0,.4) 66px, transparent 66px, transparent 116px, rgba(0,0,0,.5) 116px, rgba(0,0,0,.5) 166px, rgba(255,255,255,.2) 166px, rgba(255,255,255,.2) 169px, rgba(0,0,0,.5) 169px, rgba(0,0,0,.5) 179px, rgba(255,255,255,.2) 179px, rgba(255,255,255,.2) 182px, rgba(0,0,0,.5) 182px, rgba(0,0,0,.5) 232px, transparent 232px),
        repeating-linear-gradient(125deg, transparent, transparent 2px, rgba(0,0,0,.2) 2px, rgba(0,0,0,.2) 3px, transparent 3px, transparent 5px, rgba(0,0,0,.2) 5px);
}

.background-madras {
    /// Made by Divya Manian
    background-color: var(--randColor);
    background-image: 
        repeating-linear-gradient(45deg, transparent 5px, hsla(197, 62%, 11%, 0.5) 5px, hsla(197, 62%, 11%, 0.5) 10px,
            hsla(5, 53%, 63%, 0) 10px, hsla(5, 53%, 63%, 0) 35px, hsla(5, 53%, 63%, 0.5) 35px, hsla(5, 53%, 63%, 0.5) 40px,
            hsla(197, 62%, 11%, 0.5) 40px, hsla(197, 62%, 11%, 0.5) 50px, hsla(197, 62%, 11%, 0) 50px, hsla(197, 62%, 11%, 0) 60px,
            hsla(5, 53%, 63%, 0.5) 60px, hsla(5, 53%, 63%, 0.5) 70px, hsla(35, 91%, 65%, 0.5) 70px, hsla(35, 91%, 65%, 0.5) 80px,
            hsla(35, 91%, 65%, 0) 80px, hsla(35, 91%, 65%, 0) 90px, hsla(5, 53%, 63%, 0.5) 90px, hsla(5, 53%, 63%, 0.5) 110px,
            hsla(5, 53%, 63%, 0) 110px, hsla(5, 53%, 63%, 0) 120px, hsla(197, 62%, 11%, 0.5) 120px, hsla(197, 62%, 11%, 0.5) 140px
        ),
        repeating-linear-gradient(135deg, transparent 5px, hsla(197, 62%, 11%, 0.5) 5px, hsla(197, 62%, 11%, 0.5) 10px,
            hsla(5, 53%, 63%, 0) 10px, hsla(5, 53%, 63%, 0) 35px, hsla(5, 53%, 63%, 0.5) 35px, hsla(5, 53%, 63%, 0.5) 40px,
            hsla(197, 62%, 11%, 0.5) 40px, hsla(197, 62%, 11%, 0.5) 50px, hsla(197, 62%, 11%, 0) 50px, hsla(197, 62%, 11%, 0) 60px,
            hsla(5, 53%, 63%, 0.5) 60px, hsla(5, 53%, 63%, 0.5) 70px, hsla(35, 91%, 65%, 0.5) 70px, hsla(35, 91%, 65%, 0.5) 80px,
            hsla(35, 91%, 65%, 0) 80px, hsla(35, 91%, 65%, 0) 90px, hsla(5, 53%, 63%, 0.5) 90px, hsla(5, 53%, 63%, 0.5) 110px,
            hsla(5, 53%, 63%, 0) 110px, hsla(5, 53%, 63%, 0) 140px, hsla(197, 62%, 11%, 0.5) 140px, hsla(197, 62%, 11%, 0.5) 160px
        );
}

.background-lined-paper {
    /// Made by Sarah Backhouse
    background-color: #fff;
    background-image:
        linear-gradient(90deg, transparent 79px, var(--randColor) 79px, #abced4 81px, transparent 81px),
        linear-gradient(#eee .1em, transparent .1em);
    background-size: 100% 1.2em;
}

.background-blueprint-grid {
    /// Made by Lea Verou
    background-color: #269;
    background-image:
        linear-gradient(white 2px, transparent 2px),
        linear-gradient(90deg, white 2px, transparent 2px),
        linear-gradient(rgba(255,255,255,.3) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,.3) 1px, transparent 1px);
    background-size: 100px 100px, 100px 100px, 20px 20px, 20px 20px;
    background-position: -2px -2px, -2px -2px, -1px -1px, -1px -1px;
}

.background-tablecloth {
    /// Made by Lea Verou
    background-color: white;
    background-image:
        linear-gradient(90deg, rgba(200,0,0,.5) 50%, transparent 50%),
        linear-gradient(rgba(200,0,0,.5) 50%, transparent 50%);
    background-size: 50px 50px;
}

.background-cicada-stripes {
    /// Made by Randy Merrill
    background-color: var(--randColor);
    background-image:
        linear-gradient(90deg, rgba(255,255,255,.07) 50%, transparent 50%),
        linear-gradient(90deg, rgba(255,255,255,.13) 50%, transparent 50%),
        linear-gradient(90deg, transparent 50%, rgba(255,255,255,.17) 50%),
        linear-gradient(90deg, transparent 50%, rgba(255,255,255,.19) 50%);
    background-size: 13px, 29px, 37px, 53px;
}

.background-honeycomb {
    /// Made by Paul Salentiny
    background:
        radial-gradient(circle farthest-side at 0% 50%,#fb1 23.5%,rgba(240,166,17,0) 0)21px 30px,
        radial-gradient(circle farthest-side at 0% 50%,#B71 24%,rgba(240,166,17,0) 0)19px 30px,
        linear-gradient(#fb1 14%,rgba(240,166,17,0) 0, rgba(240,166,17,0) 85%,#fb1 0)0 0,
        linear-gradient(150deg,#fb1 24%,#B71 0,#B71 26%,rgba(240,166,17,0) 0,rgba(240,166,17,0) 74%,#B71 0,#B71 76%,#fb1 0)0 0,
        linear-gradient(30deg,#fb1 24%,#B71 0,#B71 26%,rgba(240,166,17,0) 0,rgba(240,166,17,0) 74%,#B71 0,#B71 76%,#fb1 0)0 0,
        linear-gradient(90deg,#B71 2%,#fb1 0,#fb1 98%,#B71 0%)0 0 #fb1;
    background-size: 40px 60px;
}

.background-wave {
    /// Made by Paul Salentiny
    background:
        linear-gradient(#ffffff 50%, rgba(255,255,255,0) 0) 0 0,
        radial-gradient(circle closest-side, #FFFFFF 53%, rgba(255,255,255,0) 0) 0 0,
        radial-gradient(circle closest-side, #FFFFFF 50%, rgba(255,255,255,0) 0) 55px 0 #48B;
    background-size: 110px 200px;
    background-repeat: repeat-x;
}

.background-pyramid {
    /// Made by Paul Salentiny
    background:
        linear-gradient(315deg, transparent 75%, #d45d55 0)-10px 0,
        linear-gradient(45deg, transparent 75%, #d45d55 0)-10px 0,
        linear-gradient(135deg, #a7332b 50%, transparent 0) 0 0,
        linear-gradient(45deg, #6a201b 50%, #561a16 0) 0 0 #561a16;
    background-size: 20px 20px;
}

.background-chocolate-weave {
    /// Made by Paul Salentiny
    background:
        linear-gradient(45deg, #dca 12%, transparent 0, transparent 88%, #dca 0),
        linear-gradient(135deg, transparent 37%, #a85 0, #a85 63%, transparent 0),
        linear-gradient(45deg, transparent 37%, #dca 0, #dca 63%, transparent 0) #753;
    background-size: 25px 25px;
}

.background-cross-dots {
    /// Made by Natali Davydova
    background:
        radial-gradient(black 3px, transparent 4px),
        radial-gradient(black 3px, transparent 4px),
        linear-gradient(#fff 4px, transparent 0),
        linear-gradient(45deg, transparent 74px, transparent 75px, #a4a4a4 75px, #a4a4a4 76px, transparent 77px, transparent 109px),
        linear-gradient(-45deg, transparent 75px, transparent 76px, #a4a4a4 76px, #a4a4a4 77px, transparent 78px, transparent 109px),#fff;
    background-size: 109px 109px, 109px 109px,100% 6px, 109px 109px, 109px 109px;
    background-position: 54px 55px, 0px 0px, 0px 0px, 0px 0px, 0px 0px;
}
//#endregion

//#region Borders
.border-default {
    border: 1px solid var(--randColor);
    border-image: none;
}

.border-diagonal {
    border: 10px solid var(--randColor) !important;
    border-image: 
        repeating-linear-gradient(45deg,
            transparent,
            transparent 5px,
            var(--randColor) 6px,
            var(--randColor) 15px,
            transparent 16px,
            transparent 20px) 20/1rem
            !important;
}

.border-dashed {
    border: 5px dashed var(--randColor) !important;
}

.border-double:not(.custom-shape) {
    border: 10px double var(--randColor) !important;
}

.border-map-inspired {
    /// Made by Stephy
    --dash-size: 5px;
    --theme-color: mediumseagreen;
    --fill-color: beige;
    background: var(--randColorLight) !important;
	border: 5px dashed var(--theme-color) !important;
	box-shadow: 0 0 0 calc(5px / 2) var(--randColor),
		        0 0 0 (5px * 2.5) #fff,
		        inset 0 0 0 calc(5px / 2) var(--randColor),
		        0 5px (5px * 2) (5px * 3) rgba(0,0,0,0.5),
		        inset 0 0 0 (5px * 1.2) #fff,
		        inset 0 0 100vw 100vw var(--fill-color)
                !important;
}

.border-default-light {
    border: 8px solid var(--randColorLight) !important;
}
//#endregion

//#region Buttons
.help-button {
    height: 2.3em;
    max-width: 2.1em;
    width: 100vmin;
    padding: 0.35rem;
    background-color: white;
    border: 1px solid var(--randColor);
    align-items: center;
    cursor: pointer;
    
	&.left-side {
        border-left: none;
        border-radius: 0px 5.6px 5.6px 0px;    
    }
}

.button-expand {
    cursor: pointer;
    width: 100%;
    color: rgba(var(--randColorOpacity), 0.3);
    font-weight: bold;
    background-color: rgba(var(--randColorOpacity), 0.1);
    border: 1px solid rgba(var(--randColorOpacity), 0.2);
    transition-property: background display;
    transition-duration: 0.2s;

    &:hover {
        background-color: rgba(var(--randColorOpacity), 0.15);
    }

    &:active {
        background-color: rgba(var(--randColorOpacity), 0.2);
    }

    &:focus-visible {
        outline: none;
        box-shadow: 0 0 0 3px rgba(0, 85, 255, 0.8);
    }
}

.button-game {
    cursor: pointer;
    border: 2px solid black;
    background-color: white;
    font-weight: bold;
    transition: background-color, 0.5s;
    width: 100%;
    height: 100%;

    &:hover {
        background-color: #eaeaea;
    }

    &:active {
        background-color: #cecece;
    }
}

.touhouify {
    @extend .button-match, .inverse;

    z-index: -1;
    position: absolute;
    top: 0;
    left: 0;
    transform: rotate(0);
    transition: top 0.3s, left 0.3s, transform 0.3s !important;
    
    &:hover {
        top: -20px;
        left: -15px;
        transform: rotate(-15deg);
    }
}
//#endregion

//#region Components
//#region D-pad
/// Created by tswone (https://codepen.io/tswone/pen/GLzZLd?editors=1100)
.d-pad {
    position: relative;
    max-width: 200px;
    max-height: 200px;
    width: calc(100vmin - 10rem);
    height: calc(100vmin - 10rem);
    border-radius: 48%;
    overflow: hidden;

    &:before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        border-radius: 5%;       
        transform: translate(-50%, -50%);
        width: 66.6%;
        height: 66.6%;
        background-color: var(--dpad-fg);
    }

    &:after {
        content: '';
        cursor: pointer;
        z-index: 2;
        position: absolute;
        display: none;
        width: 20%;
        height: 20%;
        top: 50%;
        left: 50%;
        background: var(--dpad-fg);
        border-radius: 50%;   
        transform: translate(-50%, -50%);
        transition: all .25s;
    }

    &:hover:after {
        width: 30%;
        height: 30%;
    }

    button {
        display: block;
        position: absolute;
        width: 33.3%;
        height: 43%;
        line-height: 40%;
        color: #fff;
        text-align: center;  
        border: none;

        &:before {
            content: '';
            position: absolute;
            width: 0;
            height: 0;
            border-radius: 5px;
            border-style: solid;     
            transition: all .25s;
        }

        &:after {
            content: '';
            position: absolute;
            width: 102%;
            height: 78%;
            background: var(--dpad-bg);
            border-radius: var(--dpad-radius-in);
        }
    }

    button.left, button.right {
        width: 43%;
        height: 33%;

        &:after {
            width: 78%;
            height: 102%;
        }    
    }

    button.up {
        top: 0;
        left: 50%;
        transform: translate(-50%, 0);
        border-radius: var(--dpad-radius) var(--dpad-radius) 50% 50%;
        background-image: radial-gradient(
            100% 100% at 50% 0%,
            var(--randColorLight) 0,
            var(--randColor) 90%);
        
        &:after {
            left: 0;
            top: 0;
            transform: translate(-100%, 0);
            border-top-left-radius: 50%;
            pointer-events: none;
        }

        &:before {
            top: 40%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-width: 0 var(--tri-sml-a) var(--tri-sml-b) var(--tri-sml-a);
            border-color: transparent transparent var(--arrowcolor) transparent;
        }

        &:active:before {
            border-bottom-color: var(--arrow-active-color);
        }
    }

    button.up:hover:before {
        top: var(--dpad-arrow-move);
    }

    button.down {
        bottom: 0;
        left: 50%;    
        transform: translate(-50%, 0);
        border-radius: 50% 50% var(--dpad-radius) var(--dpad-radius); 
        background-image: radial-gradient(
            100% 100% at 50% 100%,
            var(--randColorLight) 0,
            var(--randColor) 90%);

        &:after {
            right: 0;
            bottom: 0;
            transform: translate(100%, 0);
            border-bottom-right-radius: 50%;
            pointer-events: none;
        }

        &:before {
            bottom: 40%;
            left: 50%;
            transform: translate(-50%, 50%);
            border-width: var(--tri-sml-b) var(--tri-sml-a) 0px var(--tri-sml-a);
            border-color: var(--arrowcolor) transparent transparent transparent;
        }

        &:active:before {
            border-top-color: var(--arrow-active-color);
        }
    }

    button.down:hover:before {
        bottom: var(--dpad-arrow-move);
    }

    button.left {
        top: 50%;
        left: 0;    
        transform: translate(0, -50%);
        border-radius: var(--dpad-radius) 50% 50% var(--dpad-radius);
        background-image: radial-gradient(
            100% 100% at 0 50%,
            var(--randColorLight) 0,
            var(--randColor) 90%);

        &:after {
            left: 0;
            bottom: 0;
            transform: translate(0, 100%);
            border-bottom-left-radius: 50%;
            pointer-events: none;
        }

        &:before {
            left: 40%;
            top: 50%;
            transform: translate(-50%, -50%);
            border-width: var(--tri-sml-a) var(--tri-sml-b) var(--tri-sml-a) 0;
            border-color: transparent var(--arrowcolor) transparent transparent;
        }

        &:active:before {
            border-right-color: var(--arrow-active-color);
        }
    }

    button.left:hover:before {
        left: var(--dpad-arrow-move);
    }

    button.right {
        top: 50%;
        right: 0;    
        transform: translate(0, -50%);  
        border-radius: 50% var(--dpad-radius) var(--dpad-radius) 50%;
        background-image: radial-gradient(
            100% 100% at 100% 50%,
            var(--randColorLight) 0,
            var(--randColor) 90%);

        &:after {
            right: 0;
            top: 0;
            transform: translate(0, -100%);
            border-top-right-radius: 50%;      
            pointer-events: none;
        }

        &:before {
            right: 40%;
            top: 50%;
            transform: translate(50%, -50%);
            border-width: var(--tri-sml-a) 0 var(--tri-sml-a) var(--tri-sml-b);
            border-color: transparent transparent transparent var(--arrowcolor);
        }

        &:active:before {
            border-left-color: var(--arrow-active-color);
        }
    }

    button.right:hover:before {
        right: var(--dpad-arrow-move);
    }      
}

.d-pad.up a.up:before {
    border-bottom-color: #333;
}
.d-pad.down a.down:before {
    border-top-color: #333;
}
.d-pad.left a.left:before {
    border-right-color: #333;
}
.d-pad.right a.right:before {
    border-left-color: #333;
}
//#endregion

//#region Cards
.card {
    width: 94%;
    -webkit-transform: translate3d(0px, 0px, 0.01px);
    transform: translate3d(0px, 0px, 0.01px);
    -webkit-transform-style: preserve-3d;
    transform-style: preserve-3d;
    pointer-events: none;
    will-change: transform, visibility, z-index;
    outline: 1px solid transparent;

    * {
        outline: 1px solid transparent;
    }
}

.card-translater {
    width: 100%;
    perspective: 600px;
    will-change: transform, box-shadow;
    transform-origin: center;
    -webkit-transform-origin: center;  
    position: relative;
    -webkit-transform: translate3d(var(--translate-x), var(--translate-y), 0.1px) scale(var(--card-scale));
    transform: translate3d(var(--translate-x), var(--translate-y), 0.1px) scale(var(--card-scale));  
}

.card-rotator {
    width: 100%;
    border-radius: 15px;
    perspective: 600px;
    will-change: transform, box-shadow;
    transform-origin: center;
    -webkit-transform-origin: center;  
    -webkit-transform: rotateY(var(--rotate-x)) rotateX(var(--rotate-y));
    -webkit-transform-style: preserve-3d;
    transform: rotateY(var(--rotate-x)) rotateX(var(--rotate-y));
    transform-style: preserve-3d;
    pointer-events: auto;

    * {
        display: grid;
        grid-area: 1/1;
        image-rendering: optimizeQuality;
        pointer-events: none;
    }
}

.card-shine {
    display: grid;
    transform: translateZ(1px);
    overflow: hidden;
    z-index: 3;
    background: transparent;
    background-size: cover;
    background-position: center;
    filter: brightness(.85) contrast(2.75) saturate(.65);
    mix-blend-mode: color-dodge;
    opacity: var(--card-opacity);
    will-change: transform, opacity, background-image, background-size,
        background-position, background-blend-mode, filter;
    
    &::before, &::after {
        --sunpillar-clr-1: var(--sunpillar-5);
        --sunpillar-clr-2: var(--sunpillar-6);
        --sunpillar-clr-3: var(--sunpillar-1);
        --sunpillar-clr-4: var(--sunpillar-2);
        --sunpillar-clr-5: var(--sunpillar-3);
        --sunpillar-clr-6: var(--sunpillar-4);
        grid-area: 1/1;
        transform: translateZ(1px);
        border-radius: var(--card-radius);         
    }

    &::after {
        --sunpillar-clr-1: var( --sunpillar-6 );
        --sunpillar-clr-2: var( --sunpillar-1 ); 
        --sunpillar-clr-3: var( --sunpillar-2 );
        --sunpillar-clr-4: var( --sunpillar-3 );
        --sunpillar-clr-5: var( --sunpillar-4 );
        --sunpillar-clr-6: var( --sunpillar-5 );
        transform: translateZ(1.2px);      
    }
}

.card-glare {
    transform: translateZ(1.41px);
    overflow: hidden;
    background-image: radial-gradient(
        farthest-corner circle at var(--pointer-x) var(--pointer-y),
        hsla(0, 0%, 100%, 0.8) 10%,
        hsla(0, 0%, 100%, 0.65) 20%,
        hsla(0, 0%, 0%, 0.5) 90%
    );
    opacity: var(--card-opacity);
    mix-blend-mode: overlay;
    will-change: transform, opacity, background-image, background-size,
        background-position, background-blend-mode, filter;
}

.card-pokemon {
    width: 100%;
    height: 25em;
    position: relative;
    border: 12px solid #fee261;
    border-radius: 15px;
    transition: box-shadow 0.4s ease, opacity .33s ease-out;
    box-shadow:
        inset 0px 0px 10px #b1a96c,
        0 0 3px -1px white, 
        0 0 3px 1px var(--card-edge), 
        0 0 12px 2px var(--card-glow), 
        0px 10px 20px -5px black, 
        0 0 40px -30px var(--card-glow), 
        0 0 50px -20px var(--card-glow);
    
    //#region Card rarity
    &[rarity="amazingRare"] {
        .card-shine {
            background-image:
                var(--glitter),
                var(--glitter), 
                radial-gradient( 
                    farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                    hsla(150, 20%, 10%, 1) 10%, 
                    hsla(177, 22%, 80%, 0.1) 50%, 
                    hsla(0, 0%, 95%, .98) 90% );     
            background-size: var(--glittersize) var(--glittersize), var(--glittersize) var(--glittersize), cover;
            background-position: 40% 45%, 55% 55%, center center;
            background-blend-mode: soft-light, color-burn;
            filter: brightness(1) contrast(1) saturate(.9);   
            clip-path: var(--clip);

            &::before {
                content: "";
                -webkit-mask-image: none !important;
                mask-image: none !important;
                background-image:
                    var(--foil),
                    radial-gradient( 
                        farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                        hsla(50, 20%, 90%, 0.95) 10%, 
                        rgba(181, 139, 164, 0.5) 50%, 
                        hsl(0, 0%, 0%) 60% 
                    );
                background-size: cover, cover;
                background-position: center center, center center;
                background-blend-mode: color-burn;
                mix-blend-mode: lighten;
                filter: brightness(1) contrast(1) saturate(1);
                opacity: 0.5;              
            }

            &::after {
                content: "";
                -webkit-mask-image: none !important;
                mask-image: none !important;
                background-image: repeating-linear-gradient( 
                    calc( var(--angle) ), 
                    var(--sunpillar-clr-1) calc(var(--space)*1), 
                    var(--sunpillar-clr-2) calc(var(--space)*2), 
                    var(--sunpillar-clr-3) calc(var(--space)*3), 
                    var(--sunpillar-clr-4) calc(var(--space)*4), 
                    var(--sunpillar-clr-5) calc(var(--space)*5), 
                    var(--sunpillar-clr-6) calc(var(--space)*6),
                    var(--sunpillar-clr-1) calc(var(--space)*7));
                background-size: 400% 800%;
                background-position: calc( 50% + (50% - (var(--background-x))) * 3 ) calc( 50% + (50% - (var(--background-y))) * 3 );
                filter: brightness(calc( 0.75 - ( var(--pointer-from-center) * 0.5 ))) contrast(1) saturate(1);
                mix-blend-mode: saturation;              
            }
        }

        .card-glare {
            background-image: 
            radial-gradient( 
              farthest-corner circle at var(--pointer-x) var(--pointer-y), 
              hsla(0, 0%, 100%, 1) 10%, 
              hsla(0, 0%, 100%, 0.85) 20%, 
              hsla(0, 0%, 0%, 0.35) 90% 
            );
          mix-blend-mode: multiply;        
        }
    }

    &[rarity="cosmosHolo"] {
        .card-shine {
            --space: 4%;
            clip-path: var(--clip);
            background-image: 
                url("/resources/pokemon/rarity/cosmos-bottom.webp"), 
                repeating-linear-gradient(82deg, 
                    hsl(53, 65%, 60%) calc(var(--space)*1), 
                    hsl(93, 56%, 50%) calc(var(--space)*2), 
                    hsl(176, 54%, 49%) calc(var(--space)*3), 
                    hsl(228, 59%, 55%) calc(var(--space)*4), 
                    hsl(283, 60%, 55%) calc(var(--space)*5), 
                    hsl(326, 59%, 51%) calc(var(--space)*6), 
                    hsl(326, 59%, 51%) calc(var(--space)*7), 
                    hsl(283, 60%, 55%) calc(var(--space)*8), 
                    hsl(228, 59%, 55%) calc(var(--space)*9), 
                    hsl(176, 54%, 49%) calc(var(--space)*10), 
                    hsl(93, 56%, 50%) calc(var(--space)*11), 
                    hsl(53, 65%, 60%) calc(var(--space)*12) ), 
                radial-gradient( 
                    farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                    hsla(180, 100%, 89%, 0.5) 5%, 
                    hsla(180, 14%, 57%, 0.3) 40%, 
                    hsl(0, 0%, 0%) 130% );
            background-blend-mode: 
                color-burn, 
                multiply;
            background-position: 
                var(--cosmosbg, center center),
                calc( 10% + ( var(--pointer-from-left) * 80% ) ) calc( 10% + ( var(--pointer-from-top) * 80% ) ), 
                    center center;
            background-size: cover, 400% 900%, cover;
            filter: brightness(1) contrast(1) saturate(.8);
            mix-blend-mode: color-dodge;

            &::before {
                content: "";
                z-index: 2;
                background-image: 
                  url("/resources/pokemon/rarity/cosmos-middle-trans.webp"), 
                  repeating-linear-gradient(
                    82deg, 
                    hsl(53, 65%, 60%) calc(var(--space)*1), 
                    hsl(93, 56%, 50%) calc(var(--space)*2), 
                    hsl(176, 54%, 49%) calc(var(--space)*3), 
                    hsl(228, 59%, 55%) calc(var(--space)*4), 
                    hsl(283, 60%, 55%) calc(var(--space)*5), 
                    hsl(326, 59%, 51%) calc(var(--space)*6), 
                    hsl(326, 59%, 51%) calc(var(--space)*7), 
                    hsl(283, 60%, 55%) calc(var(--space)*8), 
                    hsl(228, 59%, 55%) calc(var(--space)*9), 
                    hsl(176, 54%, 49%) calc(var(--space)*10), 
                    hsl(93, 56%, 50%) calc(var(--space)*11), 
                    hsl(53, 65%, 60%) calc(var(--space)*12) 
                  );
              
                background-blend-mode: 
                  lighten, 
                  multiply;
              
                background-position: 
                  var(--cosmosbg, center center), 
                  calc( 15% + ( var(--pointer-from-left) * 70% ) ) calc( 15% + ( var(--pointer-from-top) * 70% ) ), 
                  center center;
              
                background-size: cover, 400% 900%, cover;
              
                filter: brightness(1.25) contrast(1.75) saturate(.8);
                mix-blend-mode: overlay;              
            }

            &::after {
                content: "";
                z-index: 3;
                background-image: 
                  url("/resources/pokemon/rarity/cosmos-top-trans.webp"), 
                  repeating-linear-gradient(
                    82deg, 
                    hsl(53, 65%, 60%) calc(var(--space)*1), 
                    hsl(93, 56%, 50%) calc(var(--space)*2), 
                    hsl(176, 54%, 49%) calc(var(--space)*3), 
                    hsl(228, 59%, 55%) calc(var(--space)*4), 
                    hsl(283, 60%, 55%) calc(var(--space)*5), 
                    hsl(326, 59%, 51%) calc(var(--space)*6), 
                    hsl(326, 59%, 51%) calc(var(--space)*7), 
                    hsl(283, 60%, 55%) calc(var(--space)*8), 
                    hsl(228, 59%, 55%) calc(var(--space)*9), 
                    hsl(176, 54%, 49%) calc(var(--space)*10), 
                    hsl(93, 56%, 50%) calc(var(--space)*11), 
                    hsl(53, 65%, 60%) calc(var(--space)*12) 
                  );
                background-blend-mode: 
                  multiply, 
                  multiply;
                background-position: 
                  var(--cosmosbg, center center), 
                  calc( 20% + ( var(--pointer-from-left) * 60% ) ) calc( 20% + ( var(--pointer-from-top) * 60% ) ), 
                  center center;
                background-size: cover, 400% 900%, cover;
                filter: brightness(1.25) contrast(1.75) saturate(.8);
                mix-blend-mode: multiply;              
            }
        }
        .card-glare {
            background-image: radial-gradient( 
                farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                hsla(204, 100%, 95%, 0.8) 5%, 
                hsla(250, 15%, 20%, 1) 150%);
            filter: brightness(.75) contrast(2) saturate(2);
            mix-blend-mode: overlay;
            opacity: calc( var(--card-opacity) * ( 0.25 + var(--pointer-from-center) ) );
            
            &::after {
                content: "";
                background-image: 
                    radial-gradient( farthest-corner circle at 
                    var(--pointer-x) var(--pointer-y), 
                    hsl(280, 100%, 96%) 5%, 
                    hsl(0, 0%, 10%) 60%);
                filter: brightness(.75) contrast(2.5) saturate(2);
                mix-blend-mode: soft-light;
                opacity: calc( 1 - var(--pointer-from-top) * .75 );                 
            }
        }
    }

    &[rarity="radiantHolo"] {
        .card-shine {
            --barwidth: 1.2%;
            --space: 200px;
            --hue: 50;
            --mask: none;
            --foil: url("/resources/pokemon/rarity/trainerbg.webp"); 
            --imgsize: 25% auto;
            background-image: 
                radial-gradient(
                    farthest-corner ellipse 
                    at calc( ((var(--pointer-x)) * 0.5) + 25% ) calc( ((var(--pointer-y)) * 0.5) + 25% ), 
                    hsl(0, 0%, 95%) 20%, 
                    var(--card-glow) 130% ),
                repeating-linear-gradient(45deg, 
                    hsl(0,0%,10%) 0% ,  
                    hsl(0,0%,10%) 1% , 
                    hsl(0,0%,10%) var(--barwidth),
                    hsl(0,0%,20%) calc( var(--barwidth) + 0.01% ) ,
                    hsl(0,0%,20%) calc( var(--barwidth) * 2 ),
                    hsl(0,0%,35%) calc( var(--barwidth) * 2 + 0.01% ) ,
                    hsl(0,0%,35%) calc( var(--barwidth) * 3 ) ,
                    hsl(0,0%,42.5%) calc( var(--barwidth) * 3 + 0.01% ) ,
                    hsl(0,0%,42.5%) calc( var(--barwidth) * 4 ) ,
                    hsl(0,0%,50%) calc( var(--barwidth) * 4 + 0.01% ) ,
                    hsl(0,0%,50%) calc( var(--barwidth) * 5 ) ,
                    hsl(0,0%,42.5%) calc( var(--barwidth) * 5 + 0.01% ) ,
                    hsl(0,0%,42.5%) calc( var(--barwidth) * 6 ) ,
                    hsl(0,0%,35%) calc( var(--barwidth) * 6 + 0.01% ) ,
                    hsl(0,0%,35%) calc( var(--barwidth) * 7 ) ,
                    hsl(0,0%,20%) calc( var(--barwidth) * 7 + 0.01% ) ,
                    hsl(0,0%,20%) calc( var(--barwidth) * 8 )  ,
                    hsl(0,0%,10%) calc( var(--barwidth) * 8 + 0.01% ) ,
                    hsl(0,0%,10%) calc( var(--barwidth) * 9 )  ,
                    hsl(0,0%,0%) calc( var(--barwidth) * 9 + 0.01% ) ,
                    hsl(0,0%,0%) calc( var(--barwidth) * 10 ) ),
                repeating-linear-gradient( -45deg, 
                    hsl(0,0%,10%) 0% ,  
                    hsl(0,0%,10%) 1% , 
                    hsl(0,0%,10%) var(--barwidth),
                    hsl(0,0%,20%) calc( var(--barwidth) + 0.01% ) ,
                    hsl(0,0%,20%) calc( var(--barwidth) * 2 ),
                    hsl(0,0%,35%) calc( var(--barwidth) * 2 + 0.01% ) ,
                    hsl(0,0%,35%) calc( var(--barwidth) * 3 ) ,
                    hsl(0,0%,42.5%) calc( var(--barwidth) * 3 + 0.01% ) ,
                    hsl(0,0%,42.5%) calc( var(--barwidth) * 4 ) ,
                    hsl(0,0%,50%) calc( var(--barwidth) * 4 + 0.01% ) ,
                    hsl(0,0%,50%) calc( var(--barwidth) * 5 ) ,
                    hsl(0,0%,42.5%) calc( var(--barwidth) * 5 + 0.01% ) ,
                    hsl(0,0%,42.5%) calc( var(--barwidth) * 6 ) ,
                    hsl(0,0%,35%) calc( var(--barwidth) * 6 + 0.01% ) ,
                    hsl(0,0%,35%) calc( var(--barwidth) * 7 ) ,
                    hsl(0,0%,20%) calc( var(--barwidth) * 7 + 0.01% ) ,
                    hsl(0,0%,20%) calc( var(--barwidth) * 8 )  ,
                    hsl(0,0%,10%) calc( var(--barwidth) * 8 + 0.01% ) ,
                    hsl(0,0%,10%) calc( var(--barwidth) * 9 )  ,
                    hsl(0,0%,0%) calc( var(--barwidth) * 9 + 0.01% ) ,
                    hsl(0,0%,0%) calc( var(--barwidth) * 10 ));
            background-size: cover, 210% 210%, 210% 210%;
            background-position: center, 
                calc( ((var(--background-x) - 50%) * 1.5) + 50% ) calc( ((var(--background-y) - 50%) * 1.5) + 50% ), 
                calc( ((var(--background-x) - 50%) * 1.5) + 50% ) calc( ((var(--background-y) - 50%) * 1.5) + 50% );
            background-blend-mode: exclusion, darken, color-dodge;
            filter: brightness(.5) contrast(2) saturate(1.75);
            mix-blend-mode: color-dodge;

            &::after {
                content: "";  
                background-image: var(--foil), 
                    repeating-linear-gradient(55deg, 
                        hsl(3, 95%, 85%) calc(var(--space)*1), 
                        hsl(207, 100%, 84%) calc(var(--space)*2), 
                        hsl(29, 100%, 85%) calc(var(--space)*3), 
                        hsl(160, 100%, 86%) calc(var(--space)*4), 
                        hsl(309, 94%, 87%) calc(var(--space)*5), 
                        hsl(188, 95%, 85%) calc(var(--space)*6), 
                        hsl(3, 95%, 85%) calc(var(--space)*7) );
                background-size: var(--imgsize), 400% 100%;
                background-position: center, calc( ((var(--background-x) - 50%) * -2.5) + 50% ) calc( ((var(--background-y) - 50%) * -2.5) + 50% );
                filter: brightness(.6) contrast(3) saturate(2);
                mix-blend-mode: color-dodge;
                background-blend-mode: hard-light;
                clip-path: var(--clip);
                --mask: none;
                --foil: url("/resources/pokemon/rarity/trainerbg.webp"); 
                --imgsize: 25% auto;    
                background-blend-mode: difference;          
            }

            &::before {
                content: "";
                z-index: 2;
                grid-area: 1/1;
                background-image: var(--glitter), 
                    radial-gradient( 
                        farthest-corner ellipse at calc( ((var(--pointer-x)) * 0.5) + 25% ) calc( ((var(--pointer-y)) * 0.5) + 25% ), 
                        hsla(0, 0%, 58%, 0.8) 10%, 
                        hsla(0, 0%, 20%, 0.9) 20%, 
                        hsla(0, 0%, 20%, 0.5) 50%);
                background-position: center;
                background-size: 15% 15%, 350% 350%;
                background-blend-mode: color-dodge;
                mix-blend-mode: overlay;
                filter: brightness(.66) contrast(2) saturate(.5);              
            }
        }

        .card-glare {
            background-image: radial-gradient( 
                farthest-corner circle at var(--pointer-x) var(--pointer-y),
                hsla(0, 0%, 100%, 0.33) 0%, 
                hsl(0, 0%, 25%) 110%);
            filter: brightness(1) contrast(1.5);
            mix-blend-mode: hard-light;        
        }
    }

    &[rarity="rainbowAlt"] {
        .card-shine {
            --r-clr-1: hsl(0, 57%, 37%);
            --r-clr-2: hsl(40, 53%, 39%);
            --r-clr-3: hsl(90, 60%, 35%);
            --r-clr-4: hsl(180, 60%, 35%);
            --r-clr-5: hsl(180, 60%, 35%);
            --r-clr-6: hsl(210, 57%, 39%);
            --r-clr-7: hsl(280, 55%, 31%);
            --mask: none;
            --foil: none;
            --imgsize: 25% auto;
            background-image:
                repeating-linear-gradient( 
                    var(--angle), 
                    hsla(283, 49%, 60%, 0.75) calc(var(--space)*1), 
                    hsla(2, 70%, 58%, 0.75) calc(var(--space)*2), 
                    hsla(53, 67%, 53%, 0.75) calc(var(--space)*3), 
                    hsla(93, 56%, 52%, 0.75) calc(var(--space)*4), 
                    hsla(176, 38%, 50%, 0.75) calc(var(--space)*5), 
                    hsla(228, 100%, 77%, 0.75) calc(var(--space)*6), 
                    hsla(283, 49%, 61%, 0.75) calc(var(--space)*7)),
                    var(--glitter),
                    linear-gradient(-30deg, 
                        var(--r-clr-1), var(--r-clr-2), var(--r-clr-3), var(--r-clr-4), var(--r-clr-5), var(--r-clr-6), var(--r-clr-7), 
                        var(--r-clr-1), var(--r-clr-2), var(--r-clr-3), var(--r-clr-4), var(--r-clr-5), var(--r-clr-6), var(--r-clr-7), 
                        var(--r-clr-1), var(--r-clr-2), var(--r-clr-3), var(--r-clr-4), var(--r-clr-5), var(--r-clr-6), var(--r-clr-7), 
                        var(--r-clr-1));
            background-size: 200% 400%, var(--glittersize) var(--glittersize), 400% 400%;
            background-position: 0% calc(var(--background-y) * 1), center center, calc( var(--background-x) * 1.5) calc( var(--background-y) * 1.5 );
            background-blend-mode: luminosity, overlay;
            filter: brightness(calc((var(--pointer-from-center)*0.3) + 0.3)) contrast(3) saturate(1.8);          
            
            &::after {
                content: "";
                -webkit-mask-image: none !important;
                mask-image: none !important;
                background-image: 
                    var(--glitter), 
                    linear-gradient(-60deg, 
                        var(--r-clr-1), var(--r-clr-2), var(--r-clr-3), var(--r-clr-4), var(--r-clr-5), var(--r-clr-6), var(--r-clr-7), 
                        var(--r-clr-1), var(--r-clr-2), var(--r-clr-3), var(--r-clr-4), var(--r-clr-5), var(--r-clr-6), var(--r-clr-7), 
                        var(--r-clr-1), var(--r-clr-2), var(--r-clr-3), var(--r-clr-4), var(--r-clr-5), var(--r-clr-6), var(--r-clr-7), 
                        var(--r-clr-1) );
                background-blend-mode: overlay;
                background-size: var(--glittersize) var(--glittersize), 400% 400%;
                background-position: center center, calc( var(--background-x) * -1.5) calc( var(--background-y) * -1.5 );
                filter: brightness(calc((var(--pointer-from-center)*0.5) + 0.6)) contrast(3) saturate(1);
                mix-blend-mode: color-dodge;
                opacity: calc(1.2 + (var(--pointer-from-center)/2) * -1);              
            }

            &::before {
                content: "";
                background-image: var(--foil);
                background-size: var(--imgsize);
                background-position: center center;
                filter: brightness(1.5) contrast(1.5);
                opacity: calc((var(--pointer-from-center) + 0.6 ) * 0.4 );
                background-blend-mode: difference;
                mix-blend-mode: color-dodge;              
            }
        }

        .card-glare {
            background-image: 
                radial-gradient( 
                    farthest-corner circle at 
                    var(--pointer-x) var(--pointer-y), 
                    hsla(50, 20%, 90%, 0.75) 0%, 
                    hsla(150, 20%, 30%, 0.65) 45%, 
                    hsla(0, 0%, 0%, 1) 100%);
            filter: brightness(.9) contrast(2);
            opacity: calc( var(--card-opacity) * 0.75 );    
        }
    }

    &[rarity="rainbowHolo"] {
        .card-shine {
            --r-clr-1: hsl(0, 57%, 37%);
            --r-clr-2: hsl(40, 53%, 39%);
            --r-clr-3: hsl(90, 60%, 35%);
            --r-clr-4: hsl(180, 60%, 35%);
            --r-clr-5: hsl(180, 60%, 35%);
            --r-clr-6: hsl(210, 57%, 39%);
            --r-clr-7: hsl(280, 55%, 31%);
            --foil: url("/resources/pokemon/rarity/illusion-mask.webp"); 
            --imgsize: 33%;
            background-image: 
                linear-gradient(-45deg, var(--r-clr-1), var(--r-clr-5)), var(--glitter),
                linear-gradient(-30deg, 
                    var(--r-clr-1), var(--r-clr-2), var(--r-clr-3), var(--r-clr-4), var(--r-clr-5), var(--r-clr-6), var(--r-clr-7), 
                    var(--r-clr-1), var(--r-clr-2), var(--r-clr-3), var(--r-clr-4), var(--r-clr-5), var(--r-clr-6), var(--r-clr-7), 
                    var(--r-clr-1), var(--r-clr-2), var(--r-clr-3), var(--r-clr-4), var(--r-clr-5), var(--r-clr-6), var(--r-clr-7), 
                    var(--r-clr-1)
            );
            background-blend-mode: luminosity, soft-light;
            background-size: 
                200% 200%, 
                var(--glittersize) var(--glittersize), 
                400% 400%;
            background-position: 
                calc( 25% + (50% * var(--pointer-from-left) )) calc( 25% + (50% * var(--pointer-from-top) )), 
                center center, 
                calc( 25% + (var(--pointer-x) / 2 ) ) calc( 25% + (var(--pointer-y) / 2 ) );
            filter: brightness(calc((var(--pointer-from-center)*0.25) + 0.6))  contrast(2.2) saturate(0.75);          
            
            &::after {
                content: "";
                -webkit-mask-image: none !important;
                mask-image: none !important;
                background-image: 
                    var(--glitter),
                    linear-gradient(-60deg, 
                        var(--r-clr-1), var(--r-clr-2), var(--r-clr-3), var(--r-clr-4), var(--r-clr-5), var(--r-clr-6), var(--r-clr-7), 
                        var(--r-clr-1), var(--r-clr-2), var(--r-clr-3), var(--r-clr-4), var(--r-clr-5), var(--r-clr-6), var(--r-clr-7), 
                        var(--r-clr-1), var(--r-clr-2), var(--r-clr-3), var(--r-clr-4), var(--r-clr-5), var(--r-clr-6), var(--r-clr-7), 
                        var(--r-clr-1)
                );
                background-blend-mode: soft-light;
                background-size: var(--glittersize) var(--glittersize), 400% 400%;
                background-position: center center, var(--pointer-x) var(--pointer-y);
                filter: brightness(calc((var(--pointer-from-center)*0.3) + 0.55)) contrast(2) saturate(1);
                mix-blend-mode: color-dodge;              
            }

            &::before {
                content: "";
                background-image: var(--foil);
                background-size: var(--imgsize);
                background-position: center center;
                filter: brightness(2.5) contrast(1);
                opacity: calc((var(--pointer-from-center) + 0.4 ) * 0.6 );
                background-blend-mode: difference;
                mix-blend-mode: darken;              
            }
        }

        .card-glare {
            background-image: 
                radial-gradient( 
                    farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                    hsl(0,0%,80%), 
                    hsla(187, 10%, 85%, 0.25) 30%, 
                    hsl(197, 6%, 25%) 120% 
                );
            filter: brightness(.9) contrast(1.75);
            opacity: calc( var(--pointer-from-center) * 0.9 );
            mix-blend-mode: hard-light;        
        }
    }

    &[rarity="regularHolo"] {
        .card-shine {
            --scanlines-space: 1px;
            --scanlines-light: #666;
            --scanlines-dark: black;
            --bars: 3%;
            --bar-color: hsla(0, 0%, 70%, 1);
            --bar-bg: hsla(0, 0%, 0%, 1);
            clip-path: var(--clip);
            background-image: 
                repeating-linear-gradient(110deg, 
                    var(--violet), var(--blue), var(--green), var(--yellow), var(--red), 
                    var(--violet), var(--blue), var(--green), var(--yellow), var(--red),
                    var(--violet), var(--blue), var(--green), var(--yellow), var(--red)),
                repeating-linear-gradient(90deg, 
                    var(--scanlines-dark) calc(var(--scanlines-space) * 0), var(--scanlines-dark) calc(var(--scanlines-space) * 2),
                    var(--scanlines-light) calc(var(--scanlines-space) * 2), var(--scanlines-light) calc(var(--scanlines-space) * 4));
            background-position: 
                calc(((50% - var(--background-x)) * 2.6) + 50%) calc(((50% - var(--background-y)) * 3.5) + 50%),
                center center;
            background-size: 
                400% 400%, 
                cover;
            background-blend-mode: overlay;
            filter: brightness(1.1) contrast(1.1) saturate(1.2);
            mix-blend-mode: color-dodge;

            &::before {
                content: "";
                background-image:
                    repeating-linear-gradient(90deg, 
                        var(--bar-bg) calc(var(--bars)*2), 
                        var(--bar-color) calc(var(--bars)*3), 
                        var(--bar-bg) calc(var(--bars)*3.5), 
                        var(--bar-color) calc(var(--bars)*4), 
                        var(--bar-bg) calc(var(--bars)*5), 
                        var(--bar-bg) calc(var(--bars)*14)),
                repeating-linear-gradient(90deg, 
                    var(--bar-bg) calc(var(--bars)*2), 
                    var(--bar-color) calc(var(--bars)*3), 
                    var(--bar-bg) calc(var(--bars)*3.5), 
                    var(--bar-color) calc(var(--bars)*4), 
                    var(--bar-bg) calc(var(--bars)*5), 
                    var(--bar-bg) calc(var(--bars)*10));
                background-position: 
                    calc((((50% - var(--background-x)) * 1.65) + 50% ) + (var(--background-y) * 0.5)) var(--background-x), 
                    calc((((50% - var(--background-x)) * -0.9) + 50%) - (var(--background-y) * 0.75) ) var(--background-y);
                background-size: 
                    200% 200%,
                    200% 200%;
                background-blend-mode: screen;
                filter: brightness( 1.15 ) contrast( 1.1 );
                mix-blend-mode: hard-light;                 
            }

            &::after {
                content: "";
                background-image: 
                    radial-gradient( 
                        farthest-corner circle 
                        at var(--pointer-x) var(--pointer-y), 
                        hsla(0, 0%, 90%, 0.8) 0%, 
                        hsla(0, 0%, 78%, 0.1) 25%, 
                        hsl(0, 0%, 0%) 90% );
                background-position: center center;
                background-size: cover;
                mix-blend-mode: luminosity; 
                filter: brightness(0.6) contrast(4);              
            }
        }

        .card-glare {
            opacity: calc( var(--card-opacity) * .8 );
            filter: brightness(0.8) contrast(1.5);
            mix-blend-mode: overlay;

            &::after {
                content: "";
                background-image: 
                    radial-gradient( 
                        farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                        hsl(180, 100%, 95%) 5%, 
                        hsla(0, 0%, 39%, 0.25) 55%, 
                        hsla(0, 0%, 0%, 0.36) 110% 
                    );
                mix-blend-mode: overlay;
                filter: brightness(.6) contrast(3);              
            }
        }
    }

    &[rarity="reverseHolo"] {
        .card-dark {
            --foil-brightness: 0.8;
        }

        .card-electric {
            --foil-brightness: 0.7;
        }

        .card-steel {
            --foil-brightness: 0.6;
        }

        .card-shine {
            // --foil: none;
            clip-path: var(--clip-invert);          
            background-image: 
                radial-gradient( 
                    circle at var(--pointer-x) var(--pointer-y),
                    #fff 5%, 
                    #000 50%, 
                    #fff 80%), 
                linear-gradient(-45deg, 
                    #000 15%, 
                    #fff, 
                    #000 85% ); 
                // var(--foil);
            background-blend-mode: soft-light, difference;
            background-size: 120% 120%, 200% 200%, cover;
            background-position: center center, calc( (100% * var(--pointer-from-left))) calc( (100% * var(--pointer-from-top))) , center center;
            filter: brightness(var(--foil-brightness)) contrast(1.5) saturate(1);
            mix-blend-mode: color-dodge;
            opacity: calc( (1.5 * var(--card-opacity)) - var(--pointer-from-center));        
        }

        .card-glare {
            opacity: var(--card-opacity);
            background-image: 
                radial-gradient(
                    farthest-corner circle at var(--pointer-x) var(--pointer-y),
                    hsla(0, 0%, 100%, 0.8) 10%,
                    hsla(0, 0%, 100%, 0.5) 20%,
                    hsla(0, 0%, 0%, 0.75) 90%
                );
            filter: brightness(.7) contrast(1.5);

            &::after {
                content: "";
                opacity: var(--card-opacity);
                background-image: 
                    radial-gradient( 
                        farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                        hsl(0, 0%, 100%) 10%, 
                        hsla(0, 0%, 100%, 0.5) 20%, 
                        hsla(0, 0%, 0%, 0.5) 120% 
                    );
                filter: brightness(1) contrast(1.5);              
            }
        }
    }

    &[rarity="secretRare"] {
        .card-shine {
            --shift: 1px;
            --foil: url("/resources/pokemon/rarity/geometric.webp"); 
            --imgsize: 33%;
            filter: brightness( calc( ( var( --pointer-from-center ) * 0.3 ) + 0.2 ) ) contrast(2) saturate(0.75);          
            background-image:
                var(--glitter), 
                var(--glitter), 
                conic-gradient( 
                    var(--sunpillar-clr-4), 
                    var(--sunpillar-clr-5),
                    var(--sunpillar-clr-6), 
                    var(--sunpillar-clr-1), 
                    var(--sunpillar-clr-4) 
                ), 
                radial-gradient( 
                    farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                    hsla(150, 00%, 0%, .98) 10%, 
                    hsla(0, 0%, 95%, .15) 90% 
                );
            background-size: var(--glittersize) var(--glittersize), var(--glittersize) var(--glittersize), cover, cover;
            background-position: 45% 45%, 55% 55%, center center, center center;
            background-blend-mode: soft-light, hard-light, overlay;
            mix-blend-mode: color-dodge;
            filter: brightness(calc( 0.4 + (var(--pointer-from-center) * 0.2) )) contrast(1) saturate(2.7);
            
            &::before {
                content: "";
                -webkit-mask-image: none !important;
                mask-image: none !important;
                background-image:
                    var(--foil), 
                    linear-gradient(45deg, hsl(46, 95%, 50%), hsl(52, 100%, 69%) ), 
                    radial-gradient( 
                        farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                        hsla(10, 20%, 90%, 0.95) 10%, 
                        hsl(0, 0%, 0%) 70% 
                    );
                background-size: var(--imgsize), cover, cover;
                background-position: center center, center center, center center;
                background-blend-mode: hard-light, multiply;
                mix-blend-mode: lighten;
                filter: brightness(1.25) contrast(1.25) saturate(0.35);
                opacity: .8;              
            }

            &::after {
                content: "";
                -webkit-mask-image: none !important;
                mask-image: none !important;
                background-image: var(--glitter);
                background-size: var(--glittersize) var(--glittersize);
                background-position: calc(50% - ((var(--shift)*2) * var(--pointer-from-left)) + var(--shift)) calc(50% - ((var(--shift)*2) * var(--pointer-from-top)) + var(--shift));
                filter: brightness(calc((var(--pointer-from-center)*0.6) + 0.6)) contrast(1.5);
                mix-blend-mode: overlay;              
            }
        }

        .card-glare {
            background-image: 
                radial-gradient( 
                    farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                    hsla(45, 8%, 80%, 0.3) 0%, 
                    hsl(22, 15%, 12%) 180%
                );
            filter: brightness(1.3) contrast(1.5);
            mix-blend-mode: hard-light;        
        }
    }

    &[rarity="shinyRare"] {
        .card-shine, .card-shine::after {
            --space: 5%;
            --angle: 133deg;
            --mask: none;
            --foil: url("/resources/pokemon/rarity/illusion.webp"); 
            --imgsize: 33%;
            -webkit-mask-image: var(--mask);
            mask-image: var(--mask);
            -webkit-mask-size: var(--imgsize);
            mask-size: var(--imgsize);
            background-blend-mode: exclusion, hue, hard-light;
            filter: brightness(calc((var(--pointer-from-center)*.3) + .35)) contrast(2) saturate(1.5);
            background-image:
                var(--foil),
                repeating-linear-gradient(0deg, 
                    var(--sunpillar-clr-1) calc(var(--space)*1), 
                    var(--sunpillar-clr-2) calc(var(--space)*2), 
                    var(--sunpillar-clr-3) calc(var(--space)*3), 
                    var(--sunpillar-clr-4) calc(var(--space)*4), 
                    var(--sunpillar-clr-5) calc(var(--space)*5), 
                    var(--sunpillar-clr-6) calc(var(--space)*6), 
                    var(--sunpillar-clr-1) calc(var(--space)*7)
                ),
                repeating-linear-gradient( 
                    var(--angle), 
                    #0e152e 0%, 
                    hsl(180, 10%, 60%) 3.8%, 
                    hsl(180, 29%, 66%) 4.5%, 
                    hsl(180, 10%, 60%) 5.2%, 
                    #0e152e 10% , 
                    #0e152e 12% 
                ),
                radial-gradient(
                    farthest-corner circle 
                    at var(--pointer-x) var(--pointer-y),
                    hsla(0, 0%, 0%, 0.1) 12%, 
                    hsla(0, 0%, 0%, 0.15) 20%, 
                    hsla(0, 0%, 0%, 0.25) 120%
                );
            background-position: 
                center center, 
                0% var(--background-y), 
                calc( var(--background-x) + (var(--background-y)*0.2) ) var(--background-y), 
                var(--background-x) var(--background-y);
            background-blend-mode: soft-light, hue, hard-light;
            background-size: var(--imgsize), 200% 700%, 300% 100%, 200% 100%;
            filter: brightness(calc((var(--pointer-from-center)*0.4) + .4)) contrast(1.4) saturate(2.25);          
        }

        .card-shine {
            clip-path: var(--clip);

            &::after {
                content: "";
                background-position: 
                    center center, 
                    0% var(--background-y), 
                    calc( (var(--background-x) + (var(--background-y)*0.2)) * -1) calc( var(--background-y) * -1), 
                    var(--background-x) var(--background-y);
                background-size: var(--imgsize), 200% 400%, 195% 100%, 200% 100%;
                filter: brightness(calc((var(--pointer-from-center)*.4) + .8)) contrast(1.5) saturate(1.25);
                mix-blend-mode: exclusion;    
            }

            &::before {
                content: "";
                -webkit-mask-image: none;
                mask-image: none;
                background-image: 
                    radial-gradient( farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                    hsl(0, 0%, 100%) 0%, 
                    hsla(0, 0%, 0%, 0) 40% 
                );
                background-position: center;
                background-size: cover;
                mix-blend-mode: overlay;
                opacity: 0.75;
                z-index: 1;              
            }
        }

        .card-glare {
            background-image: 
                radial-gradient( farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                hsl(0, 0%, 100%) 0%, 
                hsl(320, 5%, 15%) 150%
            );
            background-size: cover;
            background-position: center center;
            mix-blend-mode: multiply;
            filter: brightness(1.2) contrast(1) saturate(.7);
            opacity: calc( var(--card-opacity) * var(--pointer-from-center) );        
        }
    }

    &[rarity="shinyV"] {
        .card-shine, .card-shine::after {
            --space: 5%;
            --angle: 133deg;
            --mask: none;
            --foil: url("/resources/pokemon/rarity/illusion.webp"); 
            --imgsize: 33%;
            -webkit-mask-image: var(--mask);
            mask-image: var(--mask);
            -webkit-mask-size: var(--imgsize);
            mask-size: var(--imgsize);
            background-blend-mode: exclusion, hue, hard-light;
            filter: brightness(calc((var(--pointer-from-center)*.3) + .35)) contrast(2) saturate(1.5);          
            background-image:
                var(--foil),
                repeating-linear-gradient(0deg, 
                    var(--sunpillar-clr-1) calc(var(--space)*1), 
                    var(--sunpillar-clr-2) calc(var(--space)*2), 
                    var(--sunpillar-clr-3) calc(var(--space)*3), 
                    var(--sunpillar-clr-4) calc(var(--space)*4), 
                    var(--sunpillar-clr-5) calc(var(--space)*5), 
                    var(--sunpillar-clr-6) calc(var(--space)*6), 
                    var(--sunpillar-clr-1) calc(var(--space)*7)
                ),
                repeating-linear-gradient( 
                    var(--angle), 
                    #0e152e 0%, 
                    hsl(180, 10%, 60%) 3.8%, 
                    hsl(180, 29%, 66%) 4.5%, 
                    hsl(180, 10%, 60%) 5.2%, 
                    #0e152e 10% , 
                    #0e152e 12% 
                ),
                radial-gradient(
                    farthest-corner circle 
                    at var(--pointer-x) var(--pointer-y),
                    hsla(0, 0%, 0%, 0.1) 12%, 
                    hsla(0, 0%, 0%, 0.15) 20%, 
                    hsla(0, 0%, 0%, 0.25) 120%
                );
            background-position: 
                center center, 
                0% var(--background-y), 
                calc( var(--background-x) + (var(--background-y)*0.2) ) var(--background-y), 
                var(--background-x) var(--background-y);
            background-blend-mode: soft-light, hue, hard-light;
            background-size: var(--imgsize), 200% 700%, 300% 100%, 200% 100%;
            filter: brightness(calc((var(--pointer-from-center)*0.4) + .4)) contrast(1.4) saturate(2.25);          
        }

        .card-shine {
            &::after {
                content: "";
                background-position: 
                    center center,
                    0% var(--background-y), 
                    calc( (var(--background-x) + (var(--background-y)*0.2)) * -2.3) calc( var(--background-y) * -1), 
                    var(--background-x) var(--background-y);
                background-size: var(--imgsize), 200% 400%, 195% 100%, 200% 100%;
                filter: brightness(calc((var(--pointer-from-center)*.5) + .8)) contrast(1.6) saturate(1.4);
                mix-blend-mode: exclusion;              
            }

            &::before {
                content: none;
                display: none;              
                -webkit-mask-image: none;
                mask-image: none;
                background-image: 
                    radial-gradient( farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                    hsl(0, 0%, 100%) 0%, 
                    hsla(0, 0%, 0%, 0) 40% 
                );
                background-position: center;
                background-size: cover;
                mix-blend-mode: overlay;
                opacity: 0.75;
                z-index: 1;              
            }
        }

        .card-glare {
            background-image: 
                radial-gradient(farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                    hsl(0, 0%, 90%) 5%, 
                    hsl(200, 5%, 45%) 80%, 
                    hsl(320, 40%, 10%) 150% 
                );
            background-size: 120% 140%;
            background-position: center center;
            mix-blend-mode: darken;
            filter: brightness(.88) contrast(2.25) saturate(.7);
            opacity: calc( var(--card-opacity) * var(--pointer-from-center) * 0.75 );        
        }
    }

    &[rarity="shinyVmax"] {
        .card-shine {
            --imgsize: cover;
            --angle: -30deg;
            --r-clr-1: hsl(0, 57%, 37%);
            --r-clr-2: hsl(40, 53%, 39%);
            --r-clr-3: hsl(90, 60%, 35%);
            --r-clr-4: hsl(180, 60%, 35%);
            --r-clr-5: hsl(180, 60%, 35%);
            --r-clr-6: hsl(210, 57%, 39%);
            --r-clr-7: hsl(280, 55%, 31%);
            background-image:
                var(--glitter),
                var(--glitter),
                linear-gradient(var(--angle), 
                    var(--r-clr-1), var(--r-clr-2), var(--r-clr-3), var(--r-clr-4), var(--r-clr-5), var(--r-clr-6), var(--r-clr-7), 
                    var(--r-clr-1), var(--r-clr-2), var(--r-clr-3), var(--r-clr-4), var(--r-clr-5), var(--r-clr-6), var(--r-clr-7), 
                    var(--r-clr-1), var(--r-clr-2), var(--r-clr-3), var(--r-clr-4), var(--r-clr-5), var(--r-clr-6), var(--r-clr-7), 
                    var(--r-clr-1)
                ),
                radial-gradient( 
                    farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                    hsla(248, 5%, 10%, 1) 10%, 
                    hsla(206, 5%, 80%, 0.1) 50%, 
                    hsla(0, 0%, 95%, .98) 90% 
                );
            background-size: var(--glittersize) var(--glittersize), var(--glittersize) var(--glittersize), 400% 400%, cover;
            background-position: 40% 45%, 55% 55%, calc( var(--background-x) * 1.5) calc( var(--background-y) * 1.5 ), center center;
            background-blend-mode: soft-light, overlay, color-burn;
            filter: brightness(1) contrast(1) saturate(.85);          
            
            &::before {
                content: "";
                -webkit-mask-image: none !important;
                mask-image: none !important;
                background-image:
                    var(--foil),
                    radial-gradient( 
                        farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                        hsla(248, 5%, 91%, 0.95) 10%, 
                        hsla(206, 5%, 68%, 0.5) 50%, 
                        hsl(0, 0%, 0%) 120% 
                    );
                background-size: var(--imgsize), cover;
                background-position: center center, center center;
                background-blend-mode: color-burn;
                mix-blend-mode: lighten;
                filter: brightness(1) contrast(1) saturate(.4);
                opacity: 0.35;              
            }

            &::after {
                content: "";
                -webkit-mask-image: none !important;
                mask-image: none !important;
                background-image: 
                    repeating-linear-gradient( 
                        calc( var(--angle) ), 
                        var(--sunpillar-clr-1) calc(var(--space)*1), 
                        var(--sunpillar-clr-2) calc(var(--space)*2), 
                        var(--sunpillar-clr-3) calc(var(--space)*3), 
                        var(--sunpillar-clr-4) calc(var(--space)*4), 
                        var(--sunpillar-clr-5) calc(var(--space)*5), 
                        var(--sunpillar-clr-6) calc(var(--space)*6),
                        var(--sunpillar-clr-1) calc(var(--space)*7)
                    );
                background-size: 400% 800%;
                background-position: calc( 50% + (50% - (var(--background-x))) * 3 ) calc( 50% + (50% - (var(--background-y))) * 3 );
                filter: brightness(calc( 0.75 - ( var(--pointer-from-center) * 0.5 ))) contrast(1) saturate(1);
                mix-blend-mode: hue;              
            }
        }

        .card-glare {
            background-image: 
                radial-gradient( 
                    farthest-corner circle at 
                    var(--pointer-x) var(--pointer-y), 
                    hsla(248, 5%, 90%, 0.45) 0%, 
                    hsla(206, 5%, 30%, 0.45) 45%, 
                    hsla(0, 0%, 0%, .33) 120% 
                );
            filter: brightness(1) contrast(1.25);

            &::after {
                content: "";
                -webkit-mask-image: var(--mask);
                mask-image: var(--mask);
                -webkit-mask-size: cover;
                mask-size: cover;
                background-image: 
                    radial-gradient( 
                        farthest-corner circle at 
                        var(--pointer-x) var(--pointer-y), 
                        hsla(248, 5%, 90%, 0.75) 0%, 
                        hsla(206, 5%, 30%, 0.65) 45%, 
                        hsla(0, 0%, 0%, .75) 100% 
                    );
                filter: brightness(1) contrast(1.25);
                mix-blend-mode: overlay;
                opacity: 1;                 
            }
        }
    }

    &[rarity="vmax"] {
        .card-shine, .card-shine::after {
            --mask: none;
            --foil: url("/resources/pokemon/rarity/vmaxbg.webp"); 
            --imgsize: 60% 30%;          
        }

        .card-shine {
            --space: 6%;
            --angle: 133deg;
            --imgsize: cover;
            background-image:
                var(--foil),
                repeating-linear-gradient(-33deg, 
                    hsl(2, 70%, 47%) calc(var(--space)*1),  
                    hsl(228, 60%, 64%) calc(var(--space)*2), 
                    hsl(176, 55%, 39%) calc(var(--space)*3), 
                    hsl(123, 68%, 35%) calc(var(--space)*4), 
                    hsl(283, 75%, 57%) calc(var(--space)*5), 
                    hsl(2, 70%, 47%) calc(var(--space)*6)
                ),
                repeating-linear-gradient( 
                    var(--angle), 
                    hsla(227, 53%, 12%, 0.5) 0%, 
                    hsl(180, 10%, 50%) 2.5%, 
                    hsl(83, 50%, 35%) 5%, 
                    hsl(180, 10%, 50%) 7.5%, 
                    hsla(227, 53%, 12%, 0.5) 10% , 
                    hsla(227, 53%, 12%, 0.5) 15% 
                ),
                radial-gradient(
                    farthest-corner circle 
                    at var(--pointer-x) var(--pointer-y),
                    hsla(189, 76%, 77%, 0.6) 0%, 
                    hsla(147, 59%, 77%, 0.6) 25%, 
                    hsla(271, 55%, 69%, 0.6) 50%, 
                    hsla(355, 56%, 72%, 0.6) 75%
                );
            background-blend-mode: difference, luminosity, soft-light;
            background-size: var(--imgsize), 1100% 1100%, 600% 600%, 200% 200%;
            background-position: 
                center, 
                var(--background-x) var(--background-y), 
                var(--background-x) var(--background-y), 
                var(--background-x) var(--background-y);
            filter: brightness(calc((var(--pointer-from-center) * .4) + .4)) contrast(2) saturate(1);
            
            &::after {
                content: "";
                background-image:
                    repeating-linear-gradient(0deg, 
                        var(--sunpillar-clr-1) calc(var(--space)*1), 
                        var(--sunpillar-clr-2) calc(var(--space)*2), 
                        var(--sunpillar-clr-3) calc(var(--space)*3), 
                        var(--sunpillar-clr-4) calc(var(--space)*4), 
                        var(--sunpillar-clr-5) calc(var(--space)*5), 
                        var(--sunpillar-clr-6) calc(var(--space)*6), 
                        var(--sunpillar-clr-1) calc(var(--space)*7)
                    ),
                    repeating-linear-gradient( 
                        var(--angle), 
                        #0e152e 0%, 
                        hsl(180, 10%, 60%) 3.8%, 
                        hsl(180, 29%, 66%) 4.5%, 
                        hsl(180, 10%, 60%) 5.2%, 
                        #0e152e 10% , 
                        #0e152e 12% 
                    );
                background-blend-mode: hue, hard-light;
                background-size: 200% 700%, 300% 100%, 200% 100%;
                background-position: 0% var(--background-y), var(--background-x) var(--background-y), var(--background-x) var(--background-y);
                mix-blend-mode: lighten;
                opacity: calc( (0.3 * var(--card-opacity)) + var(--card-opacity) * var(--pointer-from-center) * 0.5 );
                filter: saturate(1.5);              
            }
        }

        .card-glare {
            mix-blend-mode: hard-light;
            filter: brightness(1) contrast(1);
            background-image: 
                radial-gradient( 
                    farthest-corner circle at 
                    var(--pointer-x) var(--pointer-y), 
                    hsla(0, 0%, 100%, 0.75) 0%, 
                    hsl(0, 0%, 0%) 120% 
                );
            opacity: calc( (0.2 * var(--card-opacity)) + var(--card-opacity) * var(--pointer-from-center) * 0.8 );          
        }
    }

    &[rarity="v"] {
        .card-shine, .card-shine::after {
            --space: 5%;
            --angle: 133deg;
            --imgsize: 500px;
            background-image:
                var(--grain),
                repeating-linear-gradient(0deg, 
                    var(--sunpillar-clr-1) calc(var(--space)*1), 
                    var(--sunpillar-clr-2) calc(var(--space)*2), 
                    var(--sunpillar-clr-3) calc(var(--space)*3), 
                    var(--sunpillar-clr-4) calc(var(--space)*4), 
                    var(--sunpillar-clr-5) calc(var(--space)*5), 
                    var(--sunpillar-clr-6) calc(var(--space)*6), 
                    var(--sunpillar-clr-1) calc(var(--space)*7)
                ),
                repeating-linear-gradient( 
                    var(--angle), 
                    #0e152e 0%, 
                    hsl(180, 10%, 60%) 3.8%, 
                    hsl(180, 29%, 66%) 4.5%, 
                    hsl(180, 10%, 60%) 5.2%, 
                    #0e152e 10% , 
                    #0e152e 12% 
                ),
                radial-gradient(
                    farthest-corner circle 
                    at var(--pointer-x) var(--pointer-y),
                    hsla(0, 0%, 0%, 0.1) 12%, 
                    hsla(0, 0%, 0%, 0.15) 20%, 
                    hsla(0, 0%, 0%, 0.25) 120%
                );
            background-blend-mode: screen, hue, hard-light;
            background-size: var(--imgsize) 100%, 200% 700%, 300% 100%, 200% 100%;
            background-position: center, 0% var(--background-y), var(--background-x) var(--background-y), var(--background-x) var(--background-y);
            filter: brightness(.8) contrast(2.95) saturate(.65);          
        }

        .card-shine {
            filter: brightness(.7) contrast(2) saturate(.5);
            
            &::after {
                content: "";
                background-position: center, 0% var(--background-y), calc( var(--background-x) * -2.9) calc( var(--background-y) * -1), var(--background-x) var(--background-y);
                background-size: var(--imgsize) 100%, 200% 400%, 195% 100%, 200% 100%;
                filter: brightness(1) contrast(2.5) saturate(1.75);
                mix-blend-mode: soft-light;              
            }
        }

        .card-glare {
            background-image: 
                radial-gradient( 
                    farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                    hsl(0, 0%, 100%) 0%, 
                    hsla(210, 3%, 54%, 0.33) 45%, 
                    hsla(0, 0%, 20%, 0.9) 130% 
                );
            opacity: calc(var(--card-opacity)*.5);
            mix-blend-mode: hard-light;
            filter: brightness(.9) contrast(1.75);        
        }
    }

    &[rarity="vstar"] {
        .card-shine, .card-shine::after {
            --space: 5%;
            --angle: 133deg;
            --mask: none;
            --foil: url("/resources/pokemon/rarity/ancient.webp"); 
            --imgsize: 18% 15%;
            background-blend-mode: exclusion, hue, hard-light;
            filter: brightness(calc((var(--pointer-from-center) * .25) + .35)) contrast(1.8) saturate(1.75);
            background-image:
                var(--foil),
                repeating-linear-gradient(0deg, 
                    var(--sunpillar-clr-1) calc(var(--space)*1), 
                    var(--sunpillar-clr-2) calc(var(--space)*2), 
                    var(--sunpillar-clr-3) calc(var(--space)*3), 
                    var(--sunpillar-clr-4) calc(var(--space)*4), 
                    var(--sunpillar-clr-5) calc(var(--space)*5), 
                    var(--sunpillar-clr-6) calc(var(--space)*6), 
                    var(--sunpillar-clr-1) calc(var(--space)*7)
                ),
                repeating-linear-gradient( 
                    var(--angle), 
                    #0e152e 0%, 
                    hsl(180, 10%, 60%) 3.8%, 
                    hsl(180, 29%, 66%) 4.5%, 
                    hsl(180, 10%, 60%) 5.2%, 
                    #0e152e 10% , 
                    #0e152e 12% 
                ),
                radial-gradient(
                    farthest-corner circle 
                    at var(--pointer-x) var(--pointer-y),
                    hsla(0, 0%, 0%, 0.1) 12%, 
                    hsla(0, 0%, 0%, 0.15) 20%, 
                    hsla(0, 0%, 0%, 0.25) 120%
                );
            background-blend-mode: soft-light, hue, hard-light;
            background-size: var(--imgsize), 200% 700%, 300% 100%, 200% 100%;
            background-position: center center, 0% var(--background-y), var(--background-x) var(--background-y), var(--background-x) var(--background-y);
            filter: brightness(calc((var(--pointer-from-center) * .75) + .25)) contrast(2) saturate(1.25);          
        }

        .card-shine {
            &::after {
                content: "";
                background-size: var(--imgsize), 200% 400%, 195% 100%, 200% 100%;
                background-position: 
                    center center,
                    0% var(--background-y),
                    calc( var(--background-x) * -2.9) calc( var(--background-y) * -1),
                    var(--background-x) var(--background-y);
                filter: brightness(calc((var(--pointer-from-center) * .75) + .5)) contrast(1.5) saturate(1.5);
                mix-blend-mode: exclusion;              
            }

            &::before {
                content: "";
                background-image: radial-gradient( farthest-corner circle at var(--pointer-x) var(--pointer-y), hsla(190, 7%, 80%, 0.75) 0%, hsla(260, 7%, 50%, 0.25) 45%, hsl(310, 7%, 50%) 120% );
                mix-blend-mode: hard-light;
                z-index: 2;
                opacity: 0.8;              
            }
        }

        .card-glare {
            filter: brightness(.55) contrast(2);
            background-image: 
                radial-gradient( 
                    farthest-corner circle at var(--pointer-x) var(--pointer-y), 
                    hsl(195, 90%, 90%) 5%, 
                    hsl(300, 3%, 60%) 60%, 
                    hsl(350, 0%, 15%) 150% 
                );
            mix-blend-mode: hard-light;
            opacity: calc(var(--card-opacity)*(var(--pointer-from-center)*.75));          
        }
    }
    //#endregion

    //#region Card types
	&.card-bug {
        background: linear-gradient(130deg,
            rgb(155, 249, 186) 0%,
            rgb(93, 182, 123) 25%,
            rgb(81, 156, 106) 50%,
            rgb(93, 182, 123) 75%,
            rgb(155, 249, 186) 100%
        );
        --card-glow: hsl(132, 100%, 56%);
        --card-background-color: rgb(220, 255, 231);
    }
    
	&.card-dark {
        background: linear-gradient(130deg,
            rgb(2, 25, 31) 0%,
            rgb(6, 32, 35) 25%,
            rgb(39, 32, 24) 50%,
            rgb(6, 32, 35) 75%,
            rgb(2, 25, 31) 100%
        );
        --card-glow: hsl(189, 77%, 27%);
        --card-background-color: rgb(177, 177, 177);
    }
    
	&.card-dragon {
        background: linear-gradient(130deg,
            rgb(121, 143, 93) 0%,
            rgb(114, 108, 68) 25%,
            rgb(95, 88, 59) 50%,
            rgb(114, 108, 68) 75%,
            rgb(121, 143, 93) 100%
        );
        --card-glow: hsl(51, 60%, 35%);
        --card-background-color: rgb(255, 245, 205);
    }
    
	&.card-electric {
        background: linear-gradient(130deg,
            rgb(255, 236, 152) 0%,
            rgb(255, 232, 106) 25%,
            rgb(254, 217, 74) 50%,
            rgb(255, 232, 106) 75%,
            rgb(255, 236, 152) 100%
        );
        --card-glow: hsl(54, 87%, 63%);
        --card-background-color: rgb(255, 247, 216);
    }
    
	&.card-fairy {
        background: linear-gradient(130deg,
            rgb(239, 139, 170) 0%,
            rgb(221, 41, 111) 25%,
            rgb(155, 34, 76) 50%,
            rgb(221, 41, 111) 75%,
            rgb(239, 139, 170) 100%
        );
        --card-glow: hsl(323, 100%, 89%);
        --card-background-color: rgb(255, 217, 229);
    }
    
	&.card-fighting {
        background: linear-gradient(130deg,
            rgb(239, 194, 146) 0%,
            rgb(228, 170, 92) 25%,
            rgb(216, 136, 53) 50%,
            rgb(228, 170, 92) 75%,
            rgb(239, 194, 146) 100%
        );
        --card-glow: rgb(145, 90, 39);
        --card-background-color: rgb(255, 232, 208);
    }
    
	&.card-fire {
        background: linear-gradient(130deg,
            rgb(249, 186, 142) 0%,
            rgb(245, 164, 113) 25%,
            rgb(241, 134, 95) 50%,
            rgb(245, 164, 113) 75%,
            rgb(249, 186, 142) 100%
        );
        --card-glow: hsl(9, 81%, 59%);
        --card-background-color: rgb(255, 220, 207);
    }
    
	&.card-flying {
        background: linear-gradient(130deg,
            rgb(193, 220, 242) 0%,
            rgb(147, 181, 208) 25%,
            rgb(115, 158, 193) 50%,
            rgb(147, 181, 208) 75%,
            rgb(193, 220, 242) 100%
        );
        --card-glow: hsl(209, 100%, 72%);
        --card-background-color: rgb(224, 241, 255);
    }
    
	&.card-ghost {
        background: linear-gradient(130deg,
            rgb(160, 166, 236) 0%,
            rgb(116, 121, 198) 25%,
            rgb(99, 105, 186) 50%,
            rgb(116, 121, 198) 75%,
            rgb(160, 166, 236) 100%
        );
        --card-glow: hsl(244, 100%, 60%);
        --card-background-color: rgb(217, 220, 255);
    }
    
	&.card-grass {
        background: linear-gradient(130deg,
            rgb(184, 213, 113) 0%,
            rgb(158, 201, 90) 25%,
            rgb(130, 200, 81) 50%,
            rgb(158, 201, 90) 75%,
            rgb(184, 213, 113) 100%
        );
        --card-glow: hsl(96, 81%, 65%);
        --card-background-color: rgb(223, 255, 201);
    }
    
	&.card-ground {
        background: linear-gradient(130deg,
            rgb(227, 176, 104) 0%,
            rgb(203, 150, 74) 25%,
            rgb(191, 136, 59) 50%,
            rgb(203, 150, 74) 75%,
            rgb(227, 176, 104) 100%
        );
        --card-glow: hsl(36, 100%, 64%);
        --card-background-color: rgb(255, 227, 187);
    }
    
	&.card-ice {
        background: linear-gradient(130deg,
            rgb(200, 237, 255) 0%,
            rgb(180, 231, 255) 25%,
            rgb(136, 215, 255) 50%,
            rgb(180, 231, 255) 75%,
            rgb(200, 237, 255) 100%
        );
        --card-glow: hsl(196, 100%, 75%);
        --card-background-color: rgb(218, 243, 255);
    }
    
	&.card-normal {
        background: linear-gradient(180deg,
            rgb(171, 162, 146) 0%,
            rgb(221, 217, 213) 25%,
            rgb(247, 246, 243) 50%,
            rgb(221, 217, 213) 75%,
            rgb(171, 162, 146) 100%
        );
        --card-glow: hsl(0, 0%, 88%);
        --card-background-color: rgb(233, 233, 233);
    }
    
	&.card-poison {
        background: linear-gradient(130deg,
            rgb(193, 129, 244) 0%,
            rgb(157, 96, 205) 25%,
            rgb(140, 75, 190) 50%,
            rgb(157, 96, 205) 75%,
            rgb(193, 129, 244) 100%
        );
        --card-glow: hsl(276, 100%, 71%);
        --card-background-color: rgb(241, 223, 255);
    }
    
	&.card-psychic {
        background: linear-gradient(130deg,
            rgb(187, 147, 194) 0%,
            rgb(169, 130, 184) 25%,
            rgb(147, 89, 161) 50%,
            rgb(169, 130, 184) 75%,
            rgb(187, 147, 194) 100%
        );
        --card-glow: hsl(281, 62%, 58%);
        --card-background-color: rgb(246, 208, 255);
    }
    
	&.card-rock {
        background: linear-gradient(130deg,
            rgb(201, 85, 59) 0%,
            rgb(170, 65, 42) 25%,
            rgb(149, 60, 40) 50%,
            rgb(170, 65, 42) 75%,
            rgb(201, 85, 59) 100%
        );
        --card-glow: hsl(28, 100%, 57%);
        --card-background-color: rgb(255, 223, 216);
    }
    
	&.card-steel {
        background: linear-gradient(130deg,
            rgb(239, 242, 244) 0%,
            rgb(206, 211, 211) 25%,
            rgb(176, 173, 164) 50%,
            rgb(206, 211, 211) 75%,
            rgb(239, 242, 244) 100%
        );
        --card-glow: hsl(184, 20%, 70%);
        --card-background-color: rgb(228, 228, 228);
    }
    
	&.card-water {
        background: linear-gradient(130deg,
            rgb(147, 206, 243) 0%,
            rgb(117, 188, 232) 25%,
            rgb(75, 180, 236) 50%,
            rgb(117, 188, 232) 75%,
            rgb(147, 206, 243) 100%
        );
        --card-glow: hsl(192, 97%, 60%);
        --card-background-color: rgb(207, 238, 255);
    }
    //#endregion
}
//#endregion

//#region Calendar
.calendar {
    @extend .no-highlight;
    display: grid;
    grid-template-columns: repeat(7, auto);
}

.calendar-month {
    @extend .font, .bold, .largerer, .white;
    position: absolute;
    top: -4rem;
}

.calendar-label {
    display: flex;
    align-items: center;
    justify-content: center;
    line-height: 1;
    color: white;
    background-color: var(--randColorLight);
    padding: 0.2rem;

    &:nth-child(2) {
        border-radius: 5px 0px 0px;
    }
    
    &:last-of-type {
        border-radius: 0px 5px 0px 0px;
    }
}

.calendar-cell {
    cursor: pointer;
    position: relative;
    justify-content: flex-start !important;
    color: var(--randColor);
    width: 6rem;
    height: 6rem;
    background-color: white;
    border: 1px solid var(--randColorLight);
    transition-property: background-color, box-shadow;
    transition-duration: 0.3s;

    > span {
        display: flex;
        align-items: center;
        justify-content: unset;
        margin: 0.2rem;
        line-height: 1;
    }

    &:focus-visible {
        z-index: 1;
        outline: none;
        box-shadow: 0 0 0 3px rgba(0, 85, 255, 0.8);
    }

    &:hover {
        background-color: rgba(255, 255, 255, 0.9);
    }

    &.dimmed {
        background-color: rgba(255, 255, 255, 0.85);

        &:hover {
            background-color: rgba(255, 255, 255, 0.7);
        }
    }
}

.calendar-plan {
    cursor: pointer;
    min-height: 1.2rem;
    width: 100%;
    box-sizing: border-box;
    text-align: center;
    color: white;
    background-color: var(--randColorLight);
    border-radius: 25px;
    font-size: 0.8rem;
    padding: 0.2rem 0.5rem;
    line-height: 1;
    transition-property: background-color box-shadow filter;
    transition-duration: 0.3s;
    animation: none;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;

    &:hover {
        background-color: rgba(var(--randColorOpacity), 0.8);
    }

    &:focus-visible {
        outline: none;
        box-shadow: inset 0 0 0 4px rgba(0, 85, 255, 0.8);
    }

    &.holding {
        animation: planComplete 1s linear forwards;
    }

    &.completed {
        opacity: 0.3;
    }

    &.holiday {
        &:hover {
            filter: brightness(0.85);
        }
    }

    //#region Holidays
    /// January
    &.new-years-day { background-color: #00b7ff; }
    &.martin-luther-king-jr-day { background-color: #2e2e2e; }

    /// February
    &.valentines-day { background-color: #ff4d6d; }
    &.lincolns-birthday { background-color: #555; }
    &.washingtons-birthday { background-color: #3b82f6; }

    /// March
    &.st-patricks-day { background-color: #00a86b; }

    /// April
    &.april-fools-day { background-color: #ff9800; }
    &.good-friday { background-color: #6a0dad; }
    &.earth-day { background-color: #4caf50; }
    &.arbor-day { background-color: #2e7d32; }

    /// May
    &.mothers-day { background-color: #e91e63; }
    &.truman-day { background-color: #1976d2; }
    &.memorial-day { background-color: #b71c1c; }

    /// June
    &.fathers-day { background-color: #1e88e5; }
    &.juneteenth-national-independence-day { background-color: #009688; }

    /// July
    &.independence-day { background-color: #d32f2f; }

    /// September
    &.labor-day { background-color: #607d8b; }

    /// October
    &.indigenous-peoples-day { background-color: #8d6e63; }
    &.halloween { background-color: #ff6f00; }

    /// November
    &.veterans-day { background-color: #455a64; }
    &.thanksgiving-day { background-color: #ff9800; }
    &.black-friday { background-color: #000; }

    /// December
    &.cyber-monday { background-color: #00bcd4; }
    &.christmas-eve { background-color: #43a047; }
    &.christmas-day { background-color: #c62828; }
    &.new-years-eve { background-color: #9c27b0; }
    //#endregion
}
//#endregion

//#region Notepad
/// Made by Ruphaa Ganesh [https://codepen.io/ruphaa/pen/KrvYNN]
.notepad {
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.note {
    width: 25rem;
    height: 38rem;
    background-color: #FEFDF8;
    z-index: 1;
}

.spiral-container {
    height: 3rem;
    background-color: var(--randColorLight);
    display: flex;
    justify-content: center;
    align-items: center;
}

.spiral-hole {
    width: 0.9rem;
    height: 0.9rem;
    border-radius: 50%;
    background-color: var(--randColor);
    margin: 0 0.6rem;
}

.spiral-wire {
    pointer-events: none;
    width: 0.3rem;
    height: 2.5rem;
    background-color: #DFE6F1;
    margin-top: -45px;
    margin-left: 14px;
    border-radius: 2px;
}

.note-lines {
    padding: 0.5rem;
}

.note-line {
    @extend .font;
    cursor: pointer;
    display: flex;
    height: 2rem;
    border-bottom: 0.2rem solid #E7E6E2;
    align-items: flex-end;

    label {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    &:first-of-type {
        @extend .bold, .medium;
    }

    &.finished-line {
        color: var(--randColorLight);
        text-decoration: line-through;
    }
}

.note-corner {
    cursor: pointer;
    position: absolute;
    bottom: 0;
    border-width: 0.5rem;
    border-style: solid;
    transition-property: bottom, right, border;
    transition-duration: 0.4s;

    &:hover {
        border-width: 2rem;
    }

    &.corner-left {
        left: 0;
        border-color: white white silver silver;
    }

    &.corner-right {
        right: 0;
        border-color: white silver silver white;
    }
}
//#endregion

.widget {
    z-index: 2;
    position: absolute;
}

.widget-animation {
    background-color: white;
    padding: 1.6rem;
    border-radius: 25.4px;
    border: 1px solid var(--randColor);
    
	&.custom-shape {
        background-color: unset;
        padding: none;
        border-radius: unset;
        border: none;
    }

    &.speech-bubble::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 50%;
        width: 0;
        height: 0;
        border: 20px solid transparent;
        border-top-color: white;
        border-bottom: 0;
        border-left: 0;
        margin-left: -10px;
        margin-bottom: -20px;
    }
}

.popout {
    z-index: 3;
    position: absolute;
    visibility: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    top: 0;
    left: 0;
}

.popout-animation {
    background-color: white;
    font-size: 0.76em;
    text-align: left;
    border-radius: 20px;
    box-shadow: 0em 0em 0.6em 0.05em var(--randColor);
    max-width: 100vmin;

    &:focus {
        outline: none;
    }
}

.popup-image {
    @extend .no-highlight;
    z-index: 7;
    position: absolute;
    width: 64px;
    height: 64px;
    font-size: 1.2em;
    text-wrap: nowrap;
    
    //#region Items
	&.common {
                filter: drop-shadow(0px 0px 8px rgb(148, 148, 148));
        -webkit-filter: drop-shadow(0px 0px 8px rgb(148, 148, 148));
    }
    
	&.rare {
                filter: drop-shadow(0px 0px 8px rgb(4, 107, 189));
        -webkit-filter: drop-shadow(0px 0px 8px rgb(4, 107, 189));
    }
    
	&.exotic {
                filter: drop-shadow(0px 0px 8px rgb(195, 126, 25));
        -webkit-filter: drop-shadow(0px 0px 8px rgb(195, 126, 25));
    }
    
	&.meme {
                filter: drop-shadow(0px 0px 8px rgb(255, 0, 187));
        -webkit-filter: drop-shadow(0px 0px 8px rgb(255, 0, 187));
    }
    //#endregion    
}

.popup {
    @extend .no-highlight;
    z-index: 7;
    position: absolute;
    background-color: rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(0, 0, 0, 0.4);
    border-radius: 20px;
    padding: 0.5em;
    font-size: 1.2em;
    text-wrap: nowrap;

    img {
        height: 64px;
        width: 64px;
    }

    //#region Items
	&.gold {
        background-color: rgba(255, 215, 0, 0.6);
        border: 1px solid rgb(213, 181, 0);
        box-shadow: 0px 0px 20px rgb(213, 181, 0);
    }
    
	&.common {
        background-color: rgba(202, 203, 202, 0.6);
        border: 1px solid rgb(174, 174, 174);
        box-shadow: 0px 0px 20px rgb(148, 148, 148);
    }
    
	&.rare {
        background-color: rgba(2, 146, 203, 0.6);
        border: 1px solid rgb(0, 109, 159);
        box-shadow: 0px 0px 20px rgb(4, 107, 189);
    }
    
	&.exotic {
        background-color: rgba(231, 191, 79, 0.6);
        border: 1px solid rgb(182, 142, 27);
        box-shadow: 0px 0px 20px rgb(195, 126, 25);
    }
    
	&.meme {
        background-color: rgba(255, 0, 187, 0.6);
        border: 1px solid rgb(173, 0, 127);
        box-shadow: 0px 0px 20px rgb(255, 0, 187);
    }
    //#endregion
}

.draggable {
    z-index: 6;
    visibility: hidden;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--randColor);
    filter: brightness(70%);
}

.toggleable {
    vertical-align: middle;
}

.slider {
    z-index: 0;
    vertical-align: middle;
}

/// Makes element scrollable with no scrollbar
.scrollable {
    overflow-y: auto;
    scrollbar-width: none;

    &::-webkit-scrollbar {
        display: none;
    }
}

.scrollable-arrow {
    opacity: 0;
    display: flex;
    justify-content: center;
    position: absolute;
    left: 50%;
    transform: translate(-50%, 0%);
    width: 100%;
    font-size: 1.4em;
    color: rgba(var(--randColorOpacity), 0.5);
    box-shadow: inset 0em 0em 0.1em 0em var(--randColor);
    background-color: rgba(var(--randColorOpacity), 0.08);
    transition: opacity 200ms;
    
	&.top-arrow {
        top: 0;
        border-radius: 0.8em 0.8em 0em 0em;
    }
    
	&.bottom-arrow {
        bottom: 0;
        border-radius: 0em 0em 0.8em 0.8em;
    }
}

.section-group {
    max-width: 10em;
    width: 100vmin;
    background-color: rgba(var(--randColorOpacity), 0.15);
    border-radius: 20px;
    padding: 1rem;
    
	&.group-medium {
        max-width: 22.5em;
    }
    
	&.group-large {
        max-width: 45em;
    }
}

.section-sub {
    margin: 0em;
    padding: 0em;
    border: 0px;
    border-top: 1px solid var(--randColor);

    legend {
        margin-left: 0.5em;
    }
}

.hoverable-label {
    div {
        visibility: hidden;
    }

    &:hover div {
        visibility: visible;
    }
}

.table {
    width: 100%;
    border-collapse: collapse;
    transition-property: visibility height;
    transition-duration: 2s;

    td:not(.table-no-style), th:not(.table-no-style) {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 0.5rem;
    }

    tr:nth-child(odd) {
        background-color: white;
    }

    tr:nth-child(even) {
        background-color: rgba(var(--randColorOpacity), 0.15);
    }
}

.table-no-style {
    background-color: white;
}

.overlay {
    visibility: hidden;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    height: 100%;
    width: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    
	&.rounded {
        border-radius: 25.4px;
    }
}

.progress-bar {
    @extend .flex-center;
    height: 0.8em;
    width: 100%;
    margin: 0;
    accent-color: var(--randColorLight);
    border-radius: 4px;
    transition: box-shadow 0.3s;

    &::-webkit-slider-thumb {
        cursor: grab;
        border-radius: 25px;
        box-shadow: inset 0px 0px 0px 1px gray;

        &:active {
            cursor: grabbing;
        }
    }

    &:focus-visible {
        outline: none;
        box-shadow: 0 0 0 3px rgba(0, 85, 255, 0.8);
    }
}

.paginate-pages {
    @extend .flex-center, .row, .gap, .large-gap, .float, .middle;
    bottom: 0.3rem;
    list-style: none;
    padding: 0;
    margin: 0.5em;

    li {
        cursor: pointer;

        &:hover {
            color: rgba(var(--randColorOpacity), 0.8);
        }
        
	    &.selected {
            padding: 0.4em 0.7em;
            color: var(--randColorLight);
            border: 1px solid rgba(var(--randColorOpacity), 0.25);
            box-shadow: 0px 0px 2px rgba(var(--randColorOpacity), 0.25);
            border-radius: 8px;
        }

        a {
            display: block;
            border-radius: 8px;
            transition: box-shadow 0.3s;

            &:focus-visible {
                outline: none;
                box-shadow: 0 0 0 3px rgba(0, 85, 255, 0.8);
            }
        }
    }
}

/// React select groups
.collapse-group {
    > div:not(.collapse-group-heading) {
        display: none;
    }
}

/// Snake grid cells
.grid-cell {
    border-radius: 25%;
    box-sizing: border-box;

    &--snake {
        background-color: var(--randColor);
    }

    &--debris {
        background-color: #666;
    }

    &--foodnormal {
        background-color: #0100fe;
    }

    &--foodnormalmoving {
        background-color: #0100fe;
    }

    &--fooddouble {
        background-color: #008301;
    }

    &--fooddoublemoving {
        background-color: #008301;
    }

    &--foodtriple {
        background-color: #fb0005;
    }

    &--foodtriplemoving {
        background-color: #fb0005;
    }

    &--foodbomb {
        background-color: black;
    }
}

.cell {
    display: flex;
    min-width: 30px;
    min-height: 30px;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 1.4em;
    font-weight: 600;
    background-color: var(--randColorLight);
    transition: background-color 0.2s;

    &:focus {
        outline: none;
    }
    
	&.minesweeper {
        border-bottom: 2px solid #7B7B7B;
        border-left: 2px solid #ffffff;
        border-top: 2px solid #ffffff;
        border-right: 2px solid #7B7B7B;

        &:not(.hidden) {
            cursor: grab;

            &:active {
                cursor: grabbing;
            }
        }
        
        &.hidden {
            background-color: var(--randColor);

            &:hover {
                background-color: rgba(var(--randColorOpacity), 0.9);
            }
        }

        /// Flagged incorrectly
	    &.cell.flag:not(.mine):not(.hidden) {
            background-color: rgb(175, 62, 77);
        }

        /// Flagged correctly
	    &.cell.flag.mine:not(.hidden) {
            background-color: #4f8755;
        }

        /// Clicked on a mine
	    &.cell.mine.clicked {
            background-color: rgb(175, 62, 77);
        }

        /// Empty revealed cells
	    &.cell.empty:not(.hidden):not(.mine) {
            background-color: var(--randColorLight);
        }

        /// Numbers
	    &.cell-1 {
            color: #0100fe;
        }
        
	    &.cell-2 {
            color: #008301;
        }
        
	    &.cell-3 {
            color: #fb0005;
        }
        
	    &.cell-4 {
            color: #000185;
        }
        
	    &.cell-5 {
            color: #7e0202;
        }
        
	    &.cell-6 {
            color: #018086;
        }
        
	    &.cell-7 {
            color: #7e0482;
        }
        
	    &.cell-8 {
            color: #747475;
        }
    }
    
	&.twentyfortyeight {
        @extend .no-highlight;

        max-width: 100px;
        max-height: 100px;
        min-width: 50px;
        min-height: 50px;
        width: calc(100vmin - 17.55em);
        height: calc(100vmin - 17.55em);
        margin: 5px;
        display: inline-block;
        border-radius: 7px;
    }
}

.tile {
    @extend .no-highlight;

    cursor: default;
    position: absolute;
    background-size: cover;
    max-width: 100px;
    max-height: 100px;
    min-width: 50px;
    min-height: 50px;
    width: calc(100vmin - 7.1em);
    height: calc(100vmin - 7.1em);
    margin: 5px;
    line-height: 90px;
    display: inline-block;
    font-size: 55px;
    font-weight: bold;
    text-align: center;
    vertical-align: middle;
    border-radius: 7px;
    font-family: "Clear Sans";
    color: #766;
    background-color: #3d2963;
    
	&.merged {
        display: none;
        
	    &.isMoving {
            display: inline;
        }
    }
    
	&.new {
        animation-duration: 0.2s;
        animation-name: newTile;
        animation-fill-mode: forwards;
        animation-delay: 0.15s;
        transform: scale(0);      
    }

    //#region 2048
	&.tile0 {
        background-color: #dcb;
    }
    
	&.tile2 {
        background-color: #eee;
        background-image: url(/resources/2048/2.gif);
    }
    
	&.tile4 {
        background-color: #eec;
        background-image: url(/resources/2048/4.gif);
    }
    
	&.tile8 {
        color: #ffe;
        background-image: url(/resources/2048/8.gif);
    }
    
	&.tile16 {
        color: #ffe;
        background-image: url(/resources/2048/16.gif);
    }
    
	&.tile32 {
        color: #ffe;
        background-image: url(/resources/2048/32.gif);
    }
    
	&.tile64 {
        color: #ffe;
        background-image: url(/resources/2048/64.gif);
    }
    
	&.tile128 {
        color: #ffe;
        background-image: url(/resources/2048/128.gif);
    }
    
	&.tile256 {
        color: #ffe;
        background-image: url(/resources/2048/256.gif);
        font-size: 45px;
    }
    
	&.tile512 {
        color: #ffe;
        background-image: url(/resources/2048/512.gif);
        font-size: 45px;
    }
    
	&.tile1024 {
        color: #fff;
        background-image: url(/resources/2048/1024.gif);
        font-size: 35px;
    }
    //#endregion
}

.slot {
    button {
        cursor: pointer;
        height: 40px;
        width: 40px;
        background-size: 35px;
        background-position: center;
        background-repeat: no-repeat;
        background-color: rgba(var(--randColorOpacity), 0.08);
        border: 1px solid rgba(var(--randColorOpacity), 0.2);
        transition: box-shadow 0.3s;

        &:focus-visible {
            outline: none;
            box-shadow: 0 0 0 2px rgba(0, 85, 255, 0.8);
        }
    }
}

.character {
    &:hover {
        .text-boxed {
            background-color: var(--randColorLight);
        }

        .image-character {
            border: 1px solid var(--randColorLight); 
        }
    }
}

.text-boxed {
    @extend .flex-center;
    cursor: default;
    width: 100%;
    padding: 0.2em;
    border: 1px solid var(--randColor);
    border-radius: 0px 0px 5px 5px;
    color: white !important;
    background-color: var(--randColor);
    box-sizing: border-box;
    transition-property: background-color;
    transition-duration: 0.5s;
}

.text-tag {
    cursor: default;
    background-color: var(--randColor);
    padding: 4px 6px;
    border-radius: 5px;
    color: white;
    font-size: 0.5em;
    
	&.adult-tag {
        background-color: #be0011;
    }
}

.image-cover {
    z-index: 1;
    cursor: pointer;
    position: relative;
    top: 0;
    left: 0;
    max-height: 256px;
    max-width: 195px;
    border-radius: 10px;
    transition-property: scale, top, left;
    transition-duration: 0.3s;
    will-change: scale;

    &:hover {
        scale: 1.03;
    }
    
	&.animation-image-cover {
        top: var(--animeSearcherTopOffset);
        left: 50%;
        scale: 2;

        &:hover {
            scale: 2;
        }
    }
}

.image-character {
    cursor: pointer;
    max-height: 128px;
    border: 1px solid var(--randColor);
    border-radius: 5px 5px 0px 0px;
    transition-property: max-height border;
    transition-duration: 1s;
    
	&.animation-image-character {
        max-height: 160px;
    }
    
	&.large-image {
        max-height: 256px;
    }
}

.image-site {
    max-height: 16px;
    height: 100%;
    max-width: 16px;
    width: 100%;
}

.dialogue {
    &:after {
        content: '';
        position: absolute;
        top: -19px;
        left: 50%;
        margin-left: -10px;
        border-bottom: 20px solid white;
        border-right: 10px solid transparent;
        border-left: 10px solid transparent;
    }

    &:before {
        content: '';
        position: absolute;
        top: -21px;
        left: 50%;
        margin-left: -10px;
        border-bottom: 20px solid var(--randColor);
        border-right: 10px solid transparent;
        border-left: 10px solid transparent;
    }
}

.item-count {
    @extend .flex-center, .font, .smaller;
    position: absolute;
    bottom: 1px;
    right: 1px;
    background-color: rgba(var(--randColorOpacity), 0.2);
    width: 1.2em;
}

.decoration {
    position: absolute;
    max-height: 128px;
    top: -3em;
    left: -3.5em;
    pointer-events: none;
    rotate: -20deg;
    
	&.santa-hat {
        top: -4.3em;
    }
    
	&.witch {
        top: -6.5em;
        left: -4em;
    }
}

.shadow {
    box-shadow: 20px 20px rgba(0, 0, 0, .15);
}

/// Made by PrzemysÅaw Kopciara [https://codepen.io/captain_anonym0us/pen/ybVbpv]
/// Edited by me
.book {
    transition: opacity 0.4s 0.2s;
    perspective: 250vw;
    
    .pages {
        width: 60vw;
        height: 44vw;
        position: relative;
        transform-style: preserve-3d;
        backface-visibility: hidden;
        border-radius: 4px;

        &::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url(/resources/singles/preview.webp);
            background-repeat: no-repeat;
            background-size: cover;
            opacity: 0.2;
        }
    }

    .page {
        @extend .no-highlight;

        cursor: pointer;
        position: absolute;
        top: 0;
        width: 30vw;
        height: 44vw;
        float: none;
        clear: none;
        margin: 0;
        transform-origin: 0 0;
        transition: transform 1.4s;
        backface-visibility: hidden;
        transform-style: preserve-3d;
        background-color: #f0f0f0;

        &::before {
            content: '';
            z-index: 2;
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0);
            transition: background 0.7s;
        }

        &:nth-child(odd) {
            pointer-events: all;
            transform: rotateY(0deg);
            right: 0;
            border-radius: 0 4px 4px 0;
            background-image: linear-gradient(to right, rgba(0, 0, 0, 0.15) 0%, rgba(0, 0, 0, 0) 10%);
            background-position: right top;
            
            &::before {
                background: rgba(0, 0, 0, 0);
            }
        }

        &:nth-child(even) {
            pointer-events: none;
            transform: rotateY(180deg);
            transform-origin: 100% 0;
            left: 0;
            border-radius: 4px 0 0 4px;
            border-color: black;
            background-image: linear-gradient(to left, rgba(0, 0, 0, 0.12) 0%, rgba(0, 0, 0, 0) 10%);

            &::before:not(.invisible) {
                background: rgba(0, 0, 0, 0.2);
            }
        }

        &.flipped {
            &:nth-child(odd) {
                pointer-events: none;
                transform: rotateY(-180deg);

                &::before:not(.invisible) {
                    background: rgba(0, 0, 0, 0.2);
                }
            }

            &:nth-child(even) {
                pointer-events: all;
                transform: rotateY(0deg);

                &::before {
                    background: rgba(0, 0, 0, 0);
                }
            }
        }
    }
}

.page {
    @extend .font, .scrollable;

    width: 30vw;
    height: 44vw;
    background-color: #111111;
    float: left;
    background: left top no-repeat;
    background-size: cover;
    box-sizing: border-box;
    padding: 1rem;
    
    &:first-of-type, &:last-of-type {
        background-color: var(--randColorLight);
    }

    &:nth-child(even) {
        clear: both;
    }

    &:nth-child(odd) {
        background-position: right top;
    }

    &.page-invisible {
        background-color: transparent;
        overflow: visible;
    }

    &.page-cover {
        @extend .flex-center, .column, .gap, .large-gap;

        color: var(--randColor);
        box-shadow:
            inset 8px 0 0 25px var(--randColorLight),
            inset 8px 0 0 40px rgba(var(--randColorOpacity), 0.5);
        padding: unset;
        padding-left: 8px;

        &::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 1rem;
            height: 100%;
            background-color: rgba(var(--randColorOpacity), 0.7);
        }

        span:first-child {
            font-size: 2rem;
            font-weight: bolder;
        }

        img {
            mix-blend-mode: multiply;
        }
    }

    &.page-title {
        @extend .flex-center, .font, .large, .bold;

        padding: 2rem;
        text-align: center;
    }

    &.page-description {
        @extend .flex-center, .row, .gap, .medium-gap, .only-justify-content;

        > div {
            &:first-of-type {
                flex: 0 0 23%;
                height: 100%;
                background: repeating-linear-gradient(-55deg,
                    white,
                    white 10px,
                    var(--randColor) 10px,
                    var(--randColor) 20px);
                opacity: 0.3;
            }

            &:last-of-type {
                display: flex;
                flex-direction: column;
                gap: 1rem;

                ul {
                    margin: 0;
                    padding: 0;
                    list-style: inside;
                }
            }
        }
    }

    &.page-information {
        display: flex;
        flex-direction: column;

        div {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
    }

    &.page-table {
        padding: unset;
        padding-left: 1rem;

        &.page-flipped {
            padding-left: unset;
        }
    }
}

.bookmark {
    @extend .no-highlight;

    z-index: 2;
    cursor: grab;
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    gap: 0.5rem;
    position: absolute;
    top: -2rem;
    left: 1.5rem;
    width: 4vw;
    height: 30vw;
    background-color: var(--randColor);
    filter: brightness(0.9);
    border: 2px solid var(--randColorLight);
    writing-mode: sideways-lr;
    color: var(--randColorLight);

    &:active {
        cursor: grabbing;
    }

    &.flipped {
        left: unset;
        right: 1rem;
    }
}

.dots-between-text {
    display: flex;
    align-items: center;
    width: 100%;

    span {
        &:first-of-type {
            flex: 0 1 auto;
        }

        &:nth-child(2) {
            flex: 1;
            margin: 0.6rem 0.5rem 0;
            height: 1px;
            background-image:
                radial-gradient(
                    circle,
                    var(--randColor) 50%,
                    transparent 51%
                );
            background-size: 8px 1px;
        }

        &:last-of-type {
            flex: 0 0 auto;
            margin-left: auto;
        }
    }
}

.collapsible {
    width: 100%;
    max-height: 0;
    opacity: 0;
    overflow: hidden;
    transition-property: max-height, opacity;
    transition-duration: 0.4s;

    &.show {
        max-height: 100vh;
        opacity: 1;
    }
}

.item-viewer {
    @extend .flex-center, .column, .gap, .font, .no-highlight;
    justify-content: flex-start !important;
    position: absolute;
    top: 0;
    left: 0;
    width: 16em;
    background-color: var(--randColorLight);
    border: 4px solid var(--randColor);
    padding: 1rem;

    span {
        text-align: center;
    }

    img {
        width: 64px;
        height: 64px;
    }
}

.item-name {
    @extend .font, .bold, .large-medium;
    width: 90%;
    padding-bottom: 1rem;
    border-bottom: 2px solid rgba(var(--randColorOpacity), 0.8);
}

.item-rarity {
    font-weight: bold;
}
//#endregion

//#region Effects
.aesthetic-scale {
	&.scale-self {
        transition-property: scale;
        transition-duration: 0.3s;
        will-change: scale;

        &:hover {
            scale: 1.03;
        }
    }
    
	&.scale-all {
        *:not(.leave-me-alone) {
            transition: scale 0.3s;
            will-change: scale;

            &:hover {
                scale: 1.03;
            }
        }
    }
    
	&.scale-span {
        span:not(.leave-me-alone) {
            transition: scale 0.3s;
            will-change: scale;

            &:hover {
                scale: 1.03;
            }
        }
    }
    
	&.scale-li {
        li:not(.leave-me-alone) {
            transition: scale 0.3s;
            will-change: scale;

            &:hover {
                scale: 1.03;
            }
        }
    }
    
	&.scale-div {
        div:not(.leave-me-alone) {
            transition:
                scale 0.3s,
                box-shadow 0.3s;
            will-change: scale;

            &:hover {
                scale: 1.03;
            }
        }
    }
    
	&.scale-table {
        td:not(.leave-me-alone), th:not(.leave-me-alone) {
            transition: scale 0.3s;
            will-change: scale;

            &:hover {
                scale: 1.03;
            }
        }
    }
    
	&.scale-button {
        button:not(.leave-me-alone) {
            transition: scale 0.3s;
            will-change: scale;

            &:hover {
                scale: 1.03;
            }
        }
    }
    
	&.scale-label {
        label:not(.leave-me-alone) {
            transition: scale 0.3s;
            will-change: scale;

            &:hover {
                scale: 1.03;
            }
        }
    }
    
	&.scale-legend {
        legend:not(.leave-me-alone) {
            transition: scale 0.3s;
            will-change: scale;

            &:hover {
                scale: 1.03;
            }
        }
    }
    
	&.scale-input {
        input:not(.leave-me-alone) {
            transition:
                scale 0.3s,
                box-shadow 0.3s;
            will-change: scale;

            &:hover {
                scale: 1.03;
            }
        }
    }
}
//#endregion

//#region Helpers
//#region 2048 positions
@for $row from 0 through 3 {
    @for $column from 0 through 3 {
        .position_#{$row}_#{$column}:not(.isMoving) {
            top: 113 * $row + 62px;
            left: 110 * $column + 27px;
        }
    }
}

/// Row animation
@for $fromRow from 0 through 3 {
    @for $toRow from 0 through 3 {
        $name: row_from_#{$fromRow}_to_#{$toRow};

        @if $fromRow == $toRow {
            .#{$name} {
                top: 113 * $toRow + 62px;
            }
        } @else {
            .#{$name} {
                animation-duration: 0.2s;
                animation-name: $name;
                animation-fill-mode: forwards;
            }

            @keyframes #{$name} {
                from { top: 113 * $fromRow + 62px; }
                to   { top: 113 * $toRow + 62px;   }
            }
        }
    }
}

/// Column animation
@for $fromColumn from 0 through 3 {
    @for $toColumn from 0 through 3 {
        $name: column_from_#{$fromColumn}_to_#{$toColumn};
        
        @if $fromColumn == $toColumn {
            .#{$name} {
                left: 110 * $toColumn + 27px;
            }
        } @else {
            .#{$name} {
                animation-duration: 0.2s;
                animation-name: $name;
                animation-fill-mode: forwards;
            }

            @keyframes #{$name} {
                from { left: 110 * $fromColumn + 27px; }
                to   { left: 110 * $toColumn + 27px;   }
            }
        }
    }
}
//#endregion

.pointer-events-none {
    pointer-events: none;
}

.dragging {
    z-index: 6;
    cursor: grabbing;
    position: absolute !important;
    transform: scale(0.6);
}

.arona-action {
    position: relative;
    cursor: grab;
    opacity: 0;

    &:active {
        cursor: grabbing;
    }
}

.cursor-unset {
    * {
        cursor: unset !important;
    }
}

.cursor-custom {
    @each $name, $selector in $cursor-selectors {
        @if $selector != '' {
            #{$selector} {
                cursor: var(--#{$name}), auto !important;
            }
        }
    }

    cursor: var(--cursorDefault), auto;
    
    //#region Cursors
    &.delicatepink {
        #{$cursor-pointer} {
            cursor: var(--cursorPointer) 9 0, auto !important;
        }
    }
    //#endregion
}

.show-on-top {
    z-index: 3 !important;
}
//#endregion

//#region Inputs
.input-typable {
    width: 10rem;
    border: 1px solid var(--randColor);
    border-radius: 0.4rem;
    transition: box-shadow 0.3s;

    &::placeholder {
        color: var(--randColor);
    }

    &:focus {
        outline: none;
        box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.5);
    }

    &:hover {
        border: 1px solid var(--randColorLight);
    }

	&.no-side {
        border: none;
        text-align: right;
        padding: 0;
    }
    
	&.all-side {
        border-radius: 5.6px;
        margin: 0.2em;
        width: 100%;
        
        &.input-button-input {
            font-size: 0.8em;
            max-width: 10.3em;
            padding: 0.15rem 0.15rem;
        }
    }
    
	&.right-side {
        padding: 0.05rem 0.15rem;
        border-right: none;
        border-radius: 5.6px 0px 0px 5.6px;
        
        &.with-help-button {
            height: 2.05em;
            max-width: 15.5em;
            width: 100vmin;
        }
    }
}

.input-with-button-inside {
    position: relative;

    button {
        position: absolute;
        right: 0.5em;
        top: 50%;
        transform: translate(0%, -50%);
    }
}

.input-floating {
    font-size: 1em;
    width: 1em;
    border: none;
    text-align: right;
    padding: 0;

    &:focus {
        outline: none;
    }
}

.input-game {
    box-sizing: border-box;
    border: 2px solid black;
    width: 100%;
    height: 100%;
    text-align: center;

    &:focus {
        outline: none;
    }
}

.input-fieldset {
    @extend .font;

    border: 2px solid var(--randColorLight);
    transition: border 0.5s;
    
    &:focus-within {
        border: 2px solid rgb(0, 179, 255);
    }

    input {
        border: none;

        &:focus {
            outline: none;
        }
    }

    &.input-incorrect {
        border-color: #cb3439;
    }
}
//#endregion

//#region Layout
/// Space between elements | []-----[]
.element-ends {
    width: 100%;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    justify-content: space-between;
    row-gap: 0.5em;
    
	&.not-spaced {
        justify-content: unset;
    }
}

/// Button sets [    ]  |  [  ] [  ]  |  [ ] [ ] [ ]
.button-set-two {
    width: 100%;

    button {
        width: 50%;
    }
}

.when-elements-are-not-straight {
    display: inline-flex;
}

.flex-center {
    display: flex;
    justify-content: center;
    align-items: center;
    
	&.justify-content-right {
        justify-content: right;
    }
    
	&.align-items-left {
        align-items: flex-start;
    }
    
	&.only-align-items {
        justify-content: unset;
    }
    
	&.only-justify-content {
        align-items: unset;
    }
    
	&.only-flex {
        justify-content: unset;
        align-items: unset;
    }
    
	&.row {
        flex-direction: row;
    }
    
	&.column {
        flex-direction: column;
    }
    
	&.gap {
        gap: 0.3em;
        
        &.small-gap {
            gap: 0.6em;
        }
        
	    &.medium-gap {
            gap: 1em;
        }
        
	    &.large-gap {
            gap: 2em;
        }
        
	    &.larger-gap {
            gap: 3em;
        }
    }
    
	&.wrap {
        flex-wrap: wrap;
    }
}

.grid {
    display: grid;
    align-items: center;
    justify-content: center;
    gap: 0.3em;
    
	&.col-auto {
        grid-template-columns: max-content max-content;
    }
    
	&.col-50-50 {
        grid-template-columns: repeat(2, 1fr);
    }
    
	&.col-2 {
        &.spread-short {
            grid-template-columns: repeat(2, 2.225em);
        }
        
	    &.spread-average {
            grid-template-columns: repeat(2, 3.2em);
        }
        
	    &.spread-average-long {
            grid-template-columns: repeat(2, 4em);
        }
        
	    &.spread-long {
            grid-template-columns: repeat(2, 9.38em);
        }
        
	    &.spread-setting {
            column-gap: 1em;
            grid-template-columns: repeat(2, 4.5em);
        }
    }
    
	&.col-3 {
        grid-template-columns: repeat(3, 2.225em);
        
	    &.spread-long {
            grid-template-columns: repeat(3, 9.38em);
        }
    }
    
	&.col-4 {
        grid-template-columns: repeat(4, 2.225em);
        
	    &.spread-inventory {
            grid-template-columns: repeat(4, 2.5em);
        }
    }
    
	&.col-inventory {
        grid-template-columns: repeat(2, 2.225em);
    }
}

.space-nicely {
	&.space-top {
        margin: 0.9rem 0rem 0.3rem;
        
	    &.length-small {
            margin-top: 0.3rem;
        }
        
	    &.length-medium {
            margin-top: 0.5rem;
        }
        
	    &.not-bottom {
            margin-bottom: 0rem;
        }
    }
    
	&.space-right {
        
	    &.length-short {
            margin-right: 0.15rem;
        }
    }
    
	&.space-bottom {
        margin-bottom: 0.6rem;
        
	    &.length-short {
            margin-bottom: 0.25rem;
        }
        
	    &.length-long {
            margin-bottom: 1rem;
        }
        
	    &.length-longer {
            margin-bottom: 2rem;
        }
    }
    
	&.space-left {
        margin-left: 1.5rem;
        
	    &.length-short {
            margin-left: 0.15rem;
        }
        
	    &.length-medium {
            margin-left: 0.8rem;
        }
    }
    
	&.space-all {
        margin: 0.6rem;
        
	    &.length-long {
            margin: 1rem;
        }
    }
}

/// Floating positions for elements
.float {
    position: absolute;
    
	&.bottom {
        margin: 0em 1.5em 0em 0.5em;
        bottom: 2.1em;

	    &.relative {
            position: relative;
            margin-bottom: -1.78em;
            bottom: 2.4em;
        }
    }
    
	&.center {
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
    
	&.middle {
        left: 50%;
        transform: translate(-50%);
    }
    
	&.middle-left {
        left: 40%;
        transform: translateX(-50%);
    }
    
	&.middle-right {
        left: 60%;
        transform: translateX(-50%);
    }
    
	&.bottom-left {
        bottom: 2.8em;
        left: 2.8em;
    }
    
	&.bottom-right {
        bottom: 2.8em;
        right: 3.8em;
    }
}

/// Position for the author's name
.author-name {
    position: absolute;
    bottom: 0.5rem;
    right: 2rem;
}

/// Bar on top of widget
.hotbar {
    @extend .flex-center, .row;
    position: fixed;
    top: -1.2em;
    right: 1.2em;
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 6px 6px 0px 0px;
    height: 1.2em;
}

/// Maximize widget with a little of leeway
.fullscreen {
    top: 1.4em;
    left: 0.8em;
    min-height: calc(100vh - 2.2em);
    max-height: calc(100vh - 2.2em);
    min-width: calc(100vw - 1.3em);
    max-width: calc(100vw - 1.3em);
}

.fullscreen-animation {
    min-height: calc(100vh - 5.2em);
    max-height: calc(100vh - 5.2em);
}

.collapsed {
    width: 64px;
    height: 64px;
    transform: scale(0);
}

.collapse-animation {
    transform: scale(0);
    transition-property: transform;
    transition-duration: 2s;
}

.text-above {
    position: absolute;
    margin-bottom: 10em;
}

.origin-left {
    transform-origin: left;
}

.game-controls {
    @extend .element-ends;
    flex-wrap: nowrap;
    margin-top: 2rem;
}
//#endregion

//#region Shapes
.line {
    width: 100%;
    
	&.above {
        padding-top: 1rem;
        margin-top: 1rem;
        border-top: 2px solid rgba(var(--randColorOpacity), 0.08);
    }
    
	&.bellow {
        padding-bottom: 0.5rem;
        margin-bottom: 1rem;
        border-bottom: 2px solid rgba(var(--randColorOpacity), 0.08);
    }
}

.circle {
    height: 20px;
    width: 20px;
    background-color: var(--randColor);
    border-radius: 50%;
    display: inline-block;
    
	&.pokemon {
	    &.bug {
            @include circle-color(#1c4a2b);
        }
        
	    &.dark {
            @include circle-color(#0a333d);
        }
        
	    &.dragon {
            @include circle-color(#a6812c);
        }
        
	    &.electric {
            @include circle-color(#fdce12);
        }
        
	    &.fairy {
            @include circle-color(#cd4779);
        }
        
	    &.fighting {
            @include circle-color(#a63b26);
        }
        
	    &.fire {
            @include circle-color(#c3222a);
        }
        
	    &.flying {
            @include circle-color(#4e6679);
        }
        
	    &.ghost {
            @include circle-color(#2f3368);
        }
        
	    &.grass {
            @include circle-color(#139a43);
        }
        
	    &.ground {
            @include circle-color(#a47128);
        }
        
	    &.ice {
            @include circle-color(#84d0f5);
        }
        
	    &.normal {
            @include circle-color(#cfc5c2);
        }
        
	    &.poison {
            @include circle-color(#5e2c85);
        }
        
	    &.psychic {
            @include circle-color(#78438f);
        }
        
	    &.rock {
            @include circle-color(#48160b);
        }
        
	    &.steel {
            @include circle-color(#928779);
        }
        
	    &.water {
            @include circle-color(#0476bd);
        }
    }
}

.box {
    border: 1px solid var(--randColor);
    border-radius: 7.5px;
    padding: 1rem;

    &:focus-visible {
        outline: none;
        box-shadow: 0 0 0 4px rgba(0, 85, 255, 0.8);
    }
    
	&.dimmed-border {
        border: 1px solid rgba(var(--randColorOpacity), 0.2);
    }
    
	&.dimmed {
        background-color: rgba(var(--randColorOpacity), 0.08);
    }
}

/// Made by Temani Afif [https://css-shape.com/yin-yang/]
.yin-yang {
    height: 128px;
    aspect-ratio: 1;
    border-radius: 50%;
    background:
        radial-gradient(25% 25% at 50% 25%,#000 24%,#fff 26% 99%,#0000 101%), 
        radial-gradient(25% 25% at 50% 75%,#fff 24%,#000 26% 99%,#0000 101%), 
        conic-gradient(#000 50%, #fff 0);
    border: 1px solid;
    animation: yinYangSpin 40000s infinite;
    transform-origin: top left;
}

.yin-yang-name {
    @extend .font, .bold, .white, .float, .center, .no-highlight;
    cursor: pointer;
    z-index: 1;
    max-width: 5rem;
    max-height: 5rem;
    padding: 0.5rem;
    border-radius: 25.4px;
    background-color: rgba(var(--randColorOpacity), 0.5);
    text-align: center;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}
//#endregion

//#region Theme
//#region Battery colors
.gradient-color-red, .green-color-red::after {
    background: var(--gradient-color-red);
}

.gradient-color-green, .green-color-green::after {
    background: var(--gradient-color-green);
}

.gradient-color-orange, .green-color-orange::after {
    background: var(--gradient-color-orange);
}

.gradient-color-yellow, .green-color-yellow::after {
    background: var(--gradient-color-yellow);
}
//#endregion

//#region Game colors
.item-common {
    color: rgb(148, 148, 148);
}

.item-rare {
    color: rgb(4, 107, 189);
}

.item-exotic {
    color: rgb(195, 126, 25);
}

.item-meme {
    color: rgb(255, 0, 187);
}

.health {
    color: red;
}

.mana {
    color: blue;
}

.attack {
    color: #cb47dd;
}

.defense {
    color: #010000;
}

.strength {
    color: #ab0000;
}

.agility {
    color: #2dd16c;
}

.vitality {
    color: #be0011;
}

.resilience {
    color: #808080;
}

.intelligence {
    color: #337de9;
}

.dexterity {
    color: #e86801;
}

.luck {
    color: #b5af00;
}
//#endregion

/// Matches the color to the corresponding element
.button-match {
    @extend .no-highlight;

    opacity: 1;
    padding: 0.47rem;
    border: none;
    border-radius: 9px;
    color: white;
    background-image: radial-gradient(
        100% 100% at 100% 0,
        var(--randColorLight) 0,
        var(--randColor) 100%);
    background-color: transparent;
    transition:
        opacity 0.3s,
        color 0.3s,
        scale 0.1s,
        box-shadow 0.3s;
    
    &:hover {
        cursor: pointer;
        opacity: 0.7;
    }

    &:active {
        scale: 0.98;
    }

    &:disabled {
        opacity: 0.3;
    }

    &:focus-visible {
        outline: none;
        box-shadow: 0 0 0 3px rgba(0, 85, 255, 0.8);
    }
    
	&.option {
        padding: 0.2rem 0.4rem;
        border-radius: 6.6px;
        font-size: 0.76em;
        
        &.opt-long {
            max-width: 25em;
            min-width: 5em;
            width: calc(100vmin - 3.2em);
        }
        
        &.opt-small {
            width: 8em;
        }
    }
    
	&.inverse {
        color: var(--randColor);
        background-image: none;
        padding: 0rem 0.35rem;

        &:hover {
            color: rgba(var(--randColorOpacity), 0.8);
            background-color: unset;
        }

        &:active:not(.disabled-active) {
            transform: scale(0.93);
        }
        
        &.disabled {
            color: rgba(var(--randColorOpacity), 0.2);
            
            &:hover {
                color: rgba(var(--randColorOpacity), 0.5);
                background-color: unset;
            }
        }
        
        &.circular {
            height: 2.1em;
            width: 2.1em;    
            border-radius: 50%;
            background-color: rgba(var(--randColorOpacity), 0.1);
            
            &:hover {
                color: rgba(var(--randColorOpacity), 0.8);
                background-color: rgba(var(--randColorOpacity), 0.2);
            }
        }
        
        &.inv-small {
            font-size: 0.95em;
        }
    }
    
	&.fadded {
        color: rgba(var(--randColorOpacity), 0.08);
        background-image: none;
        background-color: rgba(var(--randColorOpacity), 0.08);
        
        &:hover {
            color: white;
            background-color: rgba(var(--randColorOpacity), 0.5);
        }
        
        &.inversed {
            color: rgba(var(--randColorOpacity), 0.2);
            background-color: unset;
            background-image: none;

            &:hover {
                color: rgba(var(--randColorOpacity), 0.5);
                background-color: unset;
            }
            
            &.inversed-active {
                color: var(--randColor);
            }
        }
    }
    
	&.with-input {
        padding: 0.65rem;
    }
    
	&.button-correct {
        opacity: 1;
        background-image: radial-gradient(
            100% 100% at 100% 0,
            #00cc0090 0,
            #008301 100%);

        &:hover {
            opacity: 0.7;
        }
    }
    
	&.button-incorrect {
        opacity: 1;
        background-image: radial-gradient(
            100% 100% at 100% 0,
            #ffb3b4 0,
            #fb0005 100%);

        &:hover {
            opacity: 0.7;
        }
    }
    
	&.button-game {
        width: 100%;
        max-height: 4rem;
        min-height: 2rem;
        height: calc(100vmin - 17rem);
    }
}

.input-match {
    height: 2.5em;
    border: 1px solid var(--randColor);
    border-radius: 5px;
    padding-left: 0.8em;
    color: var(--randColorLight);
    transition: border-color 0.3s;

    &::placeholder {
        color: rgba(var(--randColorOpacity), 0.4);
    }

    &:focus {
        outline: none;
        box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.5);
    }

    &:hover {
        border: 1px solid var(--randColorLight);
    }
    
	&.no-border {
        border: none;
        padding: unset;
    }

    &.input-incorrect {
        border-color: #cb3439;
    }
}

.select-match {
    @extend .no-highlight;
    color: var(--randColor);
    font-size: 0.75em;
    width: 100%;

    [aria-disabled='true'] {
        cursor: not-allowed;
        background-color: lightgray;
    }
}

.radio-match {
    font-size: 0.76em;

    input[type="radio"] {
        display: none;

        &:checked + label {
            opacity: 1;
        }
    }

    label {
        @extend .no-highlight;

        display:inline-block;
        max-width: 9.34em;
        min-width: 3em;
        width: calc(100vmin - 14em);
        text-align: center;
        padding: 0.21rem 1rem;
        border-radius: 6px;
        color: white;
        background-color: var(--randColor);
        opacity: 0.5;
        white-space: nowrap;

        &:hover {
            cursor: pointer;
            background-color: rgba(var(--randColorOpacity), 0.8);
        }

        &:active {
            transform: scale(0.98);
        }
    }
    
	&.inverse {
        label {
            color: var(--randColor);
            opacity: 0.2;
            background-color: transparent;
            padding: 0rem 0.35rem;
            width: unset;
            display: unset;

            &:hover {
                opacity: 0.5;
            }
        }

        &:active {
            transform: scale(0.93);
        }
    }
}

.textarea-match {
    height: 6.3em;
    max-width: 30.1em;
    width: calc(100vmin - 4.05em);
    border: none;
    resize: none;
    outline: none;
    padding: 0;
    color: var(--randColorLight);

    &::placeholder {
        color: rgba(var(--randColorOpacity), 0.4);
    }
}

.link-match {
    cursor: pointer;
    color: var(--randColor);
    transition:
        color 0.3s,
        box-shadow 0.3s;

    &:hover {
        color: rgba(var(--randColorOpacity), 0.8);
    }

    &:active {
        color: var(--randColorLight);
    }

    &:focus-visible {
        outline: none;
        box-shadow: 0 0 0 4px rgba(0, 85, 255, 0.8);
    }
}

.color-input-match {
    border: 1px solid rgba(var(--randColorOpacity), 0.4);
    border-radius: 50%;
    inline-size: 2em;
    block-size: 2em;
    padding: 2px;
    background-color: white;
    transition: box-shadow 0.3s;

    &::-webkit-color-swatch-wrapper {
        padding: 1px;
    }

    &::-webkit-color-swatch {
        border-radius: 50%;
    }

    &:disabled {
        filter: brightness(85%);
    }

    &:focus-visible {
        outline: none;
        box-shadow: 0 0 0 3px rgba(0, 85, 255, 0.8);
    }
    
	&.boxxed {
        border-radius: 8px;
        width: 100%;

        &::-webkit-color-swatch {
            border-radius: 6px;
        }
    }
}

.color-input-button {
    position: relative;

    input[type="color"] {
        cursor: pointer;
        opacity: 0;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
    }
}

.file-input-match {
    @extend .button-match;

    input[type="file"] {
        display: none;
    }
    label {
        cursor: pointer;
        position: relative;
        display: block;
        text-align: center;

        &::after {
            content: '';
            position: absolute;
            inset: -10px;
            border: 4px solid rgba(0, 85, 255, 0.8);
            border-radius: 12px;
            opacity: 0;
            transition: opacity 0.3s;
        }

        &:focus-visible {
            outline: none;

            &::after {
                opacity: 1;
            }
        }
    }
}

/// 2-parter that rounds the scrollbar at the top and bottom right edges
.cut-scrollbar-corner-part-1 {
    overflow: hidden;
    border: 1px solid var(--randColor);
    border-radius: 15px;
    
	&.textarea {
        height: 4.8em;
    }
    
	&.p {
        height: 8.5em;
        
        &.area-large {
            height: 15em;
        }
    }
}

.cut-scrollbar-corner-part-2 {
    padding: 0rem;
    margin: 0rem;
    padding-left: 0.4em;
    text-align: center;
    overflow-y: scroll;
    overflow-x: hidden;
    font-size: 0.948em;
    background-color: white;
    box-sizing: border-box;

	&.textarea {
        height: 100%;
        max-width: 30em;
        width: calc(100vmin - 4em);
        border: none;
        resize: none;
        outline: none;
        color: var(--randColorLight);
    }
    
	&.p {
        height: 100%;
        max-width: 24.4em;
        width: calc(100vmin - 3.2em);
        word-wrap: break-word;
        outline: none;
        color: var(--randColorLight);
        
        &.area-short {
            height: 6.5em;
            width: unset;
        }
        
        &.area-large {
            max-width: 40em;
        }
    }
}

.disabled-option {
    opacity: 0.5;
}

.doesnt-work {
    background-color: rgb(255, 0, 0);

    &:hover {
        cursor: not-allowed;
        background-color: rgb(255, 0, 0);
    }

    &:active {
        transform: none;
    }
}

.no-highlight {
    -webkit-touch-callout: none;
    -webkit-user-select: none;
     -khtml-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
}

.fill-width {
    box-sizing: border-box;
    width: 100%;
}

.custom-scrollbar {
    overflow-x: auto;
    padding-bottom: 0.2rem;

    &::-webkit-scrollbar {
        width: 0.5rem;
        height: 0.5rem;
    }

    &::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 5px;
    }

    &::-webkit-scrollbar-thumb {
        background: rgba(var(--randColorOpacity), 0.5);
        border-radius: 5px;
    }

    &::-webkit-scrollbar-thumb:hover {
        background: rgba(var(--randColorOpacity), 0.4);
    }
}

.highlighted {
    background-color: rgba(var(--randColorOpacity), 0.2);
}
//#endregion

//#region Typography
.font {
    color: var(--randColor);
    
    /// Font sizes
	&.largerer     { font-size: 3.25em; }
	&.larger       { font-size: 2.5em; }
	&.large        { font-size: 1.75em; }
	&.large-medium { font-size: 1.31em; }
	&.medium       { font-size: 1.17em; }
	&.small        { font-size: 0.8em; }
	&.smaller      { font-size: 0.7em; }
	&.micro        { font-size: 0.6em; }

    /// Font weights and styles
	&.normal { font-weight: normal; }
	&.italic { font-style: italic; }
	&.bold   { font-weight: bold; }
    
    /// Text colors
	&.no-color { color: white; }
	&.white    { color: white; }
	&.black    { color: black; }
    &.spoiler  { color: #ff001560; }

    /// Transparent text
	&.transparent-normal {
        font-weight: normal;
        color: rgba(var(--randColorOpacity), 0.4);    
    }
	&.transparent-bold {
        font-weight: bold;
        color: rgba(var(--randColorOpacity), 0.4);
    }
	&.transparent-white {
        color: rgba(255, 255, 255, .2);
    }
    
    /// Word breaking
	&.break-word    { word-break: break-all; }
	&.no-break-word { white-space: nowrap; }
}

.font-quote {
    @extend .no-highlight;
    margin: 0rem 0.6rem;
    font-weight: bold;
    color: var(--randColor);
    
	&.large {
        font-size: 3.5em;
    }
}

.font-author {
    font-size: 0.9em;
    float: right;
    font-style: italic;
    margin: 0.6rem 1.85rem 0.94rem 0rem;
    color: var(--randColor);
}

.difficulty {
	&.easy {
        color: #008301;
        text-shadow: 0 0 2px #008301;
    }
    
	&.medium {
        color: #fdce12;
        text-shadow: 0 0 2px #fdce12;
    }
    
	&.hard {
        color: #fb0005;
        text-shadow: 0 0 2px #fb0005;
    }
}

.alternating-text-color {
    span:not(.no-alternating-text-color) {
        &:nth-child(odd) {
            color: var(--randColor);
        }

        &:nth-child(even) {
            color: var(--randColorLight);
        }
    }
    
	&.fade-color {
        span:not(.no-alternating-text-color) {
            &:nth-child(even) {
                color: rgba(var(--randColorOpacity), 0.4);    
            }
        }
    };
}
//#endregion
//#endregion


//////////////////// Libraries & Scripts ////////////////////
//#region
//#region Tabs
.react-tabs {
    @extend .no-highlight;

    &__tab-list {
        border-bottom: 1px solid var(--randColor);
        margin: 0 0 10px;
        padding: 0;
    }

    &__tab {
        display: inline-block;
        border: 1px solid transparent;
        border-bottom: none;
        bottom: -1px;
        position: relative;
        list-style: none;
        padding: 6px 12px;
        cursor: pointer;
        color: rgba(var(--randColorOpacity), 0.4);
        transition: box-shadow 0.3s;

        &--selected {
            background: #fff;
            border-color: var(--randColor);
            color: var(--randColor);
            border-radius: 10px 10px 0 0;
        }

        &--disabled {
            color: GrayText;
            cursor: default;
        }

        &:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 85, 255, 0.8);
        }

        &:after {
            content: "";
            position: absolute;
            height: 5px;
            left: -4px;
            right: -4px;
            bottom: -5px;
            background: #fff;
        }
    }

    &__tab-panel {
        display: none;

        &--selected {
            display: block;
        }
    }
}
//#endregion

//#region Calendar
.react-calendar {
    width: unset !important;
    color: var(--randColor);
    border-color: var(--randColor) !important;
}

.react-calendar__tile--active,
.react-calendar__tile--hasActive {
    background: var(--randColor) !important;
}

.react-calendar__tile--active:enabled:hover,
.react-calendar__tile--active:enabled:focus,
.react-calendar__tile--hasActive:enabled:hover,
.react-calendar__tile--hasActive:enabled:focus {
    background: var(--randColorLight) !important;
}
//#endregion

//#region Time picker
.react-time-picker__wrapper {
    @extend .input-match;
}

.react-time-picker__clock {
    border-color: var(--randColor) !important;
    position: absolute !important;
    top: -12.5em !important;
}

.react-time-picker__button:enabled:hover .react-time-picker__button__icon,
.react-time-picker__button:enabled:focus .react-time-picker__button__icon {
    stroke: var(--randColor) !important;
}
//#endregion

//#region Clock
.react-clock {
    top: 0%;
}

.react-clock__face {
    border-color: var(--randColor) !important;
}

.react-clock__mark__body,
.react-clock__hand__body {
    background-color: var(--randColorLight) !important;
}
//#endregion

//#region Spreadsheet
.Spreadsheet {
    padding-bottom: 0.7rem;
}
//#endregion

//#region Simplebar
.simplebar-track.simplebar-vertical .simplebar-scrollbar:before {
    background-color: var(--randColor);
}

.simplebar-track.simplebar-horizontal .simplebar-scrollbar:before {
    background-color: var(--randColor);
}

.simplebar-offset {
    direction: inherit !important;
    box-sizing: inherit !important;
    resize: none !important;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    padding: 0;
    margin: 0;
    -webkit-overflow-scrolling: touch;
}

.simplebar-content-wrapper {
    direction: inherit;
    box-sizing: border-box !important;
    position: relative;
    display: block;
    height: 100%; /* Required for horizontal native scrollbar to not appear if parent is taller than natural height */
    width: auto;
    max-width: 100%; /* Not required for horizontal scroll to trigger */
    max-height: 100%; /* Needed for vertical scroll to trigger */
    overflow: auto;
    scrollbar-width: none;
    -ms-overflow-style: none;

    &:focus {
        outline: none;
    }
}

.simplebar-track {
    z-index: 1;
    position: absolute;
    right: 0;
    bottom: 0;
    pointer-events: none;
    overflow: hidden;
}

.simplebar-scrollbar:before {
    position: absolute;
    content: '';
    background: black;
    border-radius: 7px;
    left: 2px;
    right: 2px;
    opacity: 0;
    transition: opacity 0.2s 0.5s linear;
}

.simplebar-scrollbar.simplebar-visible:before {
    opacity: 0.5;
    transition-delay: 0s;
    transition-duration: 0s;
}

.simplebar-track.simplebar-vertical {
    top: 0;
    width: 11px;
}

.simplebar-scrollbar:before {
    top: 2px;
    bottom: 2px;
    left: 2px;
    right: 2px;
}
//#endregion

//#region Live2D widget
#waifu-toggle {
    background-color: var(--randColorLight);
	border-radius: 5px;
	bottom: 66px;
	color: #fff;
	cursor: pointer;
	font-size: 12px;
	left: 0;
	margin-left: -100px;
	padding: 5px 2px 5px 5px;
	position: fixed;
	transition: margin-left 1s;
	width: 60px;
	writing-mode: vertical-rl;
    
	&.waifu-toggle-active {
        margin-left: -50px;

        &:hover {
            margin-left: -30px;
        }
    }
}

#waifu {
	bottom: -1000px;
	left: 0;
	line-height: 0;
	margin-bottom: -13px;
	position: fixed;
	transition: transform .3s ease-in-out, bottom 3s ease-in-out;
	z-index: 1;

    &:hover {
        transform: translateY(0);

        #waifu-tool {
            opacity: 1;
        }
    }
    
	&.waifu-right-side {
        left: unset;
        right: 20px;

        #waifu-tool-switch-side {
            transform: scaleX(-1);
        }
    }
}

#waifu-tips {
	animation: shake 50s ease-in-out 5s infinite;
    background-color: var(--randColorLight);
    border: 1px solid rgba(0, 0, 0, 0.2);
	border-radius: 12px;
	box-shadow: 0 3px 15px 2px rgba(191, 158, 118, .2);
	font-size: 14px;
	line-height: 24px;
	margin: -30px 20px;
	min-height: 70px;
	opacity: 0;
	overflow: hidden;
	padding: 5px 10px;
	position: absolute;
	text-overflow: ellipsis;
    text-align: center;
	transition: opacity 1s;
	width: 250px;
    word-break: keep-all;
    will-change: transform;

    span {
        color: #0099cc;
    }
    
	&.waifu-tips-active {
        opacity: 1;
        transition: opacity .2s;    
    }
}

#live2d {
	cursor: grab;
	height: 300px;
	position: relative;
	width: 300px;

    &:active {
        cursor: grabbing;
    }
}

#waifu-tool {
	color: #aaa;
	opacity: 0;
	position: absolute;
	right: -10px;
	top: 70px;
	transition: opacity 1s;

    span {
        display: block;
        height: 30px;
        text-align: center;    
    }

    svg {
        fill: var(--randColorLight);
        cursor: pointer;
        height: 25px;
        transition: fill .3s;

        &:hover {
            fill: var(--randColorLight);
            filter: brightness(0.85);
        }

        &:active {
            fill: var(--randColorLight);
            filter: brightness(0.8);
        }
    }
}
//#endregion
//#endregion


//////////////////// IDs ////////////////////
//#region
#Base {
    background-color: rgba(var(--randColorOpacity), 0.8);
}

#App {
    position: relative;
    overflow: hidden;
    transition-property: background-color, border;
    transition-duration: 500ms;
    transition-timing-function: linear;
}

#widget-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;

    #widget-button-setting {
        position: absolute;
        top: 1em;
        right: 1em;
        color: darkgray;
        opacity: 0.5;

        &:hover, &:focus-visible {
            opacity: 1;
            transition: opacity 0.3s, color 0.3s;
        }
        
	    &.button-setting-active {
            color: white;
        }
    }
}

#transcript {
    @extend .flex-center, .column;
    z-index: 9;
    position: fixed;
    flex-wrap: wrap;
    bottom: 1rem;
    max-width: 20rem;
    color: white;

    span {
        background-color: black;
        padding: 0.2rem;
    }
}

#disclaimer {
    z-index: 9;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    text-align: center;
    gap: 0.5rem;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: white;
    border: 6px solid var(--randColor);
    border-radius: 25px;
    box-shadow: 0 0 50px 5px var(--randColorLight);
    padding: 2rem;
    font-weight: bolder;
    font-size: 24px;
    color: var(--randColor);
    transform-origin: top left;
    transition: scale 0.5s;
    will-change: scale;

    span {
        &:first-of-type {
            display: flex;
            align-items: center;
            flex-direction: row;
            gap: 1rem;
            color: red;
        }

        &:last-of-type {
            font-size: 12px;
            opacity: 0.4;
        }
    }

    &:hover {
        scale: 1.2;
    }
}
//#endregion


//////////////////// IDs: Widget Utility ////////////////////
//#region
#settings-widget {
    z-index: 4;
    max-height: 26.46em;

    #settings-widget-animation {
        opacity: 0.5;
        transition: opacity 0.3s 1s;

        &:hover, &:focus-within {
            opacity: 1;
            transition: opacity 0.3s;
        }

        #settings-button-expand {
            z-index: 1;
            position: absolute;
            top: 0.5em;
            right: 0.5em;
        }
    }

    #show-hide-widgets-popout-animation {
        width: 29rem;
        min-height: 11.8rem;
        padding: 0.6rem;

        #show-hide-widgets-popout-button-utility,
        #show-hide-widgets-popout-button-games,
        #show-hide-widgets-popout-button-fun {
            display: grid;
            grid-template-columns: repeat(3, auto);
            gap: 0.3em;
        }

        #show-hide-widgets-popout-tabs {
            display: flex;
            flex-direction: row;
            justify-content: space-between;

            button {
                display: inline-flex;
            }

            input {
                width: 8em;
            }
        }

        button {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            
	        &.option {
                width: 12em;
            }
        }
    }

    #settings-popout-animation {
        @extend .no-highlight;

        height: 42.5em;
        padding: 0.4rem;
    }
}

#animesearcher-widget {
    .animesearcher-information {
        @extend .font, .scrollable;
        height: 45em;
        max-width: 40em;
        width: calc(100vmin - 3.3em);
    }

    #animesearcher-image-uploaded {
        img {
            max-width: 100%;
            width: 100%;
            border-radius: 5px 5px 0px 0px;
        }
    }

    #animesearcher-image-banner {
        display: block;
        max-width: 100%;
        border-radius: 5px;
    }

    #animesearcher-container-information {
        position: relative;
        margin-left: 0.5em;
        top: -5em;
    }

    #animesearcher-container-information-sidebar {
        max-width: 9em;
        width: 100vmin;

        #animesearcher-tags {
            width: 9em;

            span {
                max-width: 7em
            }
        }

        #animesearcher-external-sources {
            @include grid-auto(4);
            gap: 0.5em;
        }
    }

    #animesearcher-container-description {
        position: relative;
        max-width: 25em;
        width: calc(100vmin - 18em);
        margin-right: 0.5em;
    }

    .animesearcher-relations, #animesearcher-characters, #animesearcher-recommendations, #animesearcher-streaming-episodes {
        @extend .flex-center, .row, .gap, .only-align-items, .custom-scrollbar;
        width: 100%;
    }
 
    .animesearcher-character-information {
        @extend .custom-scrollbar, .flex-center, .row, .gap, .small-gap, .only-justify-content, .popout, .box, .dimmed, .float, .center, .no-highlight;
        cursor: default;
        position: fixed;
        max-width: 34em;
        max-height: 34em;
        width: 100%;
        justify-content: flex-start;
        background-color: white;
        padding: 1em;
        scale: 0;
        transform-origin: top left;
        transition-duration: 1.5s;

        &.animation-animesearcher-character-information {
            visibility: visible;
            scale: 1;
        }
    }

    #animesearcher-widget-filters {
        max-width: 40rem;
        margin-top: -0.3rem;

        > div {
            &:first-of-type {
                > .radio-match {
                    flex: 1 1 0;
                    overflow: hidden;
                    
                    label {
                        box-sizing: border-box;
                        max-width: unset;
                        width: 100%;

                    }
                }
            }

            &:nth-child(2) {
                display: grid;
                gap: 0.3rem;
                grid-template-columns: repeat(auto-fill, minmax(6rem, 1fr));
            }
            
            &:last-of-type {
                @extend .scrollable;

                display: grid;
                gap: 0.3rem;
                grid-template-columns: repeat(auto-fill, minmax(8rem, 1fr));
                max-height: 4.6rem;
            }
        }

        &.show {
            margin-top: unset
        }
    }

    .animesearcher-searches {
        @extend .font;
        z-index: 1;
        display: flex;
        position: fixed;
        bottom: 1.7rem;
        max-width: 40em;
        width: calc(100vmin - 3.3em);
        max-height: 34rem;
        height: 100%;
    }

    .animesearcher-search {
        @extend .flex-center, .column, .scrollable;
        position: relative;
        flex: 1;
        justify-content: flex-start;
        background-color: var(--animeSearcherCoverColor, var(--randColorLight));

        img {
            cursor: pointer;
            width: 100%;
            -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,1) 30%, rgba(0,0,0,0) 80%);
            -webkit-mask-repeat: no-repeat;
            -webkit-mask-size: cover;
                    mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 1) 30%, rgba(0, 0, 0, 0) 80%);
                    mask-repeat: no-repeat;
                    mask-size: cover;

            &:hover {
                mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 1) 30%, rgba(0, 0, 0, 0) 100%);
            }
        }

        > div {
            @extend .flex-center, .column, .gap;
            z-index: 1;
            margin: -5rem 0rem;
            transition: margin 0.3s;
            padding: 1rem;
        }

        &::after {
            pointer-events: none;
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(
                to bottom,
                rgba(0,0,0,0) 30%,
                var(--animeSearcherCoverColor, var(--randColorLight)) 100%
            );
            transition: opacity 0.3s;
            opacity: 1;
        }

        &:has(img:hover) {
            > div {
                margin: 1rem 0rem;
            }

            &::after {
                opacity: 0;
            }
        }
    }

    .animesearcher-hover {
        @extend .flex-center;
        z-index: 1;
        cursor: pointer;
        visibility: hidden;
        position: absolute;
        width: 10rem;
        height: 10rem;
        border: 2px solid var(--randColor);
        border-radius: 25.4px;
        background-position: center;
        background-size: cover;
        background-repeat: no-repeat;
        text-align: center;

        span {
            @extend .font, .bold, .flex-center;
            max-width: 8rem;
            max-height: 8rem;
            padding: 0.5rem;
            border-radius: 25.4px;
            background-color: rgba(255, 255, 255, 0.5);
        }
    }

    .animesearcher-arrow-left, .animesearcher-arrow-right {
        @extend .no-highlight;
        cursor: pointer;
        display: flex;
        align-items: center;
        position: absolute;
        top: 0;
        height: 100%;
        font-size: 1.4em;
        color: rgba(var(--randColorOpacity), 0.5);
        box-shadow: none;
        background-color: rgba(var(--randColorOpacity), 0.3);
        transition-property: color, box-shadow, left, right;
        transition-duration: 0.2s;
        
        &:hover {
            color: rgba(var(--randColorOpacity), 1);
            box-shadow: inset 0em 0em 0.1em 0em var(--randColor);
        }

        &:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.5);
        }
    }

    .animesearcher-arrow-left {
        left: 0;

        &:active {
            left: -2px;
        }
    }

    .animesearcher-arrow-right {
        right: 0;

        &:active {
            right: -2px;
        }
    }

    .animesearcher-reimu {
        @extend .float, .middle;
        visibility: hidden;
        z-index: 1;
        bottom: 0;
        max-height: 544px;
    }
}

#battery-widget {
    max-width: 18.5rem;
    width: 100%;

    .battery-pet {
        @extend .float, .middle;
        bottom: 110%;
    }

    #battery-pill {
        position: relative;
        width: 4.7em;
        height: 11.4em;
        background-color: #222;
        box-shadow: inset 20px 0 48px hsl(0, 0%, 16%), inset -4px 12px 48px hsl(0, 0%, 56%);
        border: 1px solid var(--randColor);
        border-radius: 3rem;
    }

    #battery-level {
        position: absolute;
        inset: 2px;
        border-radius: 3rem;
        overflow: hidden;    
    }

    #battery-liquid {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        box-shadow: inset -10px 0 12px hsla(0, 0%, 0%, 0.1), inset 12px 0 12px hsla(0, 0%, 0%, 0.15);
        transition: 0.3s;

        &::after {
            content: "";
            position: absolute;
            height: 8px;
            box-shadow: inset 0 -3px 6px hsla(0, 0%, 0%, 0.2);
            left: 0;
            right: 0;
            margin: 0 auto;
            top: -4px;
            border-radius: 50%;           
        }
    }

    #battery-information {
        bottom: 2.8em;
    }

    .battery-calculating {
        position: absolute;
        bottom: 55px;
        left: 140px;
        
        img {
            &:first-of-type {
                position: absolute;
                bottom: 80px;
                left: 30px;
            }

            &:last-of-type {
                max-height: 256px;
                clip-path: inset(0 0 28% 0);
            }
        }
    }
}

#calculator-widget {
    font-size: 1.11em;

    #calculator-display-container {
        margin: 0rem 0rem 0.3rem;

        #calculator-input-field {
            transition: text-shadow 0.4s;
        }
    }

    #calculator-button-memory-display {
        visibility: hidden;
        position: absolute;
        top: 8em;
        left: 1%;
        width: 12.5em;
        height: 12.7em;
        background-color: white;
        border-radius: 0px 0px 23px 23px;

        #calculator-button-memory-container {
            display: flex;
            flex-direction: column;
            width: 90%;
            height: 70%;
            margin: 1.23rem 0.3rem 1.23rem 0.9rem;
            overflow-y: scroll;
            overflow-x: hidden;

            div {
                margin-right: 0.3rem;
                text-align: right;
                word-wrap: break-word;

                div {
                    margin: 0;
                }
            }
        }

        #calculator-button-memory-display-close {
            position: absolute;
            top: -10.6em;
            left: -0.5%;
            width: 16.75em;
            height: 11em;
            border: none;
            border-radius: 23px 23px 0px 0px;
            background-color: rgba(0, 0, 0, 0.2);
            cursor: pointer;
        }

        #calculator-button-trash {
            position: absolute;
            bottom: 0.7em;
            right: 0.3em;
            background-color: transparent;
        }
    }

    #calculator-input-expand-popout-animation {
        height: 10em;
        width: 10em;
    }
}

#character-widget {
    #character-container {
        height: 22em;
        width: 22em;

        img, div {
            position: fixed;
            top: 0;
            left: 0;
        }

        div {
            z-index: 2;
        }
    }

    #character-image {
        z-index: 1;
    }

    #character-image-clothes {
        z-index: 2;
    }

    #character-image-front-hair {
        z-index: 3;
    }

    #character-image-front-hand {
        z-index: 4;
    }
}

#currencyconverter-widget {
    #currencyconverter-container {
        #currencyconverter-select-from, #currencyconverter-select-to {
            width: 12em;
        }

        #currencyconverter-result {
            min-height: 8em;
            max-width: 20em;
            background: linear-gradient(
                rgba(255, 255, 255, .8),
                rgba(255, 255, 255, .8)),
                url(/resources/singles/dollar.webp);
            background-position: center;
            background-size: cover;
            word-break: break-all;
            transition: text-shadow 0.4s;
        }
    }
}

#dailyplanner-widget {
    #dailyplanner-widget-animation {
        padding: 0;
    }

    .dailyplanner-particle {
        pointer-events: none;
        z-index: 1;
        position: absolute;
        height: 6rem;
        width: 6rem;
        opacity: 0;
        transition-property: opacity;
        transition-duration: 0.3s;

        img {
            &:first-of-type {
                position: absolute;
                right: 0.2rem;
                bottom: 0.2rem;
                max-height: 32px;
            }

            &:last-of-type {
                width: 100%;
                height: 100%;
            }
        }

        &.show {
            opacity: 1;
        }
    }

    .dailyplanner-add-popout {
        @extend .flex-center, .column, .gap, .medium-gap;
        padding: 1rem;
    }

    .dailyplanner-view-popout {
        @extend .font, .flex-center, .column, .gap, .only-justify-content;
        padding: 1rem;
        min-width: 10rem;
        max-width: 15rem;

        span {
            transition: box-shadow 0.3s;

            &:focus {
                outline: none;
                box-shadow: 0 0 0 2px rgba(0, 85, 255, 0.8);
            }
        }
    }
    
    .dailyplanner-view-future-popout {
        @extend .font, .flex-center, .column, .gap, .only-justify-content;
        padding: 1rem;
        min-width: 10rem;
        max-width: 15rem;

        span {
            transition: box-shadow 0.3s;

            &:focus {
                outline: none;
                box-shadow: 0 0 0 2px rgba(0, 85, 255, 0.8);
            }
        }
    }

    .dailyplanner-side-panel-button {
        @extend .font, .bold, .large, .no-highlight;
        z-index: 1;
        cursor: pointer;
        position: fixed;
        top: 8.5rem;
        right: -10.6rem;
        padding: 0.5rem 4rem;
        line-height: 1lh;
        rotate: 90deg;
        /// Made by Temani Afif (https://css-shape.com/pencil/)
        background:
            linear-gradient(90deg,#e7e7e7 30%,#fe668c 0) 100%/50px 100% no-repeat, 
            conic-gradient(from 55deg at left,#fee7b3,#0000 1deg 69deg,#fee7b3 70deg) 100% 8px/calc(100% - 40px) 16px repeat-y, 
            linear-gradient(#0003 50%,#0000 0) 100% 8px/calc(100% - 41px) 32px repeat-y, 
            linear-gradient(90deg,#2b2026 15px,#fee7b3 16px 40px,#fecc2b 0);
        clip-path: polygon(0 50%,42px 0,100% 0,100% 100%,42px 100%);
        border-radius: 0 10px 10px 0;
        transition-property: rotate, top, right;
        transition-duration: 0.3s;
        
        &.show {
            top: 1.5rem;
            right: -15.1rem;
            rotate: unset;
            background: unset;
        }
    }

    .dailyplanner-side-panel {
        @extend .flex-center, .column, .only-align-items;
        visibility: hidden;
        position: fixed;
        right: 0;
        height: 588px;
        background-color: white;
        padding: 1rem;
        line-height: 1lh;
        box-sizing: border-box;
        opacity: 0;
        transform: translateX(100%);
        transition: opacity 0.3s;

        &.show {
            visibility: visible;
            opacity: 1;
        }

        .calendar-plan {
            transition: none;
        }
    }

    .dailyplanner-side-panel-plans {
        @extend .no-highlight, .scrollable, .flex-center, .column, .gap, .only-align-items, .fill-width, .line, .above;
        height: 100%;
        margin-top: 1.8rem;
        padding: 0rem 0.5rem;
    }
    
    .dailyplanner-side-panel-buttons {
        @extend .collapsible, .flex-center, .column, .gap, .small-gap, .fill-width, .line, .above;
        opacity: 1;
        margin-top: 0.5rem;
        
        &:not(.show) {
            padding-top: 0;
        }

        &.show {
            overflow: visible;
        }

        .select-match {
            width: 7.25rem;
        }
    }

    .dailyplanner-plans {
        @extend .custom-scrollbar, .flex-center, .column, .only-align-items, .gap;
        max-height: 10rem;
        padding-right: 0.2rem;
    }
}

#equipment-widget {
    #equipment-slots-armor, #equipment-slots-consumable {
        button {
            @extend .flex-center;
            opacity: 0.5;
            background-color: rgba(var(--randColorOpacity), 0.13);
            border: 1px solid rgba(var(--randColorOpacity), 0.25);
            
            &:hover {
                background-color: rgba(var(--randColorOpacity), 0.18);
            }
        }
    }

    #equipment-popout-view-item {
        @extend .item-viewer;
        visibility: hidden;
        top: 20%;
        left: 6%;
    }

    #equipment-slot-and-stat {
        width: 100%;
    }

    #equipment-table-stats {
        @extend .aesthetic-scale, .scale-table, .table, .font;

        tbody {
            tr {
                /// Health
                &:nth-child(1) {
                    @extend .health;
                }

                /// Mana
                &:nth-child(2) {
                    @extend .mana;
                }

                /// Attack
                &:nth-child(3) {
                    @extend .attack;
                }

                /// Defense
                &:nth-child(4) {
                    @extend .defense;
                }

                /// Strength
                &:nth-child(5) {
                    @extend .strength;
                }

                /// Agility
                &:nth-child(6) {
                    @extend .agility;
                }

                /// Vitality
                &:nth-child(7) {
                    @extend .vitality;
                }

                /// Resilience
                &:nth-child(8) {
                    @extend .resilience;
                }

                /// Intelligence
                &:nth-child(9) {
                    @extend .intelligence;
                }

                /// Dexterity
                &:nth-child(10) {
                    @extend .dexterity;
                }

                /// Luck
                &:nth-child(11) {
                    @extend .luck;
                }
            }
        }
    }
}

#googletranslator-widget {
    font-size: 1.11em;
    max-width: 26.24em;
    width: 100vmin;

    #googletranslator-preview-cut-corner {
        margin-top: 0.9rem;

        #googletranslator-translated-text {
            transition: text-shadow 0.4s;
        }
    }

    #googletranslator-translate-from, #googletranslator-translate-to {
        max-width: 13.7em;
        min-width: 8em;
        width: calc(100vmin - 20em);
    }
}

#guide-widget {
    #guide-widget-animation {
        padding: 0;
    }
}

#imagecolorpicker-widget {
    input:read-only {
        cursor: pointer;
        width: 12em;
    }

    #imagecolorpicker-image {
        img {
            max-height: 512px;
            max-width: 512px;
            width: 100%;
        }
    }

    #imagecolorpicker-eye-dropper-button {
        display: none;
    }

    #imagecolorpicker-color {
        height: 3.1em;
        width: 100%;
        background-color: var(--randColor);
    }
}

#inventory-widget {
    #inventory-slots {
        button:hover {
            background-color: rgba(var(--randColorOpacity), 0.18);
        }
    }

    #inventory-pages {
        button {
            padding: 0;
            border-radius: 50%;
            height: 1.5em;
            background-color: white;
            
            &:nth-of-type(1) {
                position: absolute;
                top: 9.2em;
                left: 1.3em;
            }

            &:nth-of-type(2) {
                position: absolute;
                top: 9.2em;
                right: 1.3em;
            }
        }
    }

    #inventory-popout-view-item {
        @extend .item-viewer;
        visibility: hidden;
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
    }

    #inventory-currency {
        margin-top: 2em;
    }

    #inventory-tabs {
        margin-top: 1em;
    }
}

#motivation-widget {
    #motivation-widget-animation {
        padding: 0;

        img {
            display: block;
            max-width: 100%;
            max-height: 40rem;
            border-radius: 20px;
        }
    }

    #motivation-player {
        @extend .float, .center;
        position: absolute;
        transform: translate(-50%, -90.5%);
    }
}

#musicplayer-widget {
    #musicplayer-widget-animation {
        padding-bottom: 0;
        padding-right: 0;
        border-radius: 25.4px;
    }

    #musicplayer-hotbar {
        top: 0.4em;
        right: 3em;
    }

    #musicplayer-disc {
        z-index: 3;
        cursor: pointer;
        position: absolute;
        height: 11.5em;
        width: 11.5em;
        top: 0;
        left: 0;
        border: 6px solid var(--randColorLight);
        border-radius: 50%;
        background-size: contain;
        background-repeat: no-repeat;
        background-color: white;
        overflow: hidden;
        transition:
            border-radius 2s,
            height 2s,
            width 2s,
            top 2s,
            left 2s,
            box-shadow 0.3s;

        &::before {
            @extend .float, .center;
            z-index: -1;
            content: "";
            height: 3em;
            width: 3em;
            display: inline-block;
            background-color: var(--randColorLight);
            border-radius: 50%;
        }

        &:focus-visible {
            outline: none;
            box-shadow: 0 0 0 5px rgba(0, 85, 255, 0.8);
        }
        
	    &.musicplayer-disc-small {
            height: 11.8em;
            width: 21em;
            border-radius: 25px;
            top: -0.4em;
            left: -9.5em;
        }
        
	    &.musicplayer-disc-medium {
            height: 16.8em;
            width: 31em;
            border-radius: 25px;
            top: -5.4em;
            left: -19.5em;
        }
    }

    #musicplayer-player {
        position: relative;
        top: -78px;
        left: -78px;
        pointer-events: none;
        transition-duration: 2s;
        
	    &.musicplayer-player-small {
            top: -4.6em;
            left: 0;
        }
        
	    &.musicplayer-player-medium {
            width: 31em !important;
            top: -2.1em;
            left: 0;
        }
    }

    #musicplayer-details {
        z-index: 2;
        height: 7em;
        max-width: 15em;
        width: calc(100vmin - 17em);
        border: 6px solid var(--randColorLight);
        border-bottom: none;
        border-radius: 25px 25px 0px 0px;
        background-color: var(--randColor);
        color: #b9b9b9;
        padding: 0.5em 1em 0em 10em;
        transition-property: text-shadow background-color;
        transition-duration: 0.5s;

        #musicplayer-name {
            @include slide-on-hover(30px, 240px);
            cursor: pointer;
        }

        #musicplayer-author {
            cursor: pointer;
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
        
	    &.musicplayer-animation-remove-details {
            text-shadow: 0px 0px 5px white;
            background-color: rgb(136, 0, 0);
        }
        
	    &.musicplayer-animation-add-details {
            text-shadow: 0px 0px 5px white;
            background-color: rgb(77, 148, 77);
        }
    }

    #musicplayer-controls {
        z-index: 2;
        height: 7em;
        max-width: 30em;
        width: calc(100vmin - 2em);
        border-radius: 25px;
        background-color: white;

        #musicplayer-remove, #musicplayer-add {
            position: relative;
        }

        #musicplayer-button-previous {
            position: relative;
            left: 0;
            transition: all 0.3s;
            
	        &.musicplayer-animation-button-previous {
                left: -0.6em;
                opacity: 0.5;
            }
        }

        #musicplayer-button-play {
            @extend .flex-center;

            &:active {
                transform: unset;
            }

            #musicplayer-button-clone-play {
                margin-top: 0.4em;
                pointer-events: none;
                position: absolute;
            }
        }

        #musicplayer-button-next {
            position: relative;
            right: 0;
            transition: all 0.3s;
            
	        &.musicplayer-animation-button-next {
                right: -0.6em;
                opacity: 0.5;
            }
        }

        #musicplayer-input-add {
            position: relative;
            width: 0;
            top: -0.1em;
            right: 1.5em;
            visibility: hidden;
            height: 0;
            padding: 0;
            transition-property: height, width, padding;
            transition-duration: 1s;
            
	        &.musicplayer-animation-input-add {
                visibility: visible;
                height: 2.5em;
                width: 18%;
                right: 2em;
                padding-left: 0.8em;
            }
        }

        #musicplayer-button-add {
            pointer-events: none;
            position: absolute;
            bottom: 3rem;
            right: -4em;
            opacity: 0;
            transition-property: bottom, right, opacity;
            transition-duration: 1s;
            
	        &.musicplayer-animation-button-add {
                pointer-events: auto;
                position: absolute;
                right: 1.8rem;
                opacity: 1
            }
        }
    }

    #musicplayer-controls-expanded {
        @extend .flex-center;
        z-index: 1;
        width: 90%;
        background-color: white;
        padding: 0.5em 0;
        border-radius: 0 0 12px 12px;
        border-bottom: 6px solid rgba(0, 0, 0, 0.2);
        transform: translateY(-84%);
        margin-bottom: -2.3em;
        transition: transform 0.5s 2s;

        &:hover, &:focus {
            transform: translateY(-10%);
            transition: transform 0.5s;
        }

        &:focus-visible {
            outline: none;
            box-shadow: 0 0 0 4px rgba(0, 85, 255, 0.8);
        }
        
        #musicplayer-button-playlist-clear {
	        &.confirm-delete {
                color: #be0011;
            }
        }
    }

    #musicplayer-playlist {
        @extend .font, .small;
        display: none;
        position: absolute;
        width: 8em;
        height: 6.7em;
        right: 0.8em;
        bottom: 0.5em;
        background-color: white;
        padding: 1em 1em 1em 2em;
        border-radius: 0 25px 25px 0;
        transform: translateX(0);
        transition-property: transform right;
        transition-duration: 0.5s;

        section {
            cursor: pointer;
            height: 4em;
            margin-bottom: 0.5em;
            padding: 0;
            padding-left: 1em;

            &:last-child {
                margin-bottom: 0;
            }

            &:focus-visible {
                outline: none;
                box-shadow: 0 0 0 2px rgba(0, 85, 255, 0.8);
            }

            span {
                pointer-events: none;
                max-width: 6em;
                display: block;
                white-space: nowrap;
                text-overflow: ellipsis;
                overflow: hidden;
            }
        }
        
	    &.musicplayer-playlist-show {
            transform: translateX(10em);
        }

        .musicplayer-playlist-active {
            color: white;
            background-color: var(--randColorLight);
            
            .transparent-normal {
                color: rgba(256, 256, 256, 0.7);
            }
        }
    }

    #musicplayer-playlist-length {
        @extend .flex-center, .no-highlight;
        visibility: hidden;
        position: absolute;
        top: 9.5em;
        right: -6.2em;
        width: 6em;
        background-color: var(--randColorLight);
        color: white;
        border-radius: 10px 10px 0px 0px;
        transition-property: top, visibility;
        transition-duration: 0.5s;
        
	    &.musicplayer-playlist-length-show {
            visibility: visible;
            top: 8.2em;
        }
    }

    .musicplayer-knife {
        cursor: pointer;
        visibility: hidden;
        z-index: -1;
        position: absolute;
        right: 1rem;
        bottom: 0rem;
        background: none;
        border: none;
        transform:
            translateX(9.2em)
            rotate(-150deg);
        transition-property: right, bottom, visibility, filter;
        transition-duration: 0.5s;

        &.musicplayer-knife-show {
            visibility: visible;
            right: 0rem;
            bottom: 5rem;
        }

        &.musicplayer-knife-active {
            filter:
                drop-shadow(0 0 0.3rem white)
                drop-shadow(0 0 0.8rem #65c9e3)
                drop-shadow(0 0 1.5rem #3baed7);
                
            &.musicplayer-knife-active-animation {
                animation: knifeShine 0.5s;
            }
        }
    }

    #musicplayer-statistic {
        @extend .no-highlight;
        z-index: 3;
        display: none;
        background-color: white;
        padding: 2rem;
        border: 6px solid var(--randColorLight);
        border-radius: 25px;
        max-height: 30rem;
        overflow-y: scroll;

        h3 {
            margin: 0;
        }

        ul {
            margin: 0;
            padding: 0;
            
            li {
                display: flex;
                justify-content: space-between;
                height: 1lh;

                span:first-of-type {
                    max-width: 18rem;
                    width: calc(100vmin - 10rem);
                    overflow: hidden;
                    text-overflow: ellipsis;
                    white-space: nowrap;
                    margin-right: 1.5rem;
                }
            }
        }
    }

    #musicplayer-statistic-title {
        margin-bottom: 1rem;
        align-items: flex-end;

        span {
            font-size: 0.8rem;
            color: rgba(var(--randColorOpacity), 0.2);
        }
    }

    .simplebar-placeholder {
        display: none;
    }
}

#quote-widget {
    max-width: 50em;

    #quote-widget-animation {
        position: relative;
        padding: 0.3rem 1.9rem 1.58rem;
        text-align: center;
    }

    #quote-canvas {
        pointer-events: none;
        height: 100%;
        width: 100%;
        border-radius: 25px;
    }

    #quote-image {
        pointer-events: none;
        height: 100%;
        width: 100%;
        border-radius: 25px;
        background-image: url(/resources/singles/cherryblossom.webp);
        background-position: bottom left;
        background-size: 200px;
        background-repeat: no-repeat;
        opacity: 0.2;
        margin-left: 1em;
    }

    #quote-container {
        display: flex;
        flex-direction: row;
        margin-top: 1rem;

        #quote-text {
            padding-top: 0.6rem;
            transition: text-shadow 0.4s;
        }
    }

    #quote-slider-total {
        visibility: hidden;
        width: 0;
        transition-property: width visibility;
        transition-duration: 1.2s;
        
	    &.animation-quote-slider-total {
            visibility: visible;
            width: 5em;
        }
    }

    .quote-reimu {
        z-index: -1;
        position: absolute;
        top: 107%;
        left: 26%;
        max-height: 352px;
    }

    .quote-reimu-thinking {
        @extend .font, .float, .center, .no-highlight;
        color: var(--randColorLight);
        height: 100%;
        font-size: 6rem;
    }
}

#spreadsheet-widget {
    #spreadsheet-content {
        max-width: 50rem;
        max-height: 20rem;
        width: calc(100vmin - 2.4rem);
        margin-top: 0.5rem;
    }
    
    .simplebar-offset {
        @extend .scrollable;

        max-height: 20rem;
        position: relative;
    }
}

#translator-widget {
    font-size: 1.11em;

    #translator-widget-animation {
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        will-change: background-image;
    }

    #translator-preview-cut-corner {
        #translator-translated-text {
            transition: text-shadow 0.4s;
            white-space: pre-wrap;
        }
    }

    #translator-image {
        pointer-events: none;
        position: relative;
        max-height: 17em;
    }

    #translator-image-additions-cunny-code {
        position: absolute;
        top: 2em;
        left: 2.5em;
        max-width: 8.5em;
        max-height: 21em;
        width: 100%;
        height: 100%;

        #translator-cunny-code-arona-body {
            #translator-cunny-code-arona-halo {
                left: 4.5em;
                top: 0.6em;
                height: 1em;
                width: 2.6em;
                transform: rotate(28deg);
                border-radius: 100%;
            }

            #translator-cunny-code-arona-head {
                left: 3.2em;
                top: 0.6em;
                height: 2em;
                width: 3.2em;
                border-radius: 100%;
                transform: rotate(10deg);
            }

            #translator-cunny-code-arona-face {
                left: 3.4em;
                top: 0.7em;
                height: 1.9em;
                width: 2.4em;
                border-radius: 100%;
            }

            #translator-cunny-code-arona-chest {
                left: 3em;
                top: 0.9em;
                height: 3em;
                width: 2.8em;
                border-radius: 100%;              
            }

            #translator-cunny-code-arona-skirt {
                left: 2em;
                top: 1.5em;
                height: 3.2em;
                width: 5em;
                border-radius: 100%;
            }

            #translator-cunny-code-arona-leg1 {
                left: 3.2em;
                top: 1.6em;
                height: 2em;
                width: 1.1em;
                border-radius: 0px 0px 0px 70%;
            }

            #translator-cunny-code-arona-leg2 {
                left: 4.7em;
                top: -0.4em;
                height: 2em;
                width: 1.1em;
                border-radius: 0 0 70% 0;
            }

            #translator-cunny-code-arona-leg3 {
                left: 3.2em;
                top: 0.4em;
                height: 3.4em;
                width: 1em;
                border-radius: 70%;
            }

            #translator-cunny-code-arona-leg4 {
                left: 4.8em;
                top: -3em;
                height: 3.4em;
                width: 1em;
                border-radius: 70%;
            }

            #translator-cunny-code-arona-shoes {
                left: 3.3em;
                top: -2.8em;
                height: 1.9em;
                width: 2.7em;
                border-radius: 10px 20px 5px 5px;
            }
        }

        #translator-cunny-code-arona-dialogue {
            cursor: default;
            pointer-events: none;
            position: relative;
            left: 0.2em;
            top: -16.2em;
            text-align: center;
            background: rgba(245, 245, 245, 0.9);
            box-shadow: 0px 1px 3px rgba(0, 0, 0, 0.7);
            border: 2px solid rgba(250, 250, 250, 0.7);
            border-radius: 30px;
            padding: 8px;
            will-change: visibility;

            &:after {
                border-bottom: 20px solid #edf6f6;
            }

            &:before {
                border-bottom: 20px solid rgba(50, 50, 50, 0.5);
            }
        }
    }
}

#timeconversion-widget {
    max-width: 40em;
    width: 100vmin;

    #timeconversion-container {
        @include grid-auto-fill(220px);
    }
}

#weather-widget {
    #weather-location {
        transition: scale 0.3s text-shadow 0.4s;
    }

    #weather-information {
        transition: text-shadow 0.4s;
    }

    #weather-temperature {
        margin-right: 1em;
    }

    #weather-condition {
        margin-bottom: 2em;
    }

    #weather-search-input {
        position: relative;

        #weather-search-help-button {
            @extend .help-element;
            position: absolute;
            top: 50%;
            right: 0.5em;
            transform: translate(0, -50%);
        }
    }

    #weather-help-popout {
        ul {
            margin-right: 1em;
        }
    }
}
//#endregion


//////////////////// IDs: Widget Games ////////////////////
//#region
#twentyfortyeight-widget {
    #twentyfortyeight-board {
        min-width: 15em;
        outline: none;
    }
    #twentyfortyeight-overlay-gameover {
        img {
            cursor: pointer;
            height: 91%;
            width: 91%;
        }
    }
}

#breakout-widget {
    #breakout-canvas {
        max-width: 700px;
        width: 100%;
    }

    #breakout-health {
        @include grid-auto(21);
    }
}

#derivativedomain-widget {
    max-width: 853px;
    width: 100%;
}

#chess-widget {
    #chess-board {
        max-width: 25em;
        max-height: 25em;
        width: 100vmin;
        height: 100vmin;
        border-radius: 4px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
    }

    #chess-captured-pieces-black {
        @include grid-auto(5);
        max-width: 20em;

        img {
            height: 55px;
            width: 55px;
        }
    }
}

#circlebeat-widget {
    max-width: 653px;
    width: 100%;

    #circlebeat-game {
        position: relative;
    }

    #circlebeat-video {
        @extend .float, .center;
        pointer-events: none;
    }

    #circlebeat-add {
        @extend .flex-center, .column, .gap;
        display: none;
        position: absolute;
        top: 16%;
        left: 11.5%;
        width: 28%;
        height: 5%;
    }
}

#colormemory-widget {
    max-width: 21em;
    min-width: 14em;
    width: 100vmin;

    #colormemory-image {
        max-width: 15.5em;
        max-height: 15.5em;
        min-width: 9em;
        min-height: 9em;
        width: calc(100vmin - 5.5em);
        height: calc(100vmin - 5.5em);
        background-color: var(--randColorLight);
        background-repeat: no-repeat;
        background-size: contain;

        #colormemory-name {
            display: block;
            position: relative;
            text-align: center;
        }

        #colormemory-button-start {
            position: relative;
        }
    }

    #colormemory-gameover-colors {
        @include grid-auto-fill(60px);
        max-width: 17.6em;
        min-width: 10em;
        width: calc(100vmin - 4.7em);
        max-height: 13.8em;
        gap: 1em;
        word-break: break-word;
        padding-bottom: 0.2em;
    }

    .simplebar-offset {
        position: relative;
    }

    .simplebar-track {
        position: unset;
    }
}

#minesweeper-widget {
    #minesweeper-board {
        max-width: 20em;
        max-height: 20em;
        width: calc(100vmin - 2.8rem);
        height: calc(100vmin - 2.8rem);
        align-items: flex-start;
        justify-content: flex-start;
    }

    #minesweeper-health {
        @include grid-auto(8);
    }
}

#rockpaperscissor-widget {
    max-width: 33.5em;
    width: 100vmin;

    #rockpaperscissor-choice {
        max-width: 30em;
        width: calc(100vmin - 3.5em);
        margin-bottom: 1em;

        #rockpaperscissor-choice-player, #rockpaperscissor-choice-computer {
            max-height: 128px;
        }

        #rockpaperscissor-message {
            text-align: center;
        }
    }
    #rockpaperscissor-container-choices {
        @include grid-auto-fill(64px);
        max-height: 10em;
        row-gap: 0.2em;

        img {
            max-height: 64px;
        }
    }

    .simplebar-offset {
        position: relative;
    }

    .simplebar-track {
        position: unset;
    }
}

#snake-widget {
    max-width: 100%;

    #snake-widget-animation {
        padding: 1.6rem 2rem 2rem 1.6rem;

        #snake-display {
            max-width: 100%;
            position: relative;

            &:focus {
                outline: none;
            }

            #snake-display-grid {
                max-width: 100%;
                box-sizing: content-box;
                border: 4px solid var(--randColor);
                border-radius: 10px;
                display: flex;
                flex-wrap: wrap;
            }

            #snake-overlay {
                border-radius: 6px;
                margin: 0.25rem;
            }

            #snake-popout-settings {
                padding: 0.4rem;
            }
        }

        #snake-health {
            @include grid-auto(12);
        }
    }
}

#simongame-widget {
    max-width: 26.6em;
    width: 100%;

    #simongame-container {
        background-color: black;
        border-radius: calc(100vmin - 50%);

        div {
            cursor: pointer;
            max-width: 8em;
            max-height: 8em;
            min-width: 4em;
            min-height: 4em;
            width: calc(100vmin - 16em);
            height: calc(100vmin - 16em);
            margin: 0.2em;
            border: none;

            &:nth-child(1) {
                background-color: #3edd4b;
                border-radius: 100% 0 0 0;
            }

            &:nth-child(2) {
                background-color: #dd4b3e;
                border-radius: 0 100% 0 0;
            }

            &:nth-child(3) {
                background-color: #ffea37;
                border-radius: 0 0 0 100%;
            }

            &:nth-child(4) {
                background-color: #4b3edd;
                border-radius: 0 0 100% 0;
            }
        }
    }

    #simongame-counter-light {
        width: 4em;
        height: 4em;
        background-color: black;

        span:first-of-type {
            top: 25%;
            background-color: red;
        }
    }

    #simongame-health {
        @include grid-auto(11);
    }
}

#tetris-widget {
    #tetris-canvas {
        max-width: 600px;
        width: 100%;
        outline: none;
    }

    #tetris-health {
        position: absolute;
        bottom: 23em;
        right: 11em;
    }
}

#trivia-widget {
    #trivia-widget-animation {
        max-width: 22em;
        min-width: 10em;
        width: calc(100vmin - 3.3em);
        height: 30em;
    }

    #trivia-questions {
        text-align: center;

        button {
            max-width: 22em;
            width: calc(100vmin - 4em);
        }
    }

    #trivia-overlay-customize {
        visibility: visible;
        display: none;
        background-color: white;
        max-width: 22em;
        min-width: 10em;
        width: calc(100vmin - 3.3em);
        height: 20em;
    }

    #trivia-reset {
        cursor: pointer;

        div {
            --w: 4ch;
            letter-spacing: var(--w);
            width: var(--w);
            overflow: hidden;
            white-space: nowrap;
            color: #0000;
            text-shadow:
                calc( 0*var(--w)) 0 var(--randColor),calc(-1*var(--w)) 0 var(--randColor),calc(-2*var(--w)) 0 var(--randColor),calc(-3*var(--w)) 0 var(--randColor),calc(-4*var(--w)) 0 var(--randColor), 
                calc(-5*var(--w)) 0 var(--randColor),calc(-6*var(--w)) 0 var(--randColor),calc(-7*var(--w)) 0 var(--randColor),calc(-8*var(--w)) 0 var(--randColor),calc(-9*var(--w)) 0 var(--randColor);
            animation: textWave 2s infinite linear;
            transition: box-shadow 0.3s;

            &:focus-visible {
                outline: none;
                box-shadow: 0 0 0 3px rgba(0, 85, 255, 0.8);
            }
        }
    }

    #trivia-health {
        @include grid-auto(11);
    }
}

#typingtest-widget {
    max-width: 50em;
    width: 100%;

    #typingtest-input-field {
        opacity: 0;
        position: absolute;    
    }

    #typingtest-text {
        overflow: hidden;

        p {
            margin: 0;
            letter-spacing: 1px;
            text-align: justify;

            span {
	            &.correct {
                    color: lawngreen;
                    background: #e7fbd3;
                }
                
	            &.incorrect {
                    color: #cb3439;
                    background: #ffc0cb;
                }
                
	            &.active {
                    border-bottom: 3px solid var(--randColor);
                }
            }
        }
    }

    .typingtest-settings {
        @extend .collapsible;

        max-height: 2rem;
        opacity: 1;
    }
}
//#endregion


//////////////////// IDs: Widget Fun ////////////////////
//#region
#aiimagegenerator-widget {
    #aiimagegenerator-images {
        width: 100%;
        height: 100%;
        aspect-ratio: 1/1;

        img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }
    }

    #aiimagegenerator-popout-animation-help {
        padding-right: 1.5em;
    }

    #aiimagegenerator-button-download {
        right: 3.4em;        
    }
}

#donutanimation-widget {
    #donutanimation-modifications {
        max-width: 22.5em;
        width: calc(100vmin - 5.4em);
    }

    #donutanimation-donut {
        position: absolute;
    }
}

#facts-widget {
    #facts-widget-animation {
        max-width: 20em;
    }
}

#iceberg-widget {
    #iceberg-widget-animation {
        padding: 0;
    }

    .iceberg-template {
        @extend .scrollable;
        position: relative;
        max-width: 35rem;
        max-height: 53.6rem;
        border-radius: 0px 0px 20px 20px;
        
        img {
            display: block;
            width: 100%;
        }
    }

    .iceberg-levels {
        display: flex;
        flex-direction: column;
        gap: 0.35rem;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
    }

    .iceberg-level {
        @extend .scrollable, .flex-center, .only-align-items, .align-items-left, .gap, .small-gap, .wrap;
        height: 7.1rem;
        padding: 0.5rem;
        box-sizing: border-box;
        align-content: flex-start;

        &:nth-child(14) {
            height: 6.7rem;
        }

        &:nth-child(6) {
            height: 6.75rem;
        }

        &:nth-child(18) {
            height: 7rem;
        }

        &:nth-child(12), &:nth-child(7), &:nth-child(8), &:nth-child(13), &:nth-child(19) {
            height: 7.2rem;
        }

        &:nth-child(12) {
            height: 7.3rem;
        }

        &:nth-child(16) {
            height: 7.4rem;
        }

        &:nth-child(4) {
            height: 7.45rem;
        }

        &:nth-child(5) {
            height: 7.5rem;
        }

        &:nth-child(15) {
            height: 7.6rem;
        }

        &:nth-child(9), &:nth-child(11) {
            height: 7.88rem;
        }

        &:nth-child(3) {
            height: 8.35rem;
        }

        &:nth-child(17) {
            height: 8.4rem;
        }
    }

    .iceberg-view-item-popout-animation {
        @extend .scrollable, .flex-center, .only-align-items, .column, .gap;
        visibility: visible;
        padding: 1rem;
        max-width: 34rem;
        max-height: 40rem;
        box-sizing: border-box;
        
        img {
            display: inline-block;
            width: 100%;
        }

        ul {
            list-style-position: inside;
            padding-left: 0;
        }
    }

    .iceberg-sources {
        @extend .font, .flex-center, .row, .gap, .medium-gap, .wrap;
        gap: 0.2rem 1rem;
        margin-top: 0.5rem;
    }
}

#pickerwheel-widget {
    #pickerwheel-canvas-wheel {
        max-width: 700px;
        min-width: 200px;
        width: calc(100vmin - 3.3em);
    }

    #pickerwheel-overlay-winner {
        span {
            margin: 1em;
        }
    }

    #pickerwheel-button-spin {
        opacity: 0;
        position: absolute;
        width: 6em;
        height: 6em;
        top: 54.5%;
        left: 50%;
        transform: translate(-50%, -50%);
        border-radius: 50%;
        border: none;
    }
}

#pokemonsearch-widget {
    #pokemonsearch-card-pokemon {
        max-width: 18.2em;
        width: 100vmin;
    }

    #pokemonsearch-span-subtype {
        position: absolute;
        top: -2px;
        left: -2px;
        width: 3.5em;
        height: 1.5em;
        padding: 2px 0px 0px 6px;
        box-shadow: 2px 2px 5px #6d6d6e;
        border: 1px solid rgb(88, 88, 88);
        border-top: 2px solid rgb(88, 88, 88);
        border-bottom-right-radius: 20px;
        text-shadow: -1px -1px 0 rgb(88, 88, 88),
            1px -1px 0 rgb(88, 88, 88),
            -1px 1px 0 rgb(88, 88, 88),
            1px 1px 0 rgb(88, 88, 88);
        font-size: 0.8em;
        background: linear-gradient(180deg,
            rgb(226, 226, 226) 0%,
            rgb(238, 238, 238) 25%,
            rgb(250, 250, 250) 50%,
            rgb(238, 238, 238) 75%,
            rgb(226, 226, 226) 100%
        );
    }

    #pokemonsearch-div-name {
        width: 65.5%;
        height: 6.5%;
        border: 2px solid rgb(88, 88, 88);
        border-right: 6px solid rgb(88, 88, 88);
        border-bottom: 1px solid rgb(88, 88, 88);
        border-bottom-right-radius: 20px;
        border-bottom-left-radius: 6px;
        text-align: left;
        margin-left: 0.5em;

        span {
            margin-left: 2.3em;
        }
    }

    #pokemonsearch-div-hp {
        position: absolute;
        top: 3px;

        span {
            &:nth-child(1) {
                position: inherit;
                top: 8px;
                right: 22px;
                letter-spacing: -0.5px;
            }

            &:nth-child(2) {
                letter-spacing: -1px;
            }
        }
        
	    &.hp-type-one {
            right: 28px;
        }
        
	    &.hp-type-two {
            right: 38px;
        }
    }

    #pokemonsearch-div-types {
        img {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 16px;
            height: 16px;
            margin: -8px 0px 0px -8px;
            filter: invert(0%) sepia(100%) saturate(100%) hue-rotate(165deg) brightness(0%) contrast(105%);
        }
        
	    &.type-one {
            span {
                position: absolute;
                top: 4px;
                right: 5px;
            }
        }
        
	    &.type-two {
            span {
                &:nth-child(1) {
                    position: absolute;
                    top: 4px;
                    right: -4px;
                }

                &:nth-child(2) {
                    position: absolute;
                    top: 4px;
                    right: 14px;
                }       
            }
        }
    }

    #pokemonsearch-div-image {
        max-width: 14.85em;
        width: 100%;
        max-height: 10em;
        height: 100%;
        background-color: var(--card-background-color);
        border-width: 6px;
        border-style: solid;
        border-image: repeating-linear-gradient(0deg,
            rgb(128, 128, 128) 0%,
            rgb(88, 88, 88) 50%,
            rgb(128, 128, 128) 100%
        ) 1;
        margin: 1.6rem 0.7rem;

        img {
            z-index: 4;
            width: 128px;
            height: 128px;
        }
    }

    #pokemonsearch-div-data {
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        gap: 1em;
        height: 1em;
        border: 3px solid rgb(88, 88, 88);
        border-left: 10px solid rgb(88, 88, 88);
        border-right: 10px solid rgb(88, 88, 88);
        border-radius: 20px 0px 40px 20px;
        color: #737077;
        background-color: #f7f5fa;
        margin: 20em 0.5em 0em;
    }

    #pokemonsearch-div-bottom {
        display: flex;
        position: absolute;
        bottom: 15px;
        color: #737077;
        margin-left: 1em;

        #pokemonsearch-div-bottom-weakness {
            display: flex;
            flex-direction: column;
            justify-content: center;

            div {
                align-items: start;
                margin-left: 2px;
                width: 15em;
                border-top: 2px solid rgb(131, 131, 131);
                
                /// Weakness and resistance div
                &:nth-child(1) {
                    display: flex;
                    margin-bottom: 1.8em;

                    span {
                        margin-right: 2.5em;
                    }
                }
            }
        }

        #pokemonsearch-div-flavortext {
            width: 9.8em;
            height: 4.4em;
            margin-left: 0.4em;
            border: 2px solid rgb(131, 131, 131);
            border-right: 6px solid rgb(131, 131, 131);
            border-bottom-right-radius: 40px;
            border-top-left-radius: 30px;
        }
    }

    #pokemonsearch-popout-setting {
        padding: 0.4rem;
    }
}

#sticker-widget {
    #sticker-stickers {
        @include grid-auto(4);
        gap: 0.5em;
        align-items: center;

        input {
            max-width: 4em;
            width: 100%;
        }
    }
}
//#endregion


//////////////////// Animations: Widgets ////////////////////
//#region
//#region Text
/// Limited characters
@keyframes textWave {
    /// Made by Temani Afif
    /// 10 letters max
    9.09% {text-shadow: 
        calc( 0*var(--w)) -10px var(--randColor),calc(-1*var(--w)) 0 var(--randColor),calc(-2*var(--w)) 0 var(--randColor),calc(-3*var(--w)) 0 var(--randColor),calc(-4*var(--w)) 0 var(--randColor), 
        calc(-5*var(--w)) 0 var(--randColor),calc(-6*var(--w)) 0 var(--randColor),calc(-7*var(--w)) 0 var(--randColor),calc(-8*var(--w)) 0 var(--randColor),calc(-9*var(--w)) 0 var(--randColor)}
    18.18% {text-shadow: 
        calc( 0*var(--w)) 0 var(--randColor),calc(-1*var(--w)) -10px var(--randColor),calc(-2*var(--w)) 0 var(--randColor),calc(-3*var(--w)) 0 var(--randColor),calc(-4*var(--w)) 0 var(--randColor), 
        calc(-5*var(--w)) 0 var(--randColor),calc(-6*var(--w)) 0 var(--randColor),calc(-7*var(--w)) 0 var(--randColor),calc(-8*var(--w)) 0 var(--randColor),calc(-9*var(--w)) 0 var(--randColor)}
    27.27% {text-shadow: 
        calc( 0*var(--w)) 0 var(--randColor),calc(-1*var(--w)) 0 var(--randColor),calc(-2*var(--w)) -10px var(--randColor),calc(-3*var(--w)) 0 var(--randColor),calc(-4*var(--w)) 0 var(--randColor), 
        calc(-5*var(--w)) 0 var(--randColor),calc(-6*var(--w)) 0 var(--randColor),calc(-7*var(--w)) 0 var(--randColor),calc(-8*var(--w)) 0 var(--randColor),calc(-9*var(--w)) 0 var(--randColor)}
    36.36% {text-shadow: 
        calc( 0*var(--w)) 0 var(--randColor),calc(-1*var(--w)) 0 var(--randColor),calc(-2*var(--w)) 0 var(--randColor),calc(-3*var(--w)) -10px var(--randColor),calc(-4*var(--w)) 0 var(--randColor), 
        calc(-5*var(--w)) 0 var(--randColor),calc(-6*var(--w)) 0 var(--randColor),calc(-7*var(--w)) 0 var(--randColor),calc(-8*var(--w)) 0 var(--randColor),calc(-9*var(--w)) 0 var(--randColor)}
    45.45% {text-shadow: 
        calc( 0*var(--w)) 0 var(--randColor),calc(-1*var(--w)) 0 var(--randColor),calc(-2*var(--w)) 0 var(--randColor),calc(-3*var(--w)) 0 var(--randColor),calc(-4*var(--w)) -10px var(--randColor), 
        calc(-5*var(--w)) 0 var(--randColor),calc(-6*var(--w)) 0 var(--randColor),calc(-7*var(--w)) 0 var(--randColor),calc(-8*var(--w)) 0 var(--randColor),calc(-9*var(--w)) 0 var(--randColor)}
    54.54% {text-shadow: 
        calc( 0*var(--w)) 0 var(--randColor),calc(-1*var(--w)) 0 var(--randColor),calc(-2*var(--w)) 0 var(--randColor),calc(-3*var(--w)) 0 var(--randColor),calc(-4*var(--w)) 0 var(--randColor), 
        calc(-5*var(--w)) -10px var(--randColor),calc(-6*var(--w)) 0 var(--randColor),calc(-7*var(--w)) 0 var(--randColor),calc(-8*var(--w)) 0 var(--randColor),calc(-9*var(--w)) 0 var(--randColor)}
    63.63% {text-shadow: 
        calc( 0*var(--w)) 0 var(--randColor),calc(-1*var(--w)) 0 var(--randColor),calc(-2*var(--w)) 0 var(--randColor),calc(-3*var(--w)) 0 var(--randColor),calc(-4*var(--w)) 0 var(--randColor), 
        calc(-5*var(--w)) 0 var(--randColor),calc(-6*var(--w)) -10px var(--randColor),calc(-7*var(--w)) 0 var(--randColor),calc(-8*var(--w)) 0 var(--randColor),calc(-9*var(--w)) 0 var(--randColor)}
    72.72% {text-shadow: 
        calc( 0*var(--w)) 0 var(--randColor),calc(-1*var(--w)) 0 var(--randColor),calc(-2*var(--w)) 0 var(--randColor),calc(-3*var(--w)) 0 var(--randColor),calc(-4*var(--w)) 0 var(--randColor), 
        calc(-5*var(--w)) 0 var(--randColor),calc(-6*var(--w)) 0 var(--randColor),calc(-7*var(--w)) -10px var(--randColor),calc(-8*var(--w)) 0 var(--randColor),calc(-9*var(--w)) 0 var(--randColor)}
    81.81% {text-shadow: 
        calc( 0*var(--w)) 0 var(--randColor),calc(-1*var(--w)) 0 var(--randColor),calc(-2*var(--w)) 0 var(--randColor),calc(-3*var(--w)) 0 var(--randColor),calc(-4*var(--w)) 0 var(--randColor), 
        calc(-5*var(--w)) 0 var(--randColor),calc(-6*var(--w)) 0 var(--randColor),calc(-7*var(--w)) 0 var(--randColor),calc(-8*var(--w)) -10px var(--randColor),calc(-9*var(--w)) 0 var(--randColor)}
    90.90% {text-shadow: 
        calc( 0*var(--w)) 0 var(--randColor),calc(-1*var(--w)) 0 var(--randColor),calc(-2*var(--w)) 0 var(--randColor),calc(-3*var(--w)) 0 var(--randColor),calc(-4*var(--w)) 0 var(--randColor), 
        calc(-5*var(--w)) 0 var(--randColor),calc(-6*var(--w)) 0 var(--randColor),calc(-7*var(--w)) 0 var(--randColor),calc(-8*var(--w)) 0 var(--randColor),calc(-9*var(--w)) -10px var(--randColor)}
}

/// Unlimited characters
@keyframes textBobbling {
    100% { transform: translateY(0.1%); }
}

@keyframes textErratic {
    /// Made by Temani Afif
    0%,12.5%  {transform: translate(10px,0);    }
    13%,25%   {transform: translate(4px,-4px);  }
    26%,37.5% {transform: translate(2px,8px);   }
    38%,50%   {transform: translate(12px,-6px); }
    51%,62.5% {transform: translate(0,12px);    }
    63%,75%   {transform: translate(-8px,-4px); }
    76%,86.5% {transform: translate(-12px,6px); }
    87%,100%  {transform: translate(6px,0);     }
}

@keyframes textGlitch {
    /// Made by Temani Afif
    0%,25% {
        text-shadow: 
            0.03px -0.01px 0.01px rgb(255 0 0), 
            0.02px  0.02px 0      rgb(0 255 0), 
           -0.02px  0.02px 0      rgb(0 0 255);
    }
    25%,100% {
        text-shadow: 
            0 0 0 rgb(255 0 0), 
            0 0 0 rgb(0 255 0), 
            0 0 0 rgb(0 0 255);
    }    
}

@keyframes textRotate {
    100% { transform: rotate(1deg); }
}
//#endregion

@keyframes newTile {
    from { transform: scale(0); }
    to   { transform: scale(1); }
}

@keyframes rotateDisk {
    0%   { transform: rotateZ(0deg);   }
    100% { transform: rotateZ(360deg); }
}

@keyframes pulse {
    to { transform: scale(1.5);
         opacity: 0; }
}

@keyframes dialogueOut {
    from { opacity: 1; }
    to   { opacity: 0; }
}

@keyframes characterJump {
    0%   { top: 0px;   }
    25%  { top: 8px;  }
    50%  { top: 0px;   }
    75%  { top: -8px; }
    100% { top: 0px;   }
}

@keyframes characterLeanIn {
    0%   { transform: scale(1);   }
    100% { transform: scale(1.1); }
}

@keyframes characterShake {
    0%   { left: 0px;  }
    25%  { left: 8px;  }
    50%  { left: 0px;  }
    75%  { left: -8px; }
    100% { left: 0px;  }
}

@keyframes characterSwing {
    0%   { transform: scale(0.6) rotate(-5deg);
           margin-left: 10px;
           margin-top: 5px; }
    50%  { transform: scale(0.61) rotate(5deg);
           margin-left: 0px;
           margin-top: 0px; }
    100% { transform: scale(0.6) rotate(-5deg);
           margin-left: 10px;
           margin-top: 5px; }
}

@keyframes characterPeakRight {
    0%   { transform: rotate(0deg); }
    50%  { transform: rotate(-50deg) translateX(-30px); }
    100% { transform: rotate(0deg); }
}

@keyframes characterPeakLeft {
    0%   { transform: rotate(0deg); }
    50%  { transform: rotate(50deg) translateX(30px); }
    100% { transform: rotate(0deg); }
}

@keyframes characterPeakTop {
    50%  { translate: 0px 70px; }
}

@keyframes characterPeakBottom {
    50%  { translate: 0px -70px; }
}

@keyframes shake {
	2% {
		transform: translate(.5px, -1.5px) rotate(-.5deg);
	}

	4% {
		transform: translate(.5px, 1.5px) rotate(1.5deg);
	}

	6% {
		transform: translate(1.5px, 1.5px) rotate(1.5deg);
	}

	8% {
		transform: translate(2.5px, 1.5px) rotate(.5deg);
	}

	10% {
		transform: translate(.5px, 2.5px) rotate(.5deg);
	}

	12% {
		transform: translate(1.5px, 1.5px) rotate(.5deg);
	}

	14% {
		transform: translate(.5px, .5px) rotate(.5deg);
	}

	16% {
		transform: translate(-1.5px, -.5px) rotate(1.5deg);
	}

	18% {
		transform: translate(.5px, .5px) rotate(1.5deg);
	}

	20% {
		transform: translate(2.5px, 2.5px) rotate(1.5deg);
	}

	22% {
		transform: translate(.5px, -1.5px) rotate(1.5deg);
	}

	24% {
		transform: translate(-1.5px, 1.5px) rotate(-.5deg);
	}

	26% {
		transform: translate(1.5px, .5px) rotate(1.5deg);
	}

	28% {
		transform: translate(-.5px, -.5px) rotate(-.5deg);
	}

	30% {
		transform: translate(1.5px, -.5px) rotate(-.5deg);
	}

	32% {
		transform: translate(2.5px, -1.5px) rotate(1.5deg);
	}

	34% {
		transform: translate(2.5px, 2.5px) rotate(-.5deg);
	}

	36% {
		transform: translate(.5px, -1.5px) rotate(.5deg);
	}

	38% {
		transform: translate(2.5px, -.5px) rotate(-.5deg);
	}

	40% {
		transform: translate(-.5px, 2.5px) rotate(.5deg);
	}

	42% {
		transform: translate(-1.5px, 2.5px) rotate(.5deg);
	}

	44% {
		transform: translate(-1.5px, 1.5px) rotate(.5deg);
	}

	46% {
		transform: translate(1.5px, -.5px) rotate(-.5deg);
	}

	48% {
		transform: translate(2.5px, -.5px) rotate(.5deg);
	}

	50% {
		transform: translate(-1.5px, 1.5px) rotate(.5deg);
	}

	52% {
		transform: translate(-.5px, 1.5px) rotate(.5deg);
	}

	54% {
		transform: translate(-1.5px, 1.5px) rotate(.5deg);
	}

	56% {
		transform: translate(.5px, 2.5px) rotate(1.5deg);
	}

	58% {
		transform: translate(2.5px, 2.5px) rotate(.5deg);
	}

	60% {
		transform: translate(2.5px, -1.5px) rotate(1.5deg);
	}

	62% {
		transform: translate(-1.5px, .5px) rotate(1.5deg);
	}

	64% {
		transform: translate(-1.5px, 1.5px) rotate(1.5deg);
	}

	66% {
		transform: translate(.5px, 2.5px) rotate(1.5deg);
	}

	68% {
		transform: translate(2.5px, -1.5px) rotate(1.5deg);
	}

	70% {
		transform: translate(2.5px, 2.5px) rotate(.5deg);
	}

	72% {
		transform: translate(-.5px, -1.5px) rotate(1.5deg);
	}

	74% {
		transform: translate(-1.5px, 2.5px) rotate(1.5deg);
	}

	76% {
		transform: translate(-1.5px, 2.5px) rotate(1.5deg);
	}

	78% {
		transform: translate(-1.5px, 2.5px) rotate(.5deg);
	}

	80% {
		transform: translate(-1.5px, .5px) rotate(-.5deg);
	}

	82% {
		transform: translate(-1.5px, .5px) rotate(-.5deg);
	}

	84% {
		transform: translate(-.5px, .5px) rotate(1.5deg);
	}

	86% {
		transform: translate(2.5px, 1.5px) rotate(.5deg);
	}

	88% {
		transform: translate(-1.5px, .5px) rotate(1.5deg);
	}

	90% {
		transform: translate(-1.5px, -.5px) rotate(-.5deg);
	}

	92% {
		transform: translate(-1.5px, -1.5px) rotate(1.5deg);
	}

	94% {
		transform: translate(.5px, .5px) rotate(-.5deg);
	}

	96% {
		transform: translate(2.5px, -.5px) rotate(-.5deg);
	}

	98% {
		transform: translate(-1.5px, -1.5px) rotate(-.5deg);
	}

	0%, 100% {
		transform: translate(0, 0) rotate(0);
	}
}

@keyframes planComplete {
    0%   { scale: 1; }
    100% { scale: 0.8; }
}

@keyframes yinYangSpin {
  from { rotate: 0deg;        }
  to   { rotate: -3600000deg; }
}

@keyframes knifeShine {
    0% {
        filter:
            drop-shadow(0 0 0.3rem white)
            drop-shadow(0 0 0.8rem #65c9e3)
            drop-shadow(0 0 1.5rem #3baed7);
    }
    15% {
        filter:
            drop-shadow(0 0 0.05rem white)
            drop-shadow(0 0 0.2rem #65c9e3)
            drop-shadow(0 0 0.4rem #3baed7);
    }
    22% {
        filter:
            drop-shadow(0 0 0.1rem white)
            drop-shadow(0 0 0.3rem #65c9e3)
            drop-shadow(0 0 0.6rem #3baed7);
    }
    35% {
        filter:
            drop-shadow(0 0 0.8rem white)
            drop-shadow(0 0 2rem #65c9e3)
            drop-shadow(0 0 3rem #3baed7);
    }
    100% {
        filter:
            drop-shadow(0 0 0.3rem white)
            drop-shadow(0 0 0.8rem #65c9e3)
            drop-shadow(0 0 1.5rem #3baed7);
    }
}
//#endregion


//////////////////// Animations: Settings Design ////////////////////
//#region
@keyframes fadeIn {
    0%   { opacity: 0; }
    100% { opacity: 1; }
}
@keyframes fadeOut {
    0%   { opacity: 1;
           visibility: visible; }
    100% { opacity: 0; }
}

@keyframes shrinkIn {
    0%   { transform: scale(0); }
    100% { transform: scale(1); }
}
@keyframes shrinkOut {
    0%   { transform: scale(1);
           visibility: visible; }
    100% { transform: scale(0) }
}

@keyframes blastingOffOut {
    0%   { visibility: visible;
           transform: scale(1); }
    100% { transform: scale(0);
           translate: 100% -100%; 
           rotate: 1080deg; }
}

@keyframes renderingIn {
    to { clip-path: inset(0 -1ch 0 0); }
}
@keyframes renderingOut {
    from { clip-path: inset(0 -1ch 0 0);
           visibility: visible; }
}
//#endregion


//////////////////// Animations: Do a trick! ////////////////////
//#region
@keyframes spin {
    0%   { transform: rotate(0deg);   }
    100% { transform: rotate(720deg); }
}

@keyframes flip {
	0%   { transform: perspective(400px) rotateY(0);
		   animation-timing-function: ease-out; }
	40%  { transform: perspective(400px) translateZ(150px) rotateY(170deg);
		   animation-timing-function: ease-out; }
	50%  { transform: perspective(400px) translateZ(150px) rotateY(190deg) scale(1);
		   animation-timing-function: ease-in;  }
	80%  { transform: perspective(400px) rotateY(360deg) scale(.95);
		   animation-timing-function: ease-in;  }
	100% { transform: perspective(400px) scale(1);
		   animation-timing-function: ease-in;  }
}

@keyframes hinge {
    0%   { transform: rotate(0);
           transform-origin: top left;
           animation-timing-function: ease-in-out; }  
    20%,
    60%  { transform: rotate(80deg);
           transform-origin: top left;
           animation-timing-function: ease-in-out; }  
    40%  { transform: rotate(60deg);
           transform-origin: top left;
           animation-timing-function: ease-in-out; } 
    80%  { transform: rotate(60deg) translateY(0);
           opacity: 1;
           transform-origin: top left;
           animation-timing-function: ease-in-out; } 
    100% { transform: translateY(700px);
           opacity: 0; }
}
//#endregion


//////////////////// Webkits ////////////////////
//#region
input:-webkit-autofill,
input:-webkit-autofill:hover, 
input:-webkit-autofill:focus, 
input:-webkit-autofill:active {
    -webkit-box-shadow: 0 0 0 0.88em white inset;
}
//#endregion


//////////////////// Media Queries ////////////////////
//#region
@media (pointer: none), (pointer: coarse) {
    #settings-widget {
        #settings-widget-animation {
            opacity: 1;
        }
    }

    #musicplayer-widget {
        #musicplayer-controls-expanded {
            transform: translateY(-10%);
        }    
    }
}

@media screen and (max-width: 613px) {
    .image-cover {
	    &.animation-image-cover {
            top: 20px;
            left: 40px;

            &:hover {
                scale: 1.5;
            }
        }
    }

    #animesearcher-widget {
        #animesearcher-character-information {
	        &.animation-animesearcher-character-information {
                scale: 0.9 !important;
            }
        }
    }

    #translator-widget {
        #translator-image-additions-cunny-code {
            top: 50% !important;
            left: 50% !important;
            transform: translate(-50%);
        }
    }

    #musicplayer-widget {
        #musicplayer-playlist {
            border-radius: 20px 20px 0 0;

            &.musicplayer-playlist-show {
                transform: translate(-10.9em, -18.55em);
            }
        }

        #musicplayer-playlist-length {
            top: 0em;
            right: 10.75em;
            
	        &.musicplayer-playlist-length-show {
                top: -6.7em;
            }
        }

        .musicplayer-knife {
            right: 17.7rem;
            bottom: 15rem;

            &.musicplayer-knife-show {
                right: 16.7rem;
                bottom: 20rem;
            }
        }

        #musicplayer-controls {
            #musicplayer-button-add {
                bottom: 0.6rem;
                
	            &.musicplayer-animation-button-add {
                    right: 0;
                }
            }
        }
    }
}

@media screen and (max-width: 480px) {
    #show-hide-widgets-popout-animation {
        min-height: 17rem !important;
        
        #show-hide-widgets-popout-button-utility,
        #show-hide-widgets-popout-button-games,
        #show-hide-widgets-popout-button-fun {
            grid-template-columns: repeat(2, auto) !important;
        }
    }

    #equipment-widget {
        #equipment-slot-and-stat {
            flex-direction: column;
        }
    }
}
//#endregion